{"version":3,"sources":["images/chatBackground.png","images/chatty.png","images/avatar.png","images/gmail.png","global/style.js","services/getToken.js","actions/authActions.js","screens/Login.js","socketClient.js","actions/chatAction.js","global/consts.js","component/Room.js","services/getMessageTime.js","component/RoomsList.js","component/Message.js","firebaseConfig.js","services/sendPushMessage.js","component/CurrentRoomMessages.js","component/FriendRequest.js","component/Notification.js","actions/notificationAction.js","actions/Drawers/newChatDrawerAction.js","initFirebase.js","services/deleteFcmToken.js","component/Settings.js","actions/Drawers/profileDrawerAction.js","actions/Drawers/addFriendDrawerAction.js","component/MainPanel.js","component/Drawers/NewChatDrawer/Friend.js","component/Drawers/NewChatDrawer/Page1.js","component/Drawers/NewChatDrawer/SelectedFriends.js","component/Drawers/NewChatDrawer/Page2.js","component/SimpleLoader.js","component/Drawers/NewChatDrawer/Page3.js","component/Drawers/NewChatDrawer/NewChatDrawer.js","component/SimpleMenu.js","component/Drawers/ProfileDrawer/ProfileDrawer.js","component/Drawers/AddFriendDrawer/AddFriend.js","component/Drawers/AddFriendDrawer/AddFriendDrawer.js","component/Drawers/MainDrawer.js","component/RoomUsers.js","component/ChatHeader.js","component/TemporaryPrivateChat.js","component/WelcomePage.js","initFcm.js","component/Chat.js","mobileView/mobileDrawer/MenuDrawer.js","mobileView/MobileChatHeader.js","component/ChattyLogo.js","mobileView/MobileChat.js","services/passwordValidation.js","services/LoginFormValidation.js","services/passwordErrMessage.js","screens/Register.js","App.js","serviceWorker.js","reducers/mainReducer.js","reducers/drawerReducer.js","index.js","images/groupAvatar.png"],"names":["module","exports","MainContainer","styled","div","background","width","height","getToken","localStorage","getItem","logInUser","userData","dispatch","a","currentUser","friends","friendRequests","pendingRequests","setItem","token","type","err","console","log","logOutUser","options","headers","Authorization","axios","post","removeItem","changeAvatar","imgUrl","useStyles","makeStyles","theme","root","display","justifyContent","alignContent","image","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","margin","spacing","flexDirection","alignItems","avatar","form","marginTop","submit","input","borderColoer","connect","state","classes","formik","useFormik","initialValues","email","password","validate","values","onSubmit","submitForm","enqueueSnackbar","useSnackbar","res","status","data","window","location","pathname","response","message","variant","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","style","isMobileOnly","Avatar","Typography","handleSubmit","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","handleChange","value","Button","color","to","Box","mt","socket","socketIo","getRooms","roomsAsync","get","promises","timeOutPromise","Promise","all","rooms","chagneCurrentRoomChat","room","addMessage","roomId","time","resolve","setTimeout","STORAGE_URL","padding","borderBottom","ChatAvatarContainer","paddingLeft","paddingRight","img","borderRadius","MessageBody","MessageText","overflow","whiteSpace","textOverflow","RoomNameTimeContainer","Time","fontSize","RoomName","fontWeight","currentRoomChat","mainReducer","currentUserId","_id","useState","whoIsTyping","setWhoIsTyping","messages","lastMessage","length","useEffect","on","from","ListItem","button","onClick","emit","src","is_private_chat","otherUser","users","find","user","defaultAvatar","defaultGroupAvatar","getAvatar","onError","e","target","dateNow","moment","format","dateNowDay","slice","dateNowRestOfString","messageDay","sent_date","messageRestOfString","roomDay","created_date","roomRestOfString","sent_time","getMessageTime","sender","text","Rooms","marginLeft","borderBottomLeftRadius","overflowY","filter","getRoomName","toLowerCase","includes","map","key","Sender","MessageContianer","flexWrap","i","isMyMessage","marginBottom","wordWrap","marginRight","maxWidth","scroll","scrollToBottom","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","fromUser","siteUrl","fcmToken","body","notification","title","click_action","Messages","backgroundImage","backgroundImg","backgroundRepeat","boxShadow","FooterMessagesContainer","borderBottomRightRadius","MessageInput","outline","border","EmojisKeyboard","SendButton","cursor","SendButtonContainer","messageTextInputVal","setMessageTextInputVal","inputVal","sendMessage","trim","sendPushMessage","containerId","duration","delay","scrollMore","placeholder","onKeyDown","keyCode","menuContainer","green","red","FriendRequestContainer","Email","AvatarContainer","friendRequest","MenuItem","flex","CheckCircle","Cancel","position","RequestNumber","top","right","maxHeight","addPendingRequest","friend","removePendingRequestAndUpdateFriends","removePendingRequest","friendId","addFriendRequest","removeFriendRequestAndUpdateFriends","removeFriendRequest","React","anchorEl","setAnchorEl","aria-controls","aria-haspopup","event","currentTarget","Menu","keepMounted","open","Boolean","onClose","anchorOrigin","vertical","horizontal","getContentAnchorEl","openDrawer","firebase","messaging","isSupported","initializeApp","initFirebase","deleteToken","put","SettingsContainer","Setting","textAlign","userFriends","openNewChatDrawer","openProfileDrawer","openAddFriendDrawer","history","useHistory","handleClose","drawer","logOut","deleteFcmToken","push","borderRight","borderTopLeftRadius","zIndex","ButtonContainer","UserAvatar","alignSelf","PersonAdd","FriendContainer","ContactName","newChatDrawerPage","drawerReducer","newChat","page","selectFriend","closeNewChatDrawer","openTemporaryPrivateChat","receiver","handleClick","privateMessage","private_chat_id","textDecoration","keyframes","NewGroupContainer","ImgContainer","NewGroupText","FriendsContainer","FriendsHeader","h3","hr","opacity","nextPage","prevPage","sort","b","localeCompare","MainContiner","UserImg","Text","span","UnSelect","unselectFriend","ArrowForwardIcon","Input","NextPageContainer","SelectedFriendsContainer","SelectedFriendsList","AllFriends","AllFriendsContainer","selectedFriends","allFriends","setFilter","startsWith","Loader","borderTop","animationName","spin","animationDuration","animationTimingFunction","animationIterationCount","transform","SimpleLoader","doneIcon","arrowBackIcon","groupIcon","BodyContainer","FooterContainer","InputContainer","GroupImgContainer","GroupImg","LengthCounter","Label","ImgText","ImgTextContainer","showImgText","GroupAvatar","LoaderContainer","closeDrawer","file","setFile","roomName","setRoomName","setShowImgText","isSent","setIsSent","isLoader","setIsLoader","createRoomChat","isPrivateChat","newRoom","uploadImage","formData","FormData","append","for","onMouseLeave","URL","createObjectURL","onMouseEnter","files","maxLength","whichPage","removeAvatar","anchor","closeMenu","deleteProfileImg","delete","htmlFor","editMode","UploadImgContainer","hasAvatar","EditNameContainer","PersonIconContainer","paddingTop","NameHeader","NameInfoContainer","EditContainer","paddingBottom","changeUserName","setAnchor","setInuputVal","isEditMode","setIsEditMode","changeProfileAvatar","url","changeName","openMenuForMobile","Person","Edit","InfoContainer","Name","sendFriendRequest","deleteFriendRequest","IconButton","request","myFriend","setInputVal","matchedUsers","setMatchedUsers","searchUser","trimInputVal","InputBase","iconButton","aria-label","openDrawerAnimation","closeDrawerAnimation","left","DrawerContainer","isDrawerOpen","HeaderContainer","TextHeader","isNewChatDrawerOpen","isProfileDrawerOpen","profile","isAddFriendDrawerOpen","addFriend","closeProfileDrawer","closeAddFriendDrawer","RoomUsersContainer","borderTopRightRadius","RoomInfoContainer","Typing","isOnline","temporaryPrivateChat","closeTemporaryPrivateChat","createNewPrivateChat","newPrivateChat","Error","initAndOpenPrivateChatRoom","github","whatsapp","MessagesContainer","Logo","LogoContainer","LogoText","fontFamily","Welcome","Link","Links","Paragraph","p","GuideTextContainer","TextContainer","textAling","BreakLine","GamilImg","WelcomePage","ChattyLogo","href","gmailIcon","userOldFcmToken","requestPermission","onMessage","payload","ChatContainer","LeftContainer","minWidth","SearchChatContainer","SearchChatInput","RightContainer","isAuth","initFcm","list","userAvatar","userName","logoutBtn","currentUserAvatar","drawerConfig","setDrawerConfig","toggleDrawer","handleRouteClick","path","logOutMe","Drawer","role","List","ListItemText","primary","Divider","ListItemIcon","Header","LeftIconContainer","NotificationContainer","SettingContainer","animation","logo","ViewContainer","loading","scrollTo","schema","passwordValidator","is","min","max","has","uppercase","lowercase","digits","not","spaces","errors","passwordValidation","errMessage","errList","forEach","passwordErrMessage","test","Register","LoginFormValidation","touched","error","onBlur","handleBlur","justify","isAuthenticated","openLoader","maxSnack","exact","render","MobileChat","Chat","Login","hostname","match","initState","isLoggedIn","action","aTime","last_message_sent_time","created_time_in_number","currentRoom","req","groupName","navigator","serviceWorker","register","then","registration","scope","catch","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","App","document","getElementById","ready","unregister"],"mappings":"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","file":"static/js/main.58b1ddb4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/chatBackground.0ae3ba58.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA2LTE4VDE3OjM5OjIxKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA2LTE4VDE3OjM5OjIxKzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0xOFQxNzozOToyMSswMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NTRkNzdlZC01NDcyLTQ3NDQtYWE3ZS1jNzNhNTcxNjBhOTkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMGU1MmViNy1mZmJkLTQxNDQtYjI3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\"","module.exports = __webpack_public_path__ + \"static/media/avatar.e67e358c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJT2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmI0NzRlYzI1LWE2MTgtZTM0ZC1iNjBmLTVjZjIwNTU3OGNiYiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3OGExYWJkMC01YzZmLWQ4NDMtYjIyZS02MzljYjg4OTFiMDYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iMDZGMzJBNUJFQUE0RkI1NUE1MTJDM0I0NEJCNDc5QzAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iIiB0aWZmOkltYWdlV2lkdGg9IjgyMCIgdGlmZjpJbWFnZUxlbmd0aD0iNTAwIiB0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249IjIiIHRpZmY6U2FtcGxlc1BlclBpeGVsPSIzIiB0aWZmOlhSZXNvbHV0aW9uPSI5Ni8xIiB0aWZmOllSZXNvbHV0aW9uPSI5Ni8xIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkV4aWZWZXJzaW9uPSIwMjIxIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iODIwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iNTAwIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wOC0wNlQxMToyMDo0MyswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Zjg0ODc1My05ZjlmLWI5NDEtOTc3MC1kMzYxMDM3YWFjNzMiIHN0RXZ0OndoZW49IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJv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\"","import styled from 'styled-components'\r\nimport React from 'react'\r\n\r\nexport const MainContainer = styled.div({\r\n    background: 'linear-gradient(#e66465, #9198e5)',\r\n    width: '100%',\r\n    height: '100%'\r\n})","export const getToken = () => {\r\n    return localStorage.getItem(\"token\")\r\n}\r\n\r\n","import axios from 'axios'\r\nimport { getToken } from '../services/getToken'\r\nexport const LOGIN_USER = 'LOGIN_USER'\r\nexport const LOGOUT_USER = 'LOGOUT_USER'\r\nexport const AUTHENTICATED_USER = 'AUTHENTICATED_USER'\r\nexport const NOT_AUTHENTICATED_USER = 'NOT_AUTHENTICATED_USER'\r\nexport const CHANGE_AVATAR = 'CHANGE_AVATAR'\r\nexport const CHANGE_NAME = 'CHANGE_NAME'\r\n\r\nexport const logInUser = (userData) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            const { currentUser, friends, friendRequests, pendingRequests } = userData\r\n            localStorage.setItem('token', currentUser.token)\r\n            dispatch({ type: LOGIN_USER, currentUser, friends, friendRequests, pendingRequests })\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\nexport const logOutUser = () => {\r\n    return async (dispatch) => {\r\n        const token = getToken()\r\n        const options = {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n        await axios.post(`/users/me/logout`, {}, options)\r\n        localStorage.removeItem('token')\r\n        dispatch({ type: LOGOUT_USER })\r\n    }\r\n}\r\n\r\nexport const isAuthenticated = () => {\r\n    return async (dispatch) => {\r\n        const token = getToken()\r\n        const options = {\r\n            headers: {\r\n                Authorization: `Bearer ${token}`\r\n            }\r\n        }\r\n        try {\r\n            const res = await axios.get('/auth', options)\r\n            const { _id, name, email, avatar, token, fcmToken,\r\n                rooms, friends, friendRequests, pendingRequests\r\n            } = res.data\r\n            if (res.status === 200) {\r\n                dispatch({\r\n                    type: AUTHENTICATED_USER,\r\n                    currentUser: {\r\n                        _id,\r\n                        avatar,\r\n                        name,\r\n                        email,\r\n                        token,\r\n                        rooms,\r\n                        fcmToken\r\n                    },\r\n                    friends,\r\n                    friendRequests,\r\n                    pendingRequests\r\n                })\r\n            }\r\n            else\r\n                dispatch({ type: NOT_AUTHENTICATED_USER })\r\n        }\r\n        catch (err) {\r\n            dispatch({ type: NOT_AUTHENTICATED_USER })\r\n        }\r\n    }\r\n}\r\n\r\nexport const changeAvatar = (imgUrl) => {\r\n    return { type: CHANGE_AVATAR, imgUrl }\r\n}\r\n\r\nexport const changeUserName = (name) => {\r\n    return { type: CHANGE_NAME, name }\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport {\r\n  makeStyles, Avatar, Button, CssBaseline, TextField, Paper, Box, Grid, Typography\r\n} from '@material-ui/core';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport { connect } from 'react-redux'\r\nimport { logInUser } from '../actions/authActions';\r\nimport axios from 'axios';\r\nimport { Link } from 'react-router-dom';\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport { useSnackbar } from 'notistack';\r\nimport { useFormik } from 'formik';\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  image: {\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: '#357951',\r\n  },\r\n  form: {\r\n    width: '100%',\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    background: '#357951',\r\n    '&:hover': {\r\n      backgroundColor: '#34C16C',\r\n    }\r\n  },\r\n  input: {\r\n    '&$focused': {\r\n      borderColoer: '#34C16C',\r\n    },\r\n  }\r\n}));\r\n\r\nconst Login = ({ logInUser }) => {\r\n  const classes = useStyles();\r\n  // const [email, setEmail] = useState('')\r\n  // const [password, setPassword] = useState('')\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: '',\r\n      password: '',\r\n    },\r\n    validate: values => {\r\n      // const errors = {};\r\n      // if (!values.email) {\r\n      //   errors.email = 'Required';\r\n      // } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n      //   errors.email = 'Invalid email address';\r\n      // }\r\n      // return errors\r\n    },\r\n    onSubmit: (values) => submitForm(values),\r\n  });\r\n\r\n  const { enqueueSnackbar } = useSnackbar();\r\n\r\n  const handleClickVariant = (message, variant) => {\r\n    enqueueSnackbar(message, { variant });\r\n  };\r\n\r\n  const submitForm = async (values) => {\r\n    try {\r\n      const res = await axios.post(`/users/login`, values)\r\n      if (res.status === 200) {\r\n        logInUser(res.data)\r\n        window.location.pathname = '/'\r\n      }\r\n    }\r\n    catch (err) {\r\n      console.log(err.response.data)\r\n      handleClickVariant(err.response.data, 'error')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <Grid item xs={12} sm={8} md={4} component={Paper} elevation={6} square\r\n        style={{ height: isMobileOnly ? '100%' : null }}\r\n      >\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">Sign in</Typography>\r\n\r\n          <form className={classes.form} onSubmit={formik.handleSubmit}>\r\n\r\n            <TextField\r\n              className={classes.input}\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              type='email'\r\n              autoFocus\r\n              onChange={formik.handleChange}\r\n              value={formik.values.email}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={formik.handleChange}\r\n              value={formik.values.password}\r\n\r\n            />\r\n\r\n            <Button\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n              type='submit'\r\n            >\r\n              Sign In\r\n            </Button>\r\n\r\n            <Grid container>\r\n              <Grid item xs>\r\n                {/* <Link href=\"#\" variant=\"body2\" style={{ color: '#357951' }}>\r\n                  Forgot password?\r\n                </Link> */}\r\n              </Grid>\r\n              <Grid item>\r\n                <Link to='/register' style={{ color: '#357951' }}>\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n            <Box mt={5}>\r\n            </Box>\r\n          </form>\r\n        </div>\r\n      </Grid>\r\n    </Grid >\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    logInUser: (userData) => { dispatch(logInUser(userData)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import { getToken } from './services/getToken';\r\nimport socketIo from 'socket.io-client';\r\n\r\nconst token = getToken()\r\nconst socket = socketIo('', {\r\n    'query': 'token=' + token,\r\n})\r\n\r\nexport default socket\r\n","import axios from 'axios'\r\nimport { isMobileOnly } from 'react-device-detect'\r\nimport { getToken } from '../services/getToken'\r\n\r\nexport const GET_ROOMS = 'GET_ROOMS'\r\nexport const CURRENT_ROOM_CHAT = 'CURRENT_ROOM_CHAT'\r\nexport const ADD_MESSAGE = 'ADD_MESSAGE'\r\nexport const LOADING = 'LOADING'\r\nexport const OPEN_TEMPORARY_PRIVATE_CHAT = 'OPEN_TEMPORARY_PRIVATE_CHAT'\r\nexport const CLOSE_TEMPORARY_PRIVATE_CHAT = 'CLOSE_TEMPORARY_PRIVATE_CHAT'\r\nexport const MESSAGE_TEXT_INPUT_VALUE = 'MESSAGE_TEXT_INPUT_VALUE'\r\n\r\nexport const getRooms = () => {\r\n    return async (dispatch) => {\r\n        const options = {\r\n            headers: {\r\n                Authorization: `Bearer ${getToken()}`\r\n            }\r\n        }\r\n        const roomsAsync = axios.get('/user/rooms', options)\r\n        const promises = [roomsAsync, timeOutPromise()]\r\n        const data = await Promise.all(promises)\r\n        const rooms = data[0].data\r\n        dispatch({ type: GET_ROOMS, rooms: rooms })\r\n    }\r\n}\r\nexport const chagneCurrentRoomChat = (room) => {\r\n    return { type: CURRENT_ROOM_CHAT, room }\r\n}\r\nexport const addMessage = (message, roomId) => {\r\n    return { type: ADD_MESSAGE, message, roomId }\r\n}\r\nexport const openLoader = () => {\r\n    return { type: LOADING }\r\n}\r\nexport const openTemporaryPrivateChat = (receiver) => {\r\n    return { type: OPEN_TEMPORARY_PRIVATE_CHAT, receiver }\r\n} \r\nexport const closeTemporaryPrivateChat = () => {\r\n    return { type: CLOSE_TEMPORARY_PRIVATE_CHAT }\r\n} \r\nexport const setMessageTextInputVal = (inputVal) => {\r\n    return { type: MESSAGE_TEXT_INPUT_VALUE, inputVal }\r\n} \r\nfunction timeOutPromise() {\r\n    const time = isMobileOnly? 1500 : 0\r\n\r\n    return new Promise((resolve) => {\r\n        setTimeout(() => {\r\n            resolve()\r\n        }, time);\r\n    })\r\n}\r\n","export const STORAGE_URL = 'https://storage.googleapis.com/chatty-bucket/'","import React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { makeStyles,ListItem } from '@material-ui/core';\r\nimport defaultAvatar from '../images/avatar.png'\r\nimport defaultGroupAvatar from '../images/groupAvatar.png'\r\nimport { connect } from 'react-redux'\r\nimport { chagneCurrentRoomChat } from '../actions/chatAction';\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport socket from '../socketClient';\r\nimport { STORAGE_URL } from '../global/consts';\r\nimport getMessageTime from '../services/getMessageTime';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n    item: {\r\n        height: 60,\r\n        width: '100%',\r\n        display: 'flex',\r\n        flexDirection: 'row',\r\n        padding: '8px 5px',\r\n        borderBottom: isMobileOnly ? '0.5px inset #E3E3E3' : null,\r\n    }\r\n}));\r\nconst SearchInput = styled.input({\r\n    width: '100%',\r\n    height: '50%',\r\n})\r\nconst ChatAvatarContainer = styled.div({\r\n    height: '100%',\r\n    width: '45px',\r\n    paddingLeft: 2,\r\n    paddingRight: 2,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40, height: 40, borderRadius: '50%'\r\n})\r\nconst MessageBody = styled.div({\r\n    height: '100%',\r\n    width: '80%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    paddingLeft: '2px',\r\n    paddingRight: '2px',\r\n    justifyContent: 'center',\r\n})\r\nconst MessageText = styled.div({\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis'\r\n})\r\nconst RoomNameTimeContainer = styled.div({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    width: '100%',\r\n})\r\nconst Time = styled.div({\r\n    width: '20%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignContent: 'flex-end',\r\n    fontSize: 10\r\n})\r\nconst RoomName = styled.div({\r\n    width: '80%',\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n    fontWeight:500\r\n})\r\n\r\n\r\nconst Room = ({ room, currentRoomChat, chagneCurrentRoomChat, currentUserId }) => {\r\n    const [whoIsTyping, setWhoIsTyping] = useState(null)\r\n\r\n    const classes = useStyles();\r\n\r\n    const messages = room.messages\r\n    const lastMessage = messages[messages.length - 1]\r\n\r\n    useEffect(() => {\r\n        socket.on('typing', (from, to) => {\r\n            if (room._id === to) {\r\n                setWhoIsTyping(from)\r\n            }\r\n        })\r\n        socket.on('stopped_typing', (to) => {\r\n            if (room._id === to) {\r\n                setWhoIsTyping(null)\r\n            }\r\n        })\r\n    }, [])\r\n\r\n    const getRoomName = () => {\r\n        if (room.is_private_chat) {\r\n            const otherUser = room.users.find(user => user._id !== currentUserId)\r\n            return otherUser.name\r\n        }\r\n        return room.name\r\n    }\r\n    const getSenderName = () => {\r\n        if (messages.length && !room.is_private_chat) {\r\n            return lastMessage.sender.name + \": \"\r\n        }\r\n        return null\r\n    }\r\n    const getAvatar = () => {\r\n        if (room.is_private_chat) {\r\n            const otherUser = room.users.find(user => user._id !== currentUserId)\r\n            return otherUser.avatar ? STORAGE_URL + otherUser.avatar : defaultAvatar\r\n        }\r\n        return room.avatar ? STORAGE_URL + room.avatar : defaultGroupAvatar\r\n    }\r\n\r\n    const changeRoomChat = () => {\r\n        if (currentRoomChat) {\r\n            socket.emit('stopped_typing', currentRoomChat._id)\r\n        }\r\n        chagneCurrentRoomChat(room)\r\n    }\r\n\r\n    return (\r\n\r\n        <ListItem button className={classes.item} onClick={changeRoomChat}>\r\n            <ChatAvatarContainer>\r\n                <Avatar src={getAvatar()} onError={(e) => e.target.src = defaultAvatar} />\r\n            </ChatAvatarContainer>\r\n            <MessageBody>\r\n                <RoomNameTimeContainer>\r\n                    <RoomName>{getRoomName()}</RoomName>\r\n                    <Time>{getMessageTime(messages, lastMessage, room)}</Time>\r\n                </RoomNameTimeContainer>\r\n                <MessageText>\r\n                    <span><b>{whoIsTyping ? `${whoIsTyping} typing...` : getSenderName()}</b></span>\r\n                    <span>{messages.length && !whoIsTyping ? lastMessage.text : null}</span>\r\n                </MessageText>\r\n            </MessageBody>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUserId: state.mainReducer.currentUser._id,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        chagneCurrentRoomChat: (room) => { dispatch(chagneCurrentRoomChat(room)) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Room)","import moment from 'moment'\r\n\r\nexport default (messages, lastMessage, room) => {\r\n\r\n    const dateNow = moment().format('DD/MM/YYYY')\r\n    const dateNowDay = dateNow.slice(0, 2) \r\n    const dateNowRestOfString = dateNow.slice(2)\r\n    const messageDay = lastMessage? lastMessage.sent_date.slice(0, 2) : ''\r\n    const messageRestOfString = lastMessage? lastMessage.sent_date.slice(2) : ''\r\n    const roomDay = room.created_date.slice(0, 2)\r\n    const roomRestOfString = room.created_date.slice(2)\r\n\r\n    if (messages.length) {\r\n        if (dateNow === lastMessage.sent_date) {\r\n            return lastMessage.sent_time\r\n        }\r\n        if (dateNowDay - messageDay === 1 && dateNowRestOfString === messageRestOfString) {\r\n            return 'Yesterday'\r\n        }\r\n        return lastMessage.sent_date\r\n    }\r\n\r\n    if (dateNowDay - roomDay === 1 && dateNowRestOfString === roomRestOfString) {\r\n        return 'Yesterday'\r\n    }\r\n    return room.created_date\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport Room from './Room.js';\r\nimport { connect } from 'react-redux'\r\nimport { getRooms } from '../actions/chatAction.js';\r\nimport socket from '../socketClient'\r\nimport { isMobileOnly } from \"react-device-detect\";\r\n\r\nconst Rooms = styled.div({\r\n    width: isMobileOnly ? '95%' : '100%',\r\n    marginLeft: isMobileOnly ? 10 : null,\r\n    height: isMobileOnly ? null : 'calc(100% - 110px)',\r\n    borderBottomLeftRadius: 5,\r\n    background: '#FFFFFF',\r\n    overflowY: 'scroll',\r\n    ':: -webkit-scrollbar': {\r\n        display: 'none',\r\n    }\r\n})\r\n\r\nconst RoomsList = ({ rooms, filter, currentUserId, getRooms }) => {\r\n    useEffect(() => {\r\n        socket.on('room_created', async (roomId) => {\r\n            await getRooms()\r\n            socket.emit('join_created_room', roomId)\r\n        })\r\n    }, [])\r\n\r\n\r\n    const getRoomName = (room) => {\r\n        if (room.is_private_chat) {\r\n            const otherUser = room.users.find(user => user._id !== currentUserId)\r\n            return otherUser.name\r\n        }\r\n        return room.name\r\n    }\r\n\r\n    const filterChats = () => {\r\n        return rooms\r\n            .filter(\r\n                room => filter && filter != '' ?\r\n                    getRoomName(room).toLowerCase().includes(filter.toLowerCase())\r\n                    :\r\n                    true\r\n            )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Rooms>\r\n                {filterChats().map(room => room? <Room key={room._id} room={room} /> : null)}\r\n            </Rooms>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        rooms: state.mainReducer.rooms,\r\n        currentUserId: state.mainReducer.currentUser._id,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getRooms: () => { dispatch(getRooms()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomsList)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { animateScroll as scroll } from 'react-scroll'\r\n\r\nconst Time = styled.div({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n})\r\nconst Sender = styled.div({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    fontWeight:700\r\n})\r\nconst MessageContianer = styled.div({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    paddingLeft: '20px',\r\n    paddingRight: '10px',\r\n    marginTop: ({ i }) => i == 0 ? '10px' : null,\r\n    justifyContent: ({ isMyMessage }) => isMyMessage ? 'flex-end' : 'flex-start',\r\n})\r\nconst MessageText = styled.div({\r\n    marginTop: 2,\r\n    marginBottom: 2,\r\n    wordWrap: 'break-word',\r\n    background: ({ isMyMessage }) => isMyMessage ? '#ccf2ae' : 'white',\r\n    padding: '2px 10px',\r\n    marginRight: '5px',\r\n    width: 'fit-content',\r\n    borderRadius: '10px',\r\n    maxWidth: '75%',\r\n})\r\nconst Message = ({ message, currentRoomChat, i, isMyMessage }) => {\r\n\r\n    const isMultipuleMessageFromSameUser = () => {\r\n        if (i === 0) {\r\n            return false;\r\n        }\r\n        if (currentRoomChat.messages[i - 1].sender._id === message.sender._id) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <MessageContianer i={i} isMyMessage={isMyMessage} onClick={() => scroll.scrollToBottom()}>\r\n            <MessageText isMyMessage={isMyMessage}>\r\n                {!isMultipuleMessageFromSameUser() ? <Sender>{message.sender.name}: </Sender> : null}\r\n                <div>\r\n                    <span>{message.text}</span>\r\n                    <Time>{message.sent_time} </Time>\r\n                </div>\r\n            </MessageText>\r\n        </MessageContianer >\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUser: state.mainReducer.currentUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Message)","\t\r\n    const firebaseConfig = {\r\n        apiKey: \"AIzaSyA6Ur8Xnsy1o62-DA7D66uPkq0cv3idMHQ\",\r\n        authDomain: \"chatty-9b0a0.firebaseapp.com\",\r\n        databaseURL: \"https://chatty-9b0a0.firebaseio.com\",\r\n        projectId: \"chatty-9b0a0\",\r\n        storageBucket: \"chatty-9b0a0.appspot.com\",\r\n        messagingSenderId: \"1022307061890\",\r\n        appId: \"1:1022307061890:web:87fb028666b1009d1b249b\",\r\n        measurementId: \"G-TL1523FMPN\"\r\n    };\r\n    \r\n    const serverKey ='AAAA7gY_0II:APA91bGhE43SkOQEpzZGQLmNBwIx0JwgAj2girtTTi-tNC5ZLJLBkfWkfcu-bafIswxlmYOS2EI8D9U9o1QGH7hx-uZYl49aMLXEtQNI17e3dS9MXRMAbnF287TVsV_wdD6WhkUytjx9'\r\n\r\n    export {\r\n        firebaseConfig,\r\n        serverKey\r\n    }","import axios from 'axios'\r\nimport { serverKey } from '../firebaseConfig'\r\n\r\nexport default (fromUser, message, to) => {\r\n\r\n    let siteUrl\r\n    if (process.env.NODE_ENV == 'production') {\r\n        siteUrl = 'https://chatty-cu.herokuapp.com/chat'\r\n    }\r\n    else {\r\n        siteUrl = 'http://localhost:3000/chat'\r\n    }\r\n\r\n    const url = `https://fcm.googleapis.com/fcm/send`\r\n    const headers = {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'key=' + serverKey\r\n    }\r\n  \r\n\r\n    for (let user of to) {\r\n        if (user._id != fromUser._id && user.fcmToken) {\r\n            const body = {\r\n                to: user.fcmToken,\r\n                notification: {\r\n                    title: message,\r\n                    body: \"From: \" + fromUser.name,\r\n                    click_action: siteUrl,\r\n                    // icon: fromUser.avatar? fromUser.avatar : chattyLogo \r\n                }\r\n            }\r\n            axios.post(url, body, { headers })\r\n        }\r\n    }\r\n\r\n}","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport Message from './Message'\r\nimport { animateScroll as scroll } from 'react-scroll'\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport socket from '../socketClient'\r\nimport { isMobileOnly } from 'react-device-detect'\r\nimport { setMessageTextInputVal } from '../actions/chatAction'\r\nimport backgroundImg from '../images/chatBackground.png'\r\nimport sendPushMessage from '../services/sendPushMessage'\r\n\r\nconst Messages = styled.div({\r\n    width: '100%',\r\n    height: isMobileOnly ? 'calc(100% - 60px)' : 'calc(100% - 60px - 60px)',\r\n    background: '#D9D9D9',\r\n    overflowY: 'auto',\r\n    backgroundImage: `url(${backgroundImg})`,\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    boxShadow: 'inset 0px 19px 18px -27px rgba(0,0,0,0.46)',\r\n    ':: -webkit-scrollbar': {\r\n        width: 10\r\n    },\r\n    ':: -webkit-scrollbar-track': {\r\n        background: '#D9D9D9'\r\n    },\r\n    ':: -webkit-scrollbar-thumb': {\r\n        background: '#888'\r\n    },\r\n    ':: -webkit-scrollbar-thumb: hover': {\r\n        background: '#555'\r\n    }\r\n\r\n})\r\n\r\nconst FooterMessagesContainer = styled.div({\r\n    height: 60,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    background: '#f1ededba',\r\n    borderBottomRightRadius: isMobileOnly ? null : 10\r\n})\r\n\r\nconst MessageInput = styled.input({\r\n    fontSize: 14,\r\n    paddingLeft: 10,\r\n    paddingRight: 5,\r\n    width: '80%',\r\n    height: 40,\r\n    borderRadius: 30,\r\n    outline: 'none',\r\n    border: 'none'\r\n})\r\n\r\nconst EmojisKeyboard = styled.div({\r\n    width: '10%'\r\n})\r\nconst SendButton = styled.div({\r\n    cursor: 'pointer',\r\n    display: ({ display }) => display == 0 ? 'none' : 'flex',\r\n})\r\nconst SendButtonContainer = styled.div({\r\n    width: '10%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\n\r\nconst CurrentRoomMessages = ({ currentRoomChat, currentUser, messageTextInputVal,\r\n    setMessageTextInputVal }) => {\r\n\r\n    const roomId = currentRoomChat._id\r\n\r\n    const inputHandler = (e) => {\r\n        setMessageTextInputVal(e.target.value)\r\n        socket.emit('typing', currentUser.name, currentRoomChat._id)\r\n    }\r\n\r\n    const sendMessage = () => {\r\n        if (messageTextInputVal.trim() !== '') {\r\n            socket.emit('send_message', {\r\n                from: currentUser._id,\r\n                to: currentRoomChat._id,\r\n                message: messageTextInputVal\r\n            })\r\n            setMessageTextInputVal('')\r\n            socket.emit('stopped_typing', currentRoomChat._id)\r\n            sendPushMessage(currentUser, messageTextInputVal, currentRoomChat.users)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setMessageTextInputVal('')\r\n        socket.emit('stopped_typing', currentRoomChat._id)\r\n    }, [currentRoomChat])\r\n\r\n    useEffect(() => {\r\n        scroll.scrollToBottom({\r\n            containerId: roomId,\r\n            duration: 0\r\n        })\r\n    }, [roomId])\r\n\r\n    useEffect(() => {\r\n        scroll.scrollToBottom({\r\n            containerId: currentRoomChat._id,\r\n            duration: 300,\r\n            delay: 25\r\n        })\r\n        scroll.scrollMore(500000)\r\n\r\n    }, [currentRoomChat.messages])\r\n\r\n    useEffect(() => {\r\n        if (messageTextInputVal.length == 0) {\r\n            socket.emit('stopped_typing', currentRoomChat._id)\r\n        }\r\n    }, [messageTextInputVal])\r\n\r\n    return (\r\n        <>\r\n            <Messages id={roomId}>\r\n                {\r\n                    currentRoomChat && currentRoomChat.messages ?\r\n                        currentRoomChat.messages.map((message, i) =>\r\n                            <Message key={message._id}\r\n                                i={i}\r\n                                message={message}\r\n                                isMyMessage={currentUser._id == message.sender._id}\r\n                            />\r\n                        )\r\n                        : null\r\n                }\r\n            </Messages>\r\n            <FooterMessagesContainer>\r\n                <EmojisKeyboard></EmojisKeyboard>\r\n                <MessageInput\r\n                    onChange={inputHandler}\r\n                    value={messageTextInputVal}\r\n                    placeholder='Type a message'\r\n                    onKeyDown={(e) => e.keyCode == 13 ? sendMessage() : null}\r\n                />\r\n                <SendButtonContainer>\r\n                    <SendButton display={messageTextInputVal.length} onClick={sendMessage}>\r\n                        <SendIcon />\r\n                    </SendButton>\r\n                </SendButtonContainer>\r\n            </FooterMessagesContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUser: state.mainReducer.currentUser,\r\n        messageTextInputVal: state.mainReducer.messageTextInputVal,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        setMessageTextInputVal: (inputVal) => { dispatch(setMessageTextInputVal(inputVal)) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentRoomMessages)","import React from 'react'\r\nimport { MenuItem, makeStyles } from '@material-ui/core'\r\nimport socket from '../socketClient'\r\nimport styled from 'styled-components'\r\nimport defaultAvatar from '../images/avatar.png'\r\nimport { STORAGE_URL } from '../global/consts'\r\nimport { CheckCircle as CheckCircleIcon, Cancel as CancelIcon } from '@material-ui/icons';\r\nimport sendPushMessage from '../services/sendPushMessage'\r\nimport { connect } from 'react-redux'\r\n\r\nconst useStyles = makeStyles({\r\n    menuContainer: {\r\n        padding: '5px 10px'\r\n    },\r\n    green: {\r\n        color: '#0ebf0e',\r\n        '&:hover': {\r\n            color: '#2ba12b',\r\n        }\r\n    },\r\n    red: {\r\n        color: 'red',\r\n        '&:hover': {\r\n            color: '#c53232',\r\n        }\r\n    }\r\n})\r\nconst FriendRequestContainer = styled.div({\r\n    display: 'flex', width: '100%', alignItems: 'center',\r\n})\r\nconst Email = styled.div({\r\n    fontSize: 13,\r\n    fontWeight: 500,\r\n})\r\nconst AvatarContainer = styled.div({\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: 10\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: '50%'\r\n})\r\nconst Button = styled.div({\r\n    display: 'flex', justifyContent: 'center'\r\n})\r\n\r\nconst FriendRequest = ({ friendRequest, currentUser }) => {\r\n    \r\n    const classes = useStyles();\r\n    const approveFriend = () => {\r\n        socket.emit('approve_friend', friendRequest._id)\r\n        const message = `you and ${currentUser.name} are now friends (:`\r\n        sendPushMessage(currentUser, message, [friendRequest])\r\n    }\r\n\r\n    const declineFriend = () => {\r\n        socket.emit('decline_friend', friendRequest._id)\r\n    }\r\n\r\n    return (\r\n        <MenuItem className={classes.menuContainer}>\r\n            <FriendRequestContainer>\r\n                <AvatarContainer>\r\n                    <Avatar src={friendRequest.avatar ? STORAGE_URL + friendRequest.avatar : defaultAvatar}\r\n                        onError={(e) => e.target.src = defaultAvatar}\r\n                    />\r\n                </AvatarContainer>\r\n                <div style={{ flex: 1, }}>\r\n                    <div>{friendRequest.name}</div>\r\n                    <Email>{friendRequest.email}</Email>\r\n                </div>\r\n                <Button onClick={approveFriend}>\r\n                    <CheckCircleIcon className={classes.green} />\r\n                </Button>\r\n                <Button onClick={declineFriend}>\r\n                    <CancelIcon className={classes.red} />\r\n                </Button>\r\n            </FriendRequestContainer>\r\n        </MenuItem>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.mainReducer.currentUser,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(FriendRequest)","import React, { useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport socket from '../socketClient'\r\nimport {\r\n    addPendingRequest, removePendingRequestAndUpdateFriends, addFriendRequest,\r\n    removeFriendRequestAndUpdateFriends, removeFriendRequest, removePendingRequest\r\n} from '../actions/notificationAction'\r\nimport { Menu, MenuItem, makeStyles } from '@material-ui/core';\r\nimport FriendRequest from './FriendRequest';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\nimport styled from 'styled-components';\r\n\r\nconst Button = styled.div({\r\n    padding: '10px',\r\n    cursor: 'pointer',\r\n    ':hover': {\r\n        background: '#E3E3E3'\r\n    },\r\n    position: 'relative'\r\n})\r\n\r\nconst RequestNumber = styled.div({\r\n    position: 'absolute',\r\n    top: 3,\r\n    right: 3,\r\n    padding: 4,\r\n    background: '#cf2c2c',\r\n    color: 'white',\r\n    width: 10,\r\n    height: 10,\r\n    fontSize: 12,\r\n    fontWeight: 600,\r\n    borderRadius: '50%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n})\r\n\r\nconst FriendRequestContainer = styled.div({\r\n    width: 280, maxHeight: 200, overflow: 'scroll',\r\n    ':: -webkit-scrollbar': {\r\n        display: 'none',\r\n    }\r\n})\r\n\r\nconst Notification = ({ friendRequests, addPendingRequest, addFriendRequest,\r\n    removeFriendRequestAndUpdateFriends, removePendingRequestAndUpdateFriends,\r\n    removeFriendRequest, removePendingRequest }) => {\r\n\r\n    useEffect(() => {\r\n        socket.on('friend_request_sent', (friend) => {\r\n            addPendingRequest(friend)\r\n        })\r\n        socket.on('new_friend_request', (friend) => {\r\n            addFriendRequest(friend)\r\n        })\r\n        socket.on('remove_friend_request_and_update_friends', (user) => {\r\n            removeFriendRequestAndUpdateFriends(user)\r\n        })\r\n        socket.on('remove_pending_request_and_update_friends', (user) => {\r\n            removePendingRequestAndUpdateFriends(user)\r\n        })\r\n        socket.on('remove_friend_request', (user) => {\r\n            removeFriendRequest(user._id)\r\n        })\r\n        socket.on('remove_pending_request', (user) => {\r\n            removePendingRequest(user._id)\r\n        })\r\n    }, [])\r\n\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                aria-controls=\"simple-menu\"\r\n                friendRequests={friendRequests}\r\n                aria-haspopup=\"true\"\r\n                onClick={handleClick}\r\n            >\r\n                {friendRequests.length != 0 ?\r\n                    <RequestNumber>{friendRequests.length}</RequestNumber>\r\n                    : null}\r\n                <NotificationsIcon />\r\n            </Button>\r\n\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 54,\r\n                    horizontal: -80,\r\n                }}\r\n                elevation={1}\r\n                getContentAnchorEl={null}\r\n            >\r\n                <FriendRequestContainer>\r\n                    {friendRequests.map((friendRequest, i) =>\r\n                        <FriendRequest key={i} friendRequest={friendRequest} />)}\r\n                    {friendRequests.length === 0 ? <MenuItem>No friend requests...</MenuItem> : null}\r\n                </FriendRequestContainer>\r\n            </Menu>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friendRequests: state.mainReducer.friendRequests,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPendingRequest: (friend) => { dispatch(addPendingRequest(friend)) },\r\n        removePendingRequestAndUpdateFriends: (friend) => { dispatch(removePendingRequestAndUpdateFriends(friend)) },\r\n        removePendingRequest: (friendId) => { dispatch(removePendingRequest(friendId)) },\r\n        addFriendRequest: (friend) => { dispatch(addFriendRequest(friend)) },\r\n        removeFriendRequestAndUpdateFriends: (friend) => { dispatch(removeFriendRequestAndUpdateFriends(friend)) },\r\n        removeFriendRequest: (friendId) => { dispatch(removeFriendRequest(friendId)) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notification)","export const ADD_PENDING_REQUEST = 'ADD_PENDING_REQUEST'\r\nexport const REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS = 'REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS'\r\nexport const REMOVE_PENDING_REQUEST = 'REMOVE_PENDING_REQUEST'\r\nexport const ADD_FRIEND_REQUEST = 'ADD_FRIEND_REQUEST'\r\nexport const REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS = 'REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS'\r\nexport const REMOVE_FRIEND_REQUEST = 'REMOVE_FRIEND_REQUEST'\r\n\r\nexport const addPendingRequest = (friend) => {\r\n    return { type: ADD_PENDING_REQUEST, friend}\r\n}\r\nexport const removePendingRequestAndUpdateFriends = (friend) => {\r\n    return { type: REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS, friend}\r\n}\r\nexport const removePendingRequest = (friendId) => {\r\n    return { type: REMOVE_PENDING_REQUEST, friendId}\r\n}\r\nexport const addFriendRequest = (friend) => {\r\n    return { type: ADD_FRIEND_REQUEST, friend}\r\n}\r\nexport const removeFriendRequestAndUpdateFriends = (friend) => {\r\n    return { type: REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS, friend}\r\n}\r\nexport const removeFriendRequest = (friendId) => {\r\n    return { type: REMOVE_FRIEND_REQUEST, friendId}\r\n}\r\n\r\n\r\n","export const OPEN_DRAWER = 'OPEN_NEW_CHAT_DRAWER'\r\nexport const CLOSE_DRAWER = 'CLOSE_NEW_CHAT_DRAWER'\r\nexport const SELECT_FRIEND = 'SELECT_FRIEND'\r\nexport const UNSELECT_FRIEND = 'UNSELECT_FRIEND'\r\nexport const NEXT_PAGE_NEW_CHAT_DRAWER = 'NEXT_PAGE_NEW_CHAT_DRAWER'\r\nexport const PREV_PAGE_NEW_CHAT_DRAWER = 'PREV_PAGE_NEW_CHAT_DRAWER'\r\nexport const GROUP_NAME_INPUT_HANDLER = 'GROUP_NAME_INPUT_HANDLER'\r\n\r\nexport const openDrawer = (friends) => {\r\n    return { type: OPEN_DRAWER, friends }\r\n\r\n}\r\nexport const closeDrawer = () => {\r\n    return { type: CLOSE_DRAWER }\r\n}\r\n\r\nexport const selectFriend = (friend) => {\r\n    return {type: SELECT_FRIEND, friend }\r\n}\r\n\r\nexport const unselectFriend = (friend) => {\r\n    return {type: UNSELECT_FRIEND, friend }\r\n}\r\n\r\nexport const nextPage = () => {\r\n    return {type: NEXT_PAGE_NEW_CHAT_DRAWER }\r\n}\r\nexport const prevPage = () => {\r\n    return {type: PREV_PAGE_NEW_CHAT_DRAWER }\r\n}\r\nexport const groupNameInputHandler = (inputVal) => {\r\n    return {type: GROUP_NAME_INPUT_HANDLER, inputVal }\r\n}","import firebase from 'firebase'\r\nimport { firebaseConfig } from './firebaseConfig';\r\n\r\nexport default () => {\r\n    if (firebase.messaging.isSupported()){\r\n        firebase.initializeApp(firebaseConfig);\r\n        var messaging = firebase.messaging();\r\n        return messaging\r\n    }\r\n    return null\r\n}\r\n\r\n","import firebase from 'firebase'\r\nimport axios from 'axios'\r\nimport initFirebase from '../initFirebase';\r\nimport { getToken } from './getToken';\r\n\r\nexport default async () => {\r\n\r\n    if (firebase.messaging.isSupported()) {\r\n        const messaging = initFirebase()\r\n        await messaging.deleteToken()\r\n\r\n        const headers = {\r\n            'Authorization': `Bearer ${getToken()}`\r\n        }\r\n        try {\r\n            await axios.put('/user/fcmToken', { fcmToken: '' }, { headers })\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components';\r\nimport {Menu, MenuItem} from '@material-ui/core';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport { logOutUser } from '../actions/authActions';\r\nimport { openDrawer as openProfileDrawer } from '../actions/Drawers/profileDrawerAction';\r\nimport { openDrawer as openAddFriendDrawer } from '../actions/Drawers/addFriendDrawerAction';\r\nimport { openDrawer as openNewChatDrawer } from '../actions/Drawers/newChatDrawerAction';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport deleteFcmToken from '../services/deleteFcmToken';\r\n\r\nconst Button = styled.div({\r\n    padding: 10,\r\n    cursor: 'pointer',\r\n    ':hover': {\r\n        background: '#E3E3E3'\r\n    }\r\n})\r\nconst SettingsContainer = styled.div({\r\n    width: 150, outline:'none'\r\n})\r\nconst Setting = styled.div({\r\n    textAlign: 'center',\r\n    height:40,\r\n    display:'flex',\r\n    justifyContent:'center',\r\n    alignItems:'center',\r\n    fontWeight: 500,\r\n    cursor: 'pointer',\r\n    ':hover': {\r\n        background: '#F8F8F8'\r\n    }\r\n})\r\n\r\nconst Settings = ({ logOutUser, openNewChatDrawer, openProfileDrawer, openAddFriendDrawer, userFriends }) => {\r\n    const history = useHistory()\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const openDrawer = (drawer) => {\r\n        if(drawer === 'NewChat'){\r\n            openNewChatDrawer(userFriends)\r\n        }\r\n        else if(drawer === 'Profile' ){\r\n            openProfileDrawer()\r\n        }\r\n        else if (drawer === 'AddFriend'){\r\n            openAddFriendDrawer()\r\n        }\r\n        handleClose()\r\n    }\r\n    const logOut = async () => {\r\n        await deleteFcmToken()\r\n        logOutUser()\r\n        history.push('/login');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Button aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                <MoreVertIcon />\r\n            </Button>\r\n\r\n            <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: -105,\r\n                }}\r\n                elevation={1}\r\n                getContentAnchorEl={null}\r\n            >\r\n                <SettingsContainer>\r\n                    <Setting onClick={() => openDrawer('NewChat')}> New Chat</Setting>\r\n                    <Setting onClick={() => openDrawer('AddFriend')} > Add friend</Setting>\r\n                    <Setting onClick={() => openDrawer('Profile')} > Profile</Setting>\r\n                    <Setting> About</Setting>\r\n                    <Setting onClick={logOut}> Log out</Setting>\r\n                </SettingsContainer>\r\n            </Menu>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        userFriends: state.mainReducer.friends,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        openNewChatDrawer: (friends) => { dispatch(openNewChatDrawer(friends)) },\r\n        openProfileDrawer: () => { dispatch(openProfileDrawer()) },\r\n        openAddFriendDrawer: () => { dispatch(openAddFriendDrawer()) },\r\n        logOutUser: () => { dispatch(logOutUser()) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Settings)","export const OPEN_DRAWER = 'OPEN_PROFILE_DRAWER'\r\nexport const CLOSE_DRAWER = 'CLOSE_PROFILE_DRAWER'\r\n\r\nexport const openDrawer = () => {\r\n    return { type: OPEN_DRAWER }\r\n\r\n}\r\nexport const closeDrawer = () => {\r\n    return { type: CLOSE_DRAWER }\r\n}","export const OPEN_DRAWER = 'OPEN_ADD_FRIEND_DRAWER'\r\nexport const CLOSE_DRAWER = 'CLOSE_ADD_FRIEND_DRAWER'\r\n\r\nexport const openDrawer = () => {\r\n    return { type: OPEN_DRAWER }\r\n\r\n}\r\nexport const closeDrawer = () => {\r\n    return { type: CLOSE_DRAWER }\r\n}","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Chat as ChatIcon, PersonAdd as PersonAddIcon } from '@material-ui/icons';\r\nimport defaultAvatar from '../images/avatar.png';\r\nimport { connect } from 'react-redux';\r\nimport Notification from './Notification';\r\nimport Settings from './Settings';\r\nimport { openDrawer as openNewChatDrawer } from '../actions/Drawers/newChatDrawerAction';\r\nimport { openDrawer as openProfileDrawer } from '../actions/Drawers/profileDrawerAction';\r\nimport { openDrawer as openAddFriendDrawer } from '../actions/Drawers/addFriendDrawerAction';\r\nimport { STORAGE_URL } from '../global/consts';\r\n\r\nconst MainContainer = styled.div({\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    background: '#EDEDED',\r\n    borderRight: '1px solid #D2D4CE',\r\n    height: 60,\r\n    borderTopLeftRadius: 5,\r\n    zIndex: 1\r\n})\r\nconst ButtonContainer = styled.div({\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    color:'#4d4a4a'\r\n})\r\nconst Button = styled.div({\r\n    padding: 10,\r\n    cursor: 'pointer',\r\n    ':hover': {\r\n        background: '#E3E3E3'\r\n    }\r\n})\r\nconst UserAvatar = styled.img({\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignSelf: 'center',\r\n    marginLeft: '10px',\r\n    borderRadius: '50%',\r\n    width: 40,\r\n    height: 40,\r\n    cursor: 'pointer'\r\n})\r\n\r\nconst MainPanel = ({ openNewChatDrawer, friends, openProfileDrawer, openAddFriendDrawer, avatar }) => {\r\n\r\n    return (\r\n        <MainContainer>\r\n            <UserAvatar src={avatar ? STORAGE_URL + avatar : defaultAvatar} onClick={openProfileDrawer}\r\n                onError={(e) => e.target.src = defaultAvatar}\r\n            />\r\n            <ButtonContainer>\r\n                <Button onClick={openAddFriendDrawer}><PersonAddIcon /></Button>\r\n                <Notification />\r\n                <Button onClick={() => openNewChatDrawer(friends)} ><ChatIcon /></Button>\r\n                <Settings />\r\n            </ButtonContainer>\r\n\r\n        </MainContainer>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        avatar: state.mainReducer.currentUser.avatar,\r\n        friends: state.mainReducer.friends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        openNewChatDrawer: (friends) => { dispatch(openNewChatDrawer(friends)) },\r\n        openProfileDrawer: () => { dispatch(openProfileDrawer()) },\r\n        openAddFriendDrawer: () => { dispatch(openAddFriendDrawer()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MainPanel)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { selectFriend } from '../../../actions/Drawers/newChatDrawerAction'\r\nimport styled from 'styled-components'\r\nimport defaultAvatar from '../../../images/avatar.png'\r\nimport { STORAGE_URL } from '../../../global/consts'\r\nimport { closeDrawer as closeNewChatDrawer } from '../../../actions/Drawers/newChatDrawerAction';\r\nimport { chagneCurrentRoomChat, openTemporaryPrivateChat } from '../../../actions/chatAction'\r\n\r\nconst FriendContainer = styled.div({\r\n    display: 'flex',\r\n    width: '100%',\r\n    height: 60,\r\n    background: '#FFFFFF',\r\n    cursor: 'pointer',\r\n    \":hover\": {\r\n        background: '#F5F5F5'\r\n    }\r\n})\r\nconst AvatarContainer = styled.div({\r\n    display: 'flex',\r\n    height: '100%',\r\n    width: '20%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: '50%'\r\n})\r\nconst ContactName = styled.div({\r\n    width: '80%',\r\n    display: 'flex',\r\n    alignSelf: 'center',\r\n})\r\n\r\nconst Friend = ({ friend, selectFriend, newChatDrawerPage, rooms, currentUserId,\r\n    closeNewChatDrawer, chagneCurrentRoomChat, openTemporaryPrivateChat }) => {\r\n\r\n    const getPrivateChatUniqeId = () => {\r\n        if (currentUserId < friend._id) {\r\n            return currentUserId + \"_\" + friend._id\r\n        }\r\n        return friend._id + \"_\" + currentUserId\r\n    }\r\n\r\n    const handleClick = async () => {\r\n        if (newChatDrawerPage == 2) {\r\n            selectFriend(friend)\r\n        }\r\n        else {\r\n            closeNewChatDrawer()\r\n            const privateMessage = rooms.find(room => room.private_chat_id == getPrivateChatUniqeId())\r\n            if (privateMessage) {\r\n                chagneCurrentRoomChat(privateMessage)\r\n            }\r\n            else {\r\n                openTemporaryPrivateChat(friend)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <FriendContainer onClick={handleClick}>\r\n            <AvatarContainer>\r\n                <Avatar src={friend.avatar ? STORAGE_URL + friend.avatar : defaultAvatar}\r\n                    onError={(e) => e.target.src = defaultAvatar}\r\n                />\r\n            </AvatarContainer>\r\n            <ContactName>{friend.name}</ContactName>\r\n        </FriendContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        newChatDrawerPage: state.drawerReducer.newChat.page,\r\n        rooms: state.mainReducer.rooms,\r\n        currentUserId: state.mainReducer.currentUser._id,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        selectFriend: (id) => { dispatch(selectFriend(id)) },\r\n        closeNewChatDrawer: () => { dispatch(closeNewChatDrawer()) },\r\n        chagneCurrentRoomChat: (room) => { dispatch(chagneCurrentRoomChat(room)) },\r\n        openTemporaryPrivateChat: (receiver) => { dispatch(openTemporaryPrivateChat(receiver)) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Friend)","import React from 'react'\r\nimport styled from \"styled-components\";\r\n// import avatar from '../../../images/avatar.png'\r\nimport { nextPage, prevPage } from '../../../actions/Drawers/newChatDrawerAction';\r\nimport { connect } from 'react-redux'\r\nimport Friend from './Friend';\r\nimport { keyframes } from 'styled-components'\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport GroupAddIcon from '@material-ui/icons/GroupAdd';\r\n\r\nconst Input = styled.input({\r\n    width: '90%',\r\n    height: '40px',\r\n    textDecoration: 'none',\r\n    border: '1px solid black',\r\n    borderRadius: '50px',\r\n    paddingLeft: '10px',\r\n    paddingRight: '5px',\r\n    outline: 'none'\r\n})\r\n\r\nconst InputContainer = styled.div({\r\n    width: '100%',\r\n    height: '10%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    background: 'white',\r\n    borderBottom: '1px solid black'\r\n})\r\n\r\nconst closeDrawer = keyframes`\r\n    0% { width: 100% }\r\n    100% { width: 0 }\r\n`\r\n\r\nconst NewGroupContainer = styled.div({\r\n    width: '100%',\r\n    height: '12%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n    alignItems: 'center',\r\n    background: '#FFFFFF',\r\n    marginBottom: '1px',\r\n    borderBottom: isMobileOnly ? '1px solid #EDED' : null,\r\n    cursor: 'pointer',\r\n    ':hover': {\r\n        background: '#F5F5F5'\r\n    }\r\n})\r\nconst ImgContainer = styled.div({\r\n    display: 'flex',\r\n    height: 40,\r\n    width: 40,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    background: '#a9a9a9',\r\n    borderRadius: '50%',\r\n})\r\nconst NewGroupText = styled.div({\r\n    width: '80%',\r\n    display: 'flex',\r\n    alignSelf: 'center',\r\n    marginLeft: 5,\r\n    fontWeight: 500\r\n})\r\nconst FriendsContainer = styled.div({\r\n    width: '100%', height: '88%', background: 'white', borderBottomLeftRadius: 5, overflow: 'scroll',\r\n    ':: -webkit-scrollbar': {\r\n        display: 'none',\r\n    }\r\n})\r\nconst FriendsHeader = styled.h3({\r\n    textAlign: 'center', marginBottom: 1, marginTop: 0, background: '#FFFFFF', padding: 10,\r\n})\r\nconst BreakLine = styled.hr({\r\n    width: '90%',\r\n    opacity:0.2\r\n})\r\n\r\nconst Page1 = ({ nextPage, prevPage, friends }) => {\r\n    return (\r\n        <div style={{ height: '100%' }}>\r\n\r\n            <NewGroupContainer onClick={() => nextPage()}>\r\n                <ImgContainer>\r\n                    <GroupAddIcon style={{ height: 30, width: 30 }} />\r\n                </ImgContainer>\r\n                <NewGroupText>NEW GROUP</NewGroupText>\r\n            </NewGroupContainer>\r\n\r\n            {/* <InputContainer>\r\n                <Input placeholder='search...' />\r\n            </InputContainer> */}\r\n\r\n            <FriendsContainer>\r\n                <FriendsHeader>Contacts</FriendsHeader>\r\n                {friends\r\n                    .sort((a, b) => a.name.localeCompare(b.name))\r\n                    .map((friend, i) => (\r\n                            <Friend key={friend._id} friend={friend} />\r\n                        // <>\r\n                        //     <BreakLine />\r\n                        // </>\r\n                    ))\r\n                }\r\n            </FriendsContainer>\r\n\r\n        </div>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.mainReducer.friends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        nextPage: () => { dispatch(nextPage()) },\r\n        prevPage: () => { dispatch(prevPage()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Page1)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { unselectFriend } from '../../../actions/Drawers/newChatDrawerAction'\r\nimport defaultAvatar from '../../../images/avatar.png'\r\nimport { STORAGE_URL } from '../../../global/consts'\r\n\r\nconst MainContiner = styled.div({\r\n    display: 'flex',\r\n    margin: '5px 15px',\r\n    width: 'fit-content',\r\n    maxWidth: '95%',\r\n    borderRadius: 16,\r\n    background: '#E6E6E6',\r\n\r\n})\r\n\r\nconst UserImg = styled.img({\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    width: 26,\r\n    height: 26,\r\n    borderRadius: '50%'\r\n})\r\nconst Text = styled.span({\r\n    marginLeft: 6,\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n\r\n})\r\n\r\nconst UnSelect = styled.div({\r\n    marginLeft: 12,\r\n    marginTop: 2,\r\n    height: '100%',\r\n    marginRight: 12,\r\n    padding: '1px 5px',\r\n    fontSize: 14,\r\n    fontWeight: 600,\r\n    cursor: 'pointer',\r\n    borderRadius: '50%',\r\n    \":hover\": {\r\n        background: '#F7F7F7'\r\n    }\r\n})\r\n\r\nconst SelectedFriends = ({ friend, unselectFriend }) => {\r\n\r\n    return (\r\n        <MainContiner>\r\n            <span>\r\n                <UserImg src={friend.avatar? STORAGE_URL + friend.avatar : defaultAvatar} \r\n                    onError={(e) => e.target.src = defaultAvatar }\r\n                />\r\n            </span>\r\n            <Text>{friend.name}</Text>\r\n            <UnSelect onClick={() => unselectFriend(friend)} >X</UnSelect>\r\n\r\n        </MainContiner>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        unselectFriend: (friend) => { dispatch(unselectFriend(friend)) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SelectedFriends)","import React, { useState } from 'react'\r\nimport styled from \"styled-components\";\r\nimport { nextPage, prevPage } from '../../../actions/Drawers/newChatDrawerAction';\r\nimport { connect } from 'react-redux'\r\nimport Friend from './Friend';\r\nimport SelectedFriends from './SelectedFriends';\r\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n    ArrowForwardIcon: {\r\n        width: 30,\r\n        height: 30,\r\n        margin: 10,\r\n        padding: 5,\r\n        background: 'chartreuse',\r\n        borderRadius: '50%',\r\n        cursor: 'pointer'\r\n    },\r\n})\r\nconst Input = styled.input({\r\n    display: 'flex',\r\n    alignSelf: 'center',\r\n    width: '90%',\r\n    height: '40px',\r\n    border: 'none',\r\n    borderBottom: '1px solid #999999',\r\n    paddingLeft: '10px',\r\n    paddingRight: '5px',\r\n    outline: 'none',\r\n    margin: '20px 0'\r\n})\r\nconst NextPageContainer = styled.div({\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    height: 60\r\n})\r\nconst SelectedFriendsContainer = styled.div({\r\n    width: '100%', display: 'flex', flexDirection: 'column', background: '#FFFFFF',\r\n    maxHeight: 245,\r\n})\r\nconst SelectedFriendsList = styled.div({\r\n    width: '98%', margin: 5,\r\n    overflowY: 'scroll',\r\n})\r\nconst AllFriends = styled.div({\r\n    width: '100%',\r\n    height: '100%',\r\n    overflowY: 'scroll',\r\n})\r\nconst AllFriendsContainer = styled.div({\r\n    width: '100%',\r\n    height: ({ selectedFriends }) => {\r\n        if (selectedFriends == 0) return `calc(100% - 93px)`\r\n        if (selectedFriends < 5) return `calc(100% - ${selectedFriends * 26 + (selectedFriends + 1) * 5 + 93}px)`\r\n        return `calc(100% - 245px)`\r\n    },\r\n    background: '#FFFFFF', position: 'relative',\r\n    display: 'flex', flexDirection: 'column',\r\n})\r\n\r\nconst Page2 = ({ nextPage, prevPage, selectedFriends, allFriends,  newChat }) => {\r\n    \r\n    const classes = useStyles();\r\n    const [filter, setFilter] = useState('')\r\n    const filterUsers = () => {\r\n        return allFriends\r\n            .filter(\r\n                friend => filter && filter != '' ?\r\n                    friend.name.toLowerCase().startsWith(filter.toLowerCase())\r\n                    ||\r\n                    friend.email.toLowerCase().startsWith(filter.toLowerCase())\r\n                    :\r\n                    true\r\n            )\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{ height: '100%' }}>\r\n            <SelectedFriendsContainer>\r\n                <SelectedFriendsList>\r\n                    {selectedFriends.map(friend => <SelectedFriends friend={friend} />)}\r\n                </SelectedFriendsList>\r\n                <Input\r\n                    placeholder='search...'\r\n                    value={filter}\r\n                    onChange={(e) => setFilter(e.target.value)}\r\n                />\r\n            </SelectedFriendsContainer>\r\n\r\n            <AllFriendsContainer selectedFriends={selectedFriends.length}>\r\n                <AllFriends>\r\n                    {filterUsers().map(friend => <Friend friend={friend} />)}\r\n                </AllFriends>\r\n\r\n                {selectedFriends.length ?\r\n                    <NextPageContainer onClick={nextPage}>\r\n                        <ArrowForwardIcon className={classes.ArrowForwardIcon} />\r\n                    </NextPageContainer>\r\n                    : null\r\n                }\r\n            </AllFriendsContainer>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        newChat: state.drawerReducer.newChat,\r\n        allFriends: state.drawerReducer.newChat.allFriends,\r\n        selectedFriends: state.drawerReducer.newChat.selectedFriends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        nextPage: () => { dispatch(nextPage()) },\r\n        prevPage: () => { dispatch(prevPage()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Page2)","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nconst Loader = styled.div({\r\n    border: '16px solid #f3f3f3',\r\n    borderRadius: '50%',\r\n    borderTop: '16px solid black',\r\n    width: ({ width }) => width ? width + 'px' : '60px',\r\n    height: ({ height }) => height ? height + 'px' : '60px',\r\n    animationName: () => spin,\r\n    animationDuration: ({ duration }) => duration ? duration + 's' : '1.5s',\r\n    animationTimingFunction: 'linear',\r\n    animationIterationCount: 'infinite'\r\n})\r\n\r\nconst spin = keyframes({\r\n    from: { transform: 'rotate(0deg)' },\r\n    to: { transform: 'rotate(360deg)' }\r\n})\r\n\r\n\r\n\r\nexport default function SimpleLoader({ height, width, duration }) {\r\n    return (\r\n        <Loader height={height} width={width} duration={duration} />\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport styled from \"styled-components\";\r\nimport avatar from '../../../images/avatar.png'\r\nimport { closeDrawer, nextPage, prevPage } from '../../../actions/Drawers/newChatDrawerAction';\r\nimport { connect } from 'react-redux'\r\nimport DoneIcon from '@material-ui/icons/Done';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport socket from '../../../socketClient'\r\nimport axios from 'axios'\r\nimport { getToken } from '../../../services/getToken'\r\nimport Loader from '../../SimpleLoader';\r\nimport sendPushMessage from '../../../services/sendPushMessage';\r\n\r\nconst MAX_INPUT_LENGTH = 25\r\n\r\nconst useStyles = makeStyles({\r\n    doneIcon: {\r\n        backgroundColor: 'chartreuse',\r\n        padding: 5,\r\n        borderRadius: '50%',\r\n        fontSize: 40,\r\n        cursor: 'pointer'\r\n    },\r\n    arrowBackIcon: {\r\n        marginLeft: 5, cursor: 'pointer', flex: 1\r\n    },\r\n    groupIcon: {\r\n        width: '70%', height: '70%'\r\n    }\r\n})\r\nconst BodyContainer = styled.div({\r\n    width: '100%', height: '75%', display: 'flex', flexDirection: 'column',\r\n})\r\nconst FooterContainer = styled.div({\r\n    display: 'flex', height: '15%', width: '100%',\r\n    justifyContent: 'center', alignItems: 'center'\r\n})\r\nconst InputContainer = styled.div({\r\n    width: '100%',\r\n    height: '20%',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\nconst Input = styled.input({\r\n    width: '90%',\r\n    height: '40px',\r\n    border: 'none',\r\n    borderBottom: '1px solid #999999',\r\n    paddingLeft: '10px',\r\n    paddingRight: '5px',\r\n    outline: 'none',\r\n    background: 'none'\r\n})\r\nconst GroupImgContainer = styled.div({\r\n    height: '100%', width: '100%', display: 'flex',\r\n    justifyContent: 'center', alignItems: 'center', position: 'relative', cursor: 'pointer'\r\n})\r\nconst GroupImg = styled.div({\r\n    background: 'grey', display: 'flex', justifyContent: 'center', alignItems: 'center',\r\n    height: 225, width: 225, borderRadius: '50%',\r\n})\r\nconst LengthCounter = styled.div({\r\n    position: 'absolute',\r\n    right: 20,\r\n    top: '40%',\r\n    color: '#999999',\r\n    fontSize: '15px'\r\n})\r\nconst Label = styled.label({\r\n    height: '70%', width: '100%'\r\n})\r\nconst ImgText = styled.div({\r\n    color: 'white', fontWeight: 600, fontSize: 18\r\n})\r\nconst ImgTextContainer = styled.div({\r\n    position: 'absolute',\r\n    width: 225,\r\n    height: 225,\r\n    background: 'rgb(0,0,0,0.8)',\r\n    display: ({ showImgText }) => showImgText ? 'flex' : 'none',\r\n    borderRadius: '50%',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    ':hover': {\r\n        background: 'rgb(0,0,0,0.7)',\r\n    }\r\n})\r\nconst GroupAvatar = styled.img({\r\n    width: 225,\r\n    height: 225,\r\n    borderRadius: '50%',\r\n    boxShadow: '-1px 3px 17px 0px rgba(97,96,97,0.73)'\r\n})\r\nconst LoaderContainer = styled.div({\r\n    background: 'rgb(0,0,0,0.6)', position: 'absolute',\r\n    width: 225, height: 225, borderRadius: '50%', display: 'flex',\r\n    justifyContent: 'center', alignItems: 'center'\r\n})\r\n\r\nconst Page3 = ({ prevPage, selectedFriends, closeDrawer, currentRoomChat, currentUser }) => {\r\n\r\n    const classes = useStyles();\r\n    const [file, setFile] = useState(null)\r\n    const [roomName, setRoomName] = useState('')\r\n    const [showImgText, setShowImgText] = useState(false)\r\n    const [isSent, setIsSent] = useState(false)\r\n    const [isLoader, setIsLoader] = useState(false)\r\n\r\n    const createRoomChat = async () => {\r\n        setIsSent(true)\r\n\r\n        const headers = {\r\n            'Authorization': `Bearer ${getToken()}`\r\n        }\r\n        const body = { roomName, selectedFriends, currentUserId: currentUser._id, isPrivateChat: false }\r\n        try {\r\n            setIsLoader(true)\r\n            const res = await axios.post('/room', body, { headers })\r\n            const newRoom = res.data\r\n            if (file !== null) {\r\n                try {\r\n                    await uploadImage(newRoom._id)\r\n                    setFile(null)\r\n                }\r\n                catch (err) {\r\n                    // TODO: check what happend when error!!!!!\r\n                    // TODO: handle error!!!!!\r\n                    console.log(err)\r\n                }\r\n            }\r\n            setIsLoader(false)\r\n            closeDrawer()\r\n            socket.emit('room_created', newRoom.users, newRoom._id)\r\n            const message = `You have been had to ${newRoom.name}`\r\n            sendPushMessage(currentUser,  message, newRoom.users)\r\n\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n            //TODO: handle error \r\n        }\r\n    }\r\n    const uploadImage = async (roomId) => {\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file)\r\n        formData.append(\"roomId\", roomId)\r\n        formData.append('useFor', 'chat')\r\n\r\n        const headers = {\r\n            'Content-Type': 'multipart/form-data',\r\n            'Authorization': `Bearer ${getToken()}`\r\n        }\r\n        const res = await axios.put(`/upload/image/room`, formData, { headers })\r\n        const url = res.data\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <BodyContainer>\r\n                <Label for=\"profile-pic\">\r\n                    <GroupImgContainer>\r\n                        <GroupImg onMouseLeave={() => setShowImgText(false)}>\r\n                            {file ?\r\n                                <>\r\n                                    <GroupAvatar\r\n                                        src={URL.createObjectURL(file)}\r\n                                        onMouseEnter={() => setShowImgText(true)}\r\n                                    />\r\n                                    {\r\n                                        isLoader ?\r\n                                            <LoaderContainer>\r\n                                                <Loader />\r\n                                            </LoaderContainer>\r\n                                            :\r\n                                            <ImgTextContainer showImgText={showImgText} >\r\n                                                <ImgText> change image</ImgText>\r\n                                            </ImgTextContainer>\r\n                                    }\r\n\r\n                                </>\r\n                                :\r\n                                <>\r\n                                    <GroupIcon className={classes.groupIcon} />\r\n                                    <ImgTextContainer showImgText={true}>\r\n                                        <ImgText> add group img</ImgText>\r\n                                    </ImgTextContainer>\r\n                                </>\r\n                            }\r\n                        </GroupImg>\r\n\r\n                    </GroupImgContainer>\r\n                </Label>\r\n                <input id=\"profile-pic\" type='file' onChange={e => setFile(e.target.files[0])} />\r\n\r\n                <InputContainer>\r\n                    <Input placeholder='Group name...'\r\n                        value={roomName}\r\n                        onChange={e => setRoomName(e.target.value)}\r\n                        maxLength={MAX_INPUT_LENGTH}\r\n                    />\r\n\r\n                    <LengthCounter>\r\n                        {MAX_INPUT_LENGTH - roomName.length}\r\n                    </LengthCounter>\r\n                </InputContainer>\r\n\r\n            </BodyContainer>\r\n\r\n            <FooterContainer>\r\n                {roomName.length ?\r\n                    <div onClick={!isSent ? createRoomChat : null}>\r\n                        <DoneIcon className={classes.doneIcon} />\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n            </FooterContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        selectedFriends: state.drawerReducer.newChat.selectedFriends,\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUser: state.mainReducer.currentUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        closeDrawer: () => { dispatch(closeDrawer()) },\r\n        prevPage: () => { dispatch(prevPage()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Page3)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport Page1 from './Page1';\r\nimport Page2 from './Page2';\r\nimport Page3 from './Page3';\r\nimport { closeDrawer } from '../../../actions/Drawers/newChatDrawerAction';\r\n\r\nconst NewChatDrawer = ({ closeDrawer, page }) => {\r\n\r\n    const whichPage = () => {\r\n        switch (page) {\r\n            case 1: return <Page1 />\r\n            case 2: return <Page2 />\r\n            case 3: return <Page3 />\r\n            default: return closeDrawer()\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {whichPage()}\r\n        </>\r\n    )\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        page: state.drawerReducer.newChat.page,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        closeDrawer: () => { dispatch(closeDrawer()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChatDrawer)","import React, { useState, useEffect } from 'react';\r\nimport { Button, Menu, MenuItem } from '@material-ui/core';\r\nimport axios from 'axios'\r\nimport { getToken } from '../services/getToken';\r\nimport { connect } from 'react-redux'\r\nimport { changeAvatar } from '../actions/authActions';\r\n\r\nconst SimpleMenu = ({ anchor, closeMenu, removeAvatar }) => {\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setAnchorEl(anchor)\r\n  }, [anchor])\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n    closeMenu()\r\n  };\r\n\r\n  const deleteProfileImg = async () => {\r\n    handleClose()\r\n    const headers = {\r\n      'Authorization': `Bearer ${getToken()}`\r\n    }\r\n    await axios.delete('/image/profile', { headers })\r\n    removeAvatar(null)\r\n  }\r\n\r\n\r\n  return (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      open={Boolean(anchorEl)}\r\n      onClose={handleClose}\r\n      anchorOrigin={{\r\n        vertical: 150,\r\n        horizontal: 150,\r\n      }}\r\n    >\r\n      <label htmlFor=\"upload-picture\" >\r\n        <MenuItem onClick={handleClose}>Change Picture</MenuItem>\r\n      </label>\r\n\r\n      <MenuItem onClick={deleteProfileImg}>Remove Picture</MenuItem>\r\n    </Menu>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      removeAvatar: (imgUrl) => { dispatch(changeAvatar(imgUrl)) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleMenu)","import React, { useState } from 'react'\r\nimport styled from \"styled-components\";\r\nimport defaultAvatar from '../../../images/avatar.png'\r\nimport { closeDrawer } from '../../../actions/Drawers/profileDrawerAction';\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport axios from 'axios'\r\nimport { getToken } from '../../../services/getToken'\r\nimport { changeAvatar, changeUserName } from '../../../actions/authActions';\r\nimport { STORAGE_URL } from '../../../global/consts';\r\nimport { Person as PersonIcon, Edit as EditIcon, Done as DoneIcon } from '@material-ui/icons'\r\nimport Loader from '../../SimpleLoader';\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport SimpleMenu from '../../SimpleMenu';\r\n\r\nconst useStyles = makeStyles({\r\n    editMode: {\r\n        padding: 10,\r\n        cursor: 'pointer'\r\n    }\r\n})\r\nconst BodyContainer = styled.div({\r\n    width: '100%', height: '100%', display: 'flex', flexDirection: 'column',\r\n    background: () => isMobileOnly ? '#e3e3e36e' : '#E3E3E3'\r\n})\r\nconst InputContainer = styled.div({\r\n    width: '100%',\r\n    height: '20%',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\nconst Input = styled.input({\r\n    width: '100%',\r\n    height: 40,\r\n    border: 'none',\r\n    paddingLeft: 2,\r\n    margin: '0 5px',\r\n    outline: 'none',\r\n    background: 'none',\r\n})\r\nconst UploadImgContainer = styled.div({\r\n    height: '70%', width: '100%', display: 'flex',\r\n    justifyContent: 'center', alignItems: 'center', position: 'relative'\r\n})\r\nconst Label = styled.label({\r\n    display: 'flex', justifyContent: 'center'\r\n})\r\nconst LengthCounter = styled.div({\r\n    position: 'absolute',\r\n    right: 20,\r\n    top: '40%',\r\n    color: '#999999',\r\n    fontSize: '15px'\r\n})\r\nconst ImgTextContainer = styled.div({\r\n    display: ({ showImgText }) => showImgText ? null : 'none',\r\n    position: 'absolute',\r\n    justifyContent: 'center', borderRadius: '50%', background: 'rgb(0,0,0,0.6)',\r\n    cursor: 'pointer',\r\n    height: '100%',\r\n    width: () => isMobileOnly ? '100%' : '80%',\r\n})\r\n\r\nconst ImgText = styled.div({\r\n    display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100%',\r\n    color: 'white', fontWeight: 600, fontSize: 18\r\n})\r\nconst AvatarContainer = styled.div({\r\n    display: 'flex', justifyContent: 'center',\r\n    width: '100%', height: '100%', position: 'relative',\r\n    \r\n    width: ({ hasAvatar }) => !hasAvatar && isMobileOnly ? '75%' : '100%',\r\n    height: ({ hasAvatar }) => !hasAvatar && isMobileOnly ? '75%' : '100%'\r\n})\r\nconst Avatar = styled.img({\r\n    height: () => isMobileOnly ? '100%' : '80%',\r\n    width: () => isMobileOnly ? '100%' : '80%',\r\n    borderRadius: '50%',\r\n})\r\nconst EditNameContainer = styled.div({\r\n    display: 'flex', width: '100%'\r\n})\r\nconst PersonIconContainer = styled.div({\r\n    width: '15%', paddingTop: 10, paddingLeft: 5\r\n})\r\nconst NameHeader = styled.div({\r\n    color: '#54676fb5'\r\n})\r\nconst NameInfoContainer = styled.div({\r\n    width: '85%', display: 'flex', flexDirection: 'column', paddingLeft: 5\r\n})\r\nconst EditContainer = styled.div({\r\n    display: 'flex', justifyContent: 'space-between', paddingBottom: 10, width: '100%',\r\n    alignItems: 'center', borderBottom: '1px solid #cec9c9',\r\n})\r\nconst LoaderContainer = styled.div({\r\n    background: 'rgb(0,0,0,0.6)', position: 'absolute',\r\n    borderRadius: '50%', display: 'flex',\r\n    justifyContent: 'center', alignItems: 'center',\r\n    height: '100%',\r\n    width: () => isMobileOnly ? '100%' : '80%',\r\n})\r\n\r\nconst ProfileDrawer = ({ closeDrawer, avatar, changeAvatar, currentUser, changeUserName }) => {\r\n\r\n    const [files, setFiles] = useState()\r\n\r\n    const [anchor, setAnchor] = useState(null) // trying...\r\n\r\n    const [showImgText, setShowImgText] = useState(false)\r\n    const [inputVal, setInuputVal] = useState('')\r\n    const [isEditMode, setIsEditMode] = useState(false)\r\n    const [isLoader, setIsLoader] = useState(false)\r\n    const classes = useStyles();\r\n\r\n    const changeProfileAvatar = async (files) => {\r\n        const formData = new FormData();\r\n        formData.append('useFor', 'profile')\r\n        formData.append(\"file\", files[0])\r\n        setIsLoader(true)\r\n        const headers = {\r\n            'Content-Type': 'multipart/form-data',\r\n            'Authorization': `Bearer ${getToken()}`\r\n        }\r\n        const res = await axios.put(`/upload/image/profile`, formData, { headers })\r\n        const url = res.data\r\n        changeAvatar(url)\r\n        setIsLoader(false)\r\n    }\r\n\r\n    const changeName = async () => {\r\n        setIsEditMode(false)\r\n        if (inputVal.trim() !== '') {\r\n            const headers = {\r\n                'Authorization': `Bearer ${getToken()}`\r\n            }\r\n            const res = await axios.put('/user/name', { name: inputVal }, { headers })\r\n            setInuputVal('')\r\n            changeUserName(res.data)\r\n        }\r\n    }\r\n    const closeMenu = () => {\r\n        setAnchor(null)\r\n        setShowImgText(false)\r\n    }\r\n    const openMenuForMobile = (e) => {\r\n        if (!anchor) {\r\n            setShowImgText(true)\r\n            setAnchor(e.currentTarget)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <BodyContainer>\r\n            <UploadImgContainer >\r\n                <Label onMouseLeave={() => setShowImgText(false)} >\r\n                    <AvatarContainer \r\n                    hasAvatar={avatar ? true: false }\r\n                    onClick={e => isMobileOnly ? openMenuForMobile(e) : null}>\r\n                        <Avatar className='fade-in'\r\n                            src={avatar ? STORAGE_URL + avatar : defaultAvatar}\r\n                            onMouseEnter={() => setShowImgText(true)}\r\n                            onError={(e) => e.target.src = defaultAvatar}\r\n                        />\r\n                        {\r\n                            isLoader ?\r\n                                <LoaderContainer>\r\n                                    <Loader />\r\n                                </LoaderContainer>\r\n                                :\r\n                                <>\r\n                                    <div>\r\n                                        <SimpleMenu anchor={anchor} closeMenu={closeMenu} />\r\n                                    </div>\r\n\r\n                                    <ImgTextContainer showImgText={showImgText}\r\n                                        onClick={e => setAnchor(e.currentTarget)}\r\n                                    >\r\n                                        < ImgText > Change profile picture</ImgText>\r\n                                    </ImgTextContainer>\r\n                                </>\r\n                        }\r\n                    </AvatarContainer>\r\n                </Label>\r\n                <input id=\"upload-picture\" type='file' onChange={e => changeProfileAvatar(e.target.files)} />\r\n            </UploadImgContainer >\r\n            <EditNameContainer>\r\n                <PersonIconContainer>\r\n                    <PersonIcon />\r\n                </PersonIconContainer>\r\n                <EditContainer>\r\n                    {\r\n                        isEditMode ?\r\n                            <>\r\n                                <InputContainer>\r\n                                    <Input\r\n                                        placeholder='Change name...'\r\n                                        value={inputVal}\r\n                                        onChange={(e) => setInuputVal(e.target.value)}\r\n                                    />\r\n                                </InputContainer>\r\n                                <div onClick={changeName}>\r\n                                    <DoneIcon className={classes.editMode} />\r\n                                </div>\r\n                            </>\r\n                            :\r\n                            <>\r\n                                <NameInfoContainer>\r\n                                    <NameHeader>Name</NameHeader>\r\n                                    <div>{currentUser.name}</div>\r\n                                </NameInfoContainer>\r\n                                <div onClick={() => setIsEditMode(true)}>\r\n                                    <EditIcon className={classes.editMode} />\r\n                                </div>\r\n                            </>\r\n                    }\r\n                </EditContainer>\r\n            </EditNameContainer>\r\n        </BodyContainer >\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        avatar: state.mainReducer.currentUser.avatar,\r\n        currentUser: state.mainReducer.currentUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        closeDrawer: () => { dispatch(closeDrawer()) },\r\n        changeAvatar: (imgUrl) => { dispatch(changeAvatar(imgUrl)) },\r\n        changeUserName: (name) => { dispatch(changeUserName(name)) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ProfileDrawer)","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport defaultAvatar from '../../../images/avatar.png'\r\nimport PersonAddIcon from '@material-ui/icons/PersonAdd';\r\nimport { connect } from 'react-redux'\r\nimport RemoveCircleOutlineIcon from '@material-ui/icons/RemoveCircleOutline';\r\nimport socket from '../../../socketClient'\r\nimport { ListItem, IconButton, Button } from '@material-ui/core';\r\nimport { STORAGE_URL } from '../../../global/consts';\r\nimport sendPushMessage from '../../../services/sendPushMessage'\r\n\r\nconst FriendContainer = styled.div({\r\n    display: 'flex',\r\n    width: '100%',\r\n    height: 60,\r\n    \":hover\": {\r\n        background: '#F5F5F5'\r\n    }\r\n})\r\nconst AvatarContainer = styled.div({\r\n    display: 'flex',\r\n    height: '100%',\r\n    width: '20%',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40,\r\n    height: 40,\r\n    borderRadius: '50%'\r\n\r\n})\r\nconst InfoContainer = styled.div({\r\n    width: '60%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center'\r\n})\r\nconst Name = styled.div({\r\n    fontWeight: 600\r\n})\r\nconst Email = styled.div({\r\n\r\n})\r\nconst ButtonContainer = styled.div({\r\n    width: '20%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\n\r\nconst AddFriend = ({ friend, friends, pendingRequests,currentUser }) => {\r\n\r\n    const sendFriendRequest = () => {\r\n        socket.emit('add_friend', { friendId: friend._id })\r\n        sendPushMessage(currentUser, 'New Friend Request', [friend])\r\n    }\r\n\r\n    const deleteFriendRequest = () => {\r\n        socket.emit('delete_friend_request', { friendId: friend._id })\r\n    }\r\n    \r\n    const isFriend = () => {\r\n        if (pendingRequests.find(request => request._id === friend._id)) {\r\n            return <RemoveCircleOutlineIcon onClick={deleteFriendRequest} />\r\n        }\r\n        else if (friends.find(myFriend => myFriend._id === friend._id)) {\r\n            // return <div>already friends</div>\r\n            return null\r\n        }\r\n        return <PersonAddIcon onClick={sendFriendRequest} />\r\n    }\r\n\r\n    return (\r\n\r\n        <FriendContainer>\r\n            <AvatarContainer>\r\n                <Avatar src={friend.avatar ? STORAGE_URL + friend.avatar : defaultAvatar}\r\n                    onError={(e) => e.target.src = defaultAvatar }\r\n                />\r\n            </AvatarContainer>\r\n            <InfoContainer>\r\n                <Name>{friend.name}</Name>\r\n                <Email>{friend.email}</Email>\r\n            </InfoContainer>\r\n            <ButtonContainer>\r\n                <IconButton>\r\n                    {isFriend()}\r\n                </IconButton>\r\n            </ButtonContainer>\r\n        </FriendContainer>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        pendingRequests: state.mainReducer.pendingRequests,\r\n        friends: state.mainReducer.friends,\r\n        currentUser: state.mainReducer.currentUser,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddFriend)","import React, { useState } from 'react'\r\nimport styled from \"styled-components\";\r\nimport { closeDrawer } from '../../../actions/Drawers/addFriendDrawerAction';\r\nimport { connect } from 'react-redux'\r\nimport AddFriend from './AddFriend';\r\nimport { getToken } from '../../../services/getToken';\r\nimport axios from 'axios'\r\nimport { Paper, InputBase, IconButton , makeStyles } from '@material-ui/core';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        display: 'flex',\r\n        alignSelf: 'center',\r\n        paddingLeft: '5%',\r\n        alignItems: 'center',\r\n        width: '90%',\r\n        margin: '10px 0',\r\n    },\r\n    input: {\r\n        flex: 1,\r\n    },\r\n})\r\n\r\nconst BodyContainer = styled.div({\r\n    width: '100%', height:'100%',\r\n     display: 'flex', flexDirection: 'column', background: '#FFFFFF',\r\n    borderBottomLeftRadius: 5, borderTopLeftRadius: 5,\r\n    overflowY: 'scroll',\r\n    ':: -webkit-scrollbar': {\r\n        display: 'none',\r\n    }\r\n})\r\nconst InputContainer = styled.div({\r\n    width: '100%',\r\n    height: '20%',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\nconst Input = styled.input({\r\n    width: '90%',\r\n    height: '40px',\r\n    border: 'none',\r\n    borderBottom: '1px solid #999999',\r\n    paddingLeft: '10px',\r\n    paddingRight: '5px',\r\n    outline: 'none',\r\n    background: 'none',\r\n})\r\n\r\n\r\n\r\nconst AddFriendDrawer = ({ closeDrawer, friends }) => {\r\n\r\n    const classes = useStyles();\r\n    const [inputVal, setInputVal] = useState('')\r\n    const [matchedUsers, setMatchedUsers] = useState([])\r\n\r\n    const searchUser = async () => {\r\n        const trimInputVal = inputVal.trim()\r\n        if (trimInputVal !== \"\") {\r\n            const options = {\r\n                headers: {\r\n                    Authorization: `Bearer ${getToken()}`\r\n                }\r\n            }\r\n            const users = await axios.get(`/users/search/${trimInputVal}`, options)\r\n            setMatchedUsers(users.data)\r\n        }\r\n        else {\r\n            setMatchedUsers([])\r\n        }\r\n        setInputVal('')\r\n    }\r\n\r\n    return (\r\n            <BodyContainer>\r\n\r\n                <Paper className={classes.root}>\r\n                    <InputBase\r\n                        className={classes.input}\r\n                        placeholder=\"search user by email\"\r\n                        onKeyDown={(e) => e.keyCode == 13 ? searchUser() : null}\r\n                        value={inputVal}\r\n                        onChange={(e) => setInputVal(e.target.value)}\r\n                    />\r\n                    <IconButton className={classes.iconButton} aria-label=\"search\" onClick={searchUser}>\r\n                        <SearchIcon />\r\n                    </IconButton>\r\n                </Paper>\r\n\r\n                {matchedUsers.map(friend => <AddFriend key={friend._id} friend={friend} />)}\r\n\r\n            </BodyContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.mainReducer.friends,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        closeDrawer: () => { dispatch(closeDrawer()) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddFriendDrawer)","import React from \"react\";\r\nimport { connect } from 'react-redux'\r\nimport styled from \"styled-components\";\r\nimport NewMessageDrawer from \"./NewChatDrawer/NewChatDrawer\";\r\nimport ProfileDrawer from \"./ProfileDrawer/ProfileDrawer\";\r\nimport AddFriendDrawer from \"./AddFriendDrawer/AddFriendDrawer\";\r\nimport { keyframes } from 'styled-components'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { closeDrawer as closeNewChatDrawer, prevPage } from '../../actions/Drawers/newChatDrawerAction';\r\nimport { closeDrawer as closeProfileDrawer } from '../../actions/Drawers/profileDrawerAction';\r\nimport { closeDrawer as closeAddFriendDrawer } from '../../actions/Drawers/addFriendDrawerAction';\r\n\r\nconst openDrawerAnimation = keyframes`\r\n 0% { width: 0%; opacity:0; }\r\n 50% { opacity: 1 }\r\n 100% { width: 100%  }\r\n`\r\nconst closeDrawerAnimation = keyframes`\r\n    0% { width: 100% }\r\n    100% { width: 0% }\r\n`\r\nconst useStyles = makeStyles({\r\n  arrowBackIcon: {\r\n    marginLeft: 5, cursor: 'pointer', flex: 1, left: 15, maxWidth: 50, position: 'absolute',\r\n  }\r\n})\r\n\r\nconst DrawerContainer = styled.div({\r\n  flexDirection: 'column',\r\n  height: '100%',\r\n  width: ({ isDrawerOpen }) => isDrawerOpen ? '100%' : 0,\r\n  background: '#CCC9C9',\r\n  position: 'absolute',\r\n  zIndex: 3,\r\n  borderBottomLeftRadius: 5,\r\n  borderTopLeftRadius: 5,\r\n  animationName: ({ isDrawerOpen }) => isDrawerOpen ? openDrawerAnimation : closeDrawerAnimation,\r\n  animationDuration: ({ isDrawerOpen }) => isDrawerOpen ? '1s' : '0.5s',\r\n})\r\n\r\nconst HeaderContainer = styled.div({\r\n  width: '100%', height: '10%', display: 'flex', alignItems: 'center', position: 'relative'\r\n})\r\nconst TextHeader = styled.div({\r\n  fontSize: 20, fontWeight: 600, textAlign: 'center', flex: 1\r\n})\r\n\r\n\r\n\r\nconst MainDrawer = ({ isNewChatDrawerOpen, isProfileDrawerOpen, isAddFriendDrawerOpen, newChatDrawerPage,\r\n  isDrawerOpen, closeNewChatDrawer, closeProfileDrawer, closeAddFriendDrawer, prevPage }) => {\r\n  const classes = useStyles();\r\n\r\n  const closeDrawer = () => {\r\n    if (isNewChatDrawerOpen) {\r\n      if (newChatDrawerPage < 1) {\r\n        closeNewChatDrawer()\r\n      }\r\n      else {\r\n        prevPage()\r\n      }\r\n    }\r\n    else if (isProfileDrawerOpen) {\r\n      closeProfileDrawer()\r\n    }\r\n    else if (isAddFriendDrawerOpen) {\r\n      closeAddFriendDrawer()\r\n    }\r\n  }\r\n  const whichHeader = () => {\r\n    if (isNewChatDrawerOpen) return 'New Chat'\r\n    if (isProfileDrawerOpen) return 'Proflie'\r\n    if (isAddFriendDrawerOpen) return 'Add Friend'\r\n  }\r\n  const whichDrawer = () => {\r\n    if (isNewChatDrawerOpen) return <NewMessageDrawer />\r\n    if (isProfileDrawerOpen) return <ProfileDrawer />\r\n    if (isAddFriendDrawerOpen) return <AddFriendDrawer />\r\n  }\r\n\r\n\r\n  return (\r\n    <DrawerContainer isDrawerOpen={isDrawerOpen}>\r\n      {\r\n        isDrawerOpen ?\r\n          <HeaderContainer>\r\n            <ArrowBackIcon button onClick={() => closeDrawer()} className={classes.arrowBackIcon} />\r\n            <TextHeader>{whichHeader()}</TextHeader>\r\n          </HeaderContainer>\r\n          : null\r\n      }\r\n      <div style={{ height: '90%' }}>\r\n        {whichDrawer()}\r\n      </div>\r\n    </DrawerContainer>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isNewChatDrawerOpen: state.drawerReducer.newChat.isDrawerOpen,\r\n    isProfileDrawerOpen: state.drawerReducer.profile.isDrawerOpen,\r\n    isAddFriendDrawerOpen: state.drawerReducer.addFriend.isDrawerOpen,\r\n    isDrawerOpen: state.drawerReducer.isDrawerOpen,\r\n    newChatDrawerPage: state.drawerReducer.newChat.page,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    prevPage: () => { dispatch(prevPage()) },\r\n    closeNewChatDrawer: () => { dispatch(closeNewChatDrawer()) },\r\n    closeProfileDrawer: () => { dispatch(closeProfileDrawer()) },\r\n    closeAddFriendDrawer: () => { dispatch(closeAddFriendDrawer()) },\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MainDrawer)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\n\r\nconst RoomUsersContainer = styled.div({\r\n    width: '100%',\r\n    overflow: 'hidden',\r\n    whiteSpace: 'nowrap',\r\n    textOverflow: 'ellipsis',\r\n})\r\n\r\nconst RoomUsers = ({ users, currentUser }) => {\r\n\r\n    return (\r\n        <RoomUsersContainer>\r\n            {users.map(user =>\r\n                user._id !== currentUser._id ?\r\n                    <span key={user.id}>{user.name}, </span>\r\n                    : null\r\n            )}\r\n            <span key={currentUser.id}>You</span>\r\n        </RoomUsersContainer>\r\n    )\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.mainReducer.currentUser\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(RoomUsers)","\r\nimport React, { useState, useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport defaultAvatar from '../images/avatar.png'\r\nimport defaultGroupAvatar from '../images/groupAvatar.png'\r\nimport socket from '../socketClient'\r\nimport { STORAGE_URL } from '../global/consts';\r\nimport RoomUsers from './RoomUsers'\r\n\r\nconst HeaderContainer = styled.div({\r\n    height: 60,\r\n    width: '100%',\r\n    background: '#EDEDED',\r\n    borderTopRightRadius: 5,\r\n    display: 'flex',\r\n    boxShadow: '0px 7px 23px -13px rgba(0,0,0,0.46)',\r\n    zIndex: 1\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40, height: 40, borderRadius: '50%'\r\n})\r\nconst AvatarContainer = styled.div({\r\n    height: '100%',\r\n    width: 45,\r\n    paddingLeft: 10,\r\n    paddingRight: 2,\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n})\r\nconst RoomInfoContainer = styled.div({\r\n    display: 'flex', flexDirection: 'column', justifyContent: 'center', width: 'calc( 100% - 70px )'\r\n})\r\nconst RoomName = styled.div({\r\n    fontWeight: 600\r\n})\r\nconst OnlineCircle = styled.div({\r\n    background: (isOnline) => isOnline ? 'green' : 'red',\r\n    width: 10,\r\n    height: 10,\r\n    border: '1px solid black',\r\n    borderRadius: '50%'\r\n})\r\nconst IsOnlineContainer = styled.div({\r\n    display: 'flex', alignItems: 'center'\r\n})\r\nconst IsOnlineText = styled.div({\r\n    marginLeft: 5, fontSize: 14, fontWeight: 500\r\n})\r\nconst Typing = styled.div({\r\n    fontWeight:600\r\n})\r\n\r\nconst ChatHeader = ({ currentRoomChat, temporaryPrivateChat, currentUserId }) => {\r\n\r\n    const [whoIsTyping, setWhoIsTyping] = useState(null)\r\n    const isOnline = true // dummy !!!!\r\n\r\n    useEffect(() => {\r\n        socket.on('typing', (from) => {\r\n            setWhoIsTyping(from)\r\n        })\r\n        socket.on('stopped_typing', () => {\r\n            setWhoIsTyping(null)\r\n        })\r\n    }, [])\r\n\r\n    const getRoomName = () => {\r\n        if (temporaryPrivateChat) {\r\n            return temporaryPrivateChat.name\r\n        }\r\n        if (currentRoomChat.is_private_chat) {\r\n            const otherUser = currentRoomChat.users.find(user => user._id !== currentUserId)\r\n            return otherUser.name\r\n        }\r\n        return currentRoomChat.name\r\n    }\r\n    const getAvatar = () => {\r\n        if (temporaryPrivateChat) {\r\n            return temporaryPrivateChat.avatar ? STORAGE_URL + temporaryPrivateChat.avatar : defaultAvatar\r\n        }\r\n        if (currentRoomChat.is_private_chat) {\r\n            const otherUser = currentRoomChat.users.find(user => user._id !== currentUserId)\r\n            return otherUser.avatar ? STORAGE_URL + otherUser.avatar : defaultAvatar\r\n        }\r\n        return currentRoomChat.avatar ? STORAGE_URL + currentRoomChat.avatar : defaultGroupAvatar\r\n    }\r\n\r\n    return (\r\n        <HeaderContainer>\r\n            {\r\n                currentRoomChat || temporaryPrivateChat ?\r\n                    <>\r\n                        <AvatarContainer>\r\n                            <Avatar src={getAvatar()} />\r\n                        </AvatarContainer>\r\n                        <RoomInfoContainer>\r\n                            <RoomName>{getRoomName()}</RoomName>\r\n                            {whoIsTyping ? <Typing>{`${whoIsTyping} is typing...`}</Typing> :\r\n                                currentRoomChat && !currentRoomChat.is_private_chat ?\r\n                                    <RoomUsers users={currentRoomChat.users} />\r\n                                    : null\r\n                            }\r\n                            \r\n                            {/* <IsOnlineContainer>\r\n                                <OnlineCircle isOnline={isOnline} />\r\n                                <IsOnlineText style={{}}>\r\n                                    {isOnline ? 'Online' : 'Ofline'}\r\n                                    {' (and its dummy)'}\r\n                                </IsOnlineText>\r\n                            </IsOnlineContainer> */}\r\n                            \r\n                        </RoomInfoContainer>\r\n                    </>\r\n                    : null\r\n            }\r\n        </HeaderContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        temporaryPrivateChat: state.mainReducer.temporaryPrivateChat,\r\n        currentUserId: state.mainReducer.currentUser._id,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatHeader)","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport SendIcon from '@material-ui/icons/Send';\r\nimport socket from '../socketClient'\r\nimport { isMobileOnly } from 'react-device-detect'\r\nimport axios from 'axios'\r\nimport { getToken } from '../services/getToken'\r\nimport { chagneCurrentRoomChat, closeTemporaryPrivateChat } from '../actions/chatAction';\r\nimport backgroundImg from '../images/chatBackground.png'\r\nimport sendPushMessage from '../services/sendPushMessage';\r\n\r\nconst Messages = styled.div({\r\n    width: '100%',\r\n    height: isMobileOnly ? 'calc(100% - 60px)' : 'calc(100% - 60px - 60px)',\r\n    background: '#D9D9D9',\r\n    overflowY: 'scroll',\r\n    backgroundImage: `url(${backgroundImg})`,\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundSize: 'cover',\r\n    boxShadow: 'inset 0px 19px 18px -27px rgba(0,0,0,0.46)',\r\n\r\n})\r\nconst FooterMessagesContainer = styled.div({\r\n    height: 60,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    background: '#D9D9D9',\r\n    borderBottomRightRadius: isMobileOnly ? null : 10\r\n})\r\nconst MessageInput = styled.input({\r\n    fontSize: 14,\r\n    paddingLeft: 10,\r\n    paddingRight: 5,\r\n    width: '80%',\r\n    height: 40,\r\n    borderRadius: 30,\r\n    outline: 'none',\r\n    border: 'none'\r\n})\r\nconst EmojisKeyboard = styled.div({\r\n    width: '10%'\r\n})\r\nconst SendButton = styled.div({\r\n    cursor: 'pointer',\r\n    display: ({ display }) => display == 0 ? 'none' : 'flex',\r\n})\r\nconst SendButtonContainer = styled.div({\r\n    width: '10%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\n\r\nconst TemporaryPrivateChat = ({ currentUser, temporaryPrivateChat,\r\n    chagneCurrentRoomChat, closeTemporaryPrivateChat }) => {\r\n\r\n    const [inputVal, setInputVal] = useState('')\r\n\r\n    const inputHandler = (e) => {\r\n        setInputVal(e.target.value)\r\n    }\r\n\r\n    const createNewPrivateChat = async () => {\r\n        const headers = {\r\n            'Authorization': `Bearer ${getToken()}`\r\n        }\r\n        const body = {\r\n            currentUserId: currentUser._id,\r\n            selectedFriends: [temporaryPrivateChat._id],\r\n            isPrivateChat: true,\r\n            message: inputVal\r\n        }\r\n\r\n        const res = await axios.post('/room', body, { headers })\r\n        if (res.status == 201) {\r\n            const newPrivateChat = res.data\r\n            return newPrivateChat\r\n        }\r\n        else {\r\n            // TODO : handle error with notistick\r\n            return new Error(400)\r\n        }\r\n    }\r\n\r\n    const initAndOpenPrivateChatRoom = async () => {\r\n        if (inputVal.trim() !== '') {\r\n            try {\r\n                const newRoom = await createNewPrivateChat()\r\n                socket.emit('room_created', newRoom.users, newRoom._id)\r\n                sendPushMessage(currentUser, inputVal, newRoom.users)\r\n                setInputVal('')\r\n                closeTemporaryPrivateChat()\r\n                chagneCurrentRoomChat(newRoom)\r\n            }\r\n            catch (err) {\r\n                // TODO : handle error\r\n                console.log(err)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Messages />\r\n            <FooterMessagesContainer>\r\n                <EmojisKeyboard></EmojisKeyboard>\r\n                <MessageInput\r\n                    onChange={inputHandler}\r\n                    value={inputVal}\r\n                    placeholder='Type a message'\r\n                    onKeyDown={(e) => e.keyCode == 13 ? initAndOpenPrivateChatRoom() : null}\r\n                />\r\n                <SendButtonContainer>\r\n                    <SendButton display={inputVal.length} onClick={initAndOpenPrivateChatRoom}>\r\n                        <SendIcon />\r\n                    </SendButton>\r\n                </SendButtonContainer>\r\n            </FooterMessagesContainer>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUser: state.mainReducer.currentUser,\r\n        temporaryPrivateChat: state.mainReducer.temporaryPrivateChat,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        chagneCurrentRoomChat: (room) => { dispatch(chagneCurrentRoomChat(room)) },\r\n        closeTemporaryPrivateChat: () => { dispatch(closeTemporaryPrivateChat()) }\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TemporaryPrivateChat)","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport ChattyLogo from '../images/chatty.png'\r\nimport { Chat as ChatIcon, PersonAdd as PersonAddIcon } from '@material-ui/icons';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\nimport gmailIcon from '../images/gmail.png'\r\nimport { makeStyles } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles({\r\n    github: {\r\n        width: '4.2vw',\r\n        height: '4.2vw',\r\n        padding: 10\r\n    },\r\n    whatsapp: {\r\n        width: '5vw',\r\n        height: '5vw',\r\n        padding: 10,\r\n        color: 'green'\r\n    },\r\n})\r\nconst MessagesContainer = styled.div({\r\n    height:'90%',\r\n    display:'flex',\r\n    flexDirection:'column',\r\n    justifyContent:'center',\r\n})\r\nconst Logo = styled.img({\r\n    width: '6.5vw',\r\n    height: '6.5vw',\r\n})\r\nconst LogoContainer = styled.div({\r\n    width: '100%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n})\r\nconst LogoText = styled.div({\r\n    fontSize: '6vw',\r\n    fontFamily: 'Lobster'\r\n})\r\nconst Welcome = styled.div({\r\n    fontFamily: 'Bitter',\r\n    textAlign: 'center',\r\n    fontSize: '4vw',\r\n    paddingTop: 10\r\n})\r\nconst Link = styled.a({\r\n    color: 'black'\r\n})\r\nconst Links = styled.div({\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n})\r\nconst Paragraph = styled.p({\r\n    fontWeight: 500,\r\n    fontSize: '2vw'\r\n})\r\nconst GuideTextContainer = styled.div({\r\n    marginTop: 15\r\n})\r\nconst TextContainer = styled.div({\r\n    display: 'flex',\r\n    textAling: 'left',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    fontFamily: 'Barlow Condensed'\r\n})\r\nconst BreakLine = styled.hr({\r\n    width: '70%'\r\n})\r\nconst GamilImg = styled.img({\r\n    width: '6.5vw',\r\n    height: '6.5vw'\r\n})\r\nexport default function WelcomePage() {\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <MessagesContainer>\r\n\r\n            <LogoContainer>\r\n                <Logo src={ChattyLogo} />\r\n                <LogoText>Chatty</LogoText>\r\n            </LogoContainer>\r\n\r\n            <Welcome>\r\n                Welcome to chatty\r\n            </Welcome>\r\n\r\n            <TextContainer>\r\n                <Paragraph>\r\n                    Chatty is a Whatsapp-like chat. <br />\r\n                    I built it as side project just for fun. <br />\r\n                    Hope you will enjoy from the app.\r\n\r\n                    <GuideTextContainer>\r\n                        <div>\r\n                            <span>To add new friend press on </span>\r\n                            <PersonAddIcon />\r\n                        </div>\r\n                        <div>\r\n                            <span>To start new conversation press on </span>\r\n                            <ChatIcon />\r\n                        </div>\r\n                    </GuideTextContainer>\r\n                </Paragraph>\r\n            </TextContainer>\r\n\r\n            <BreakLine />\r\n\r\n            <Links>\r\n                <Link href='https://github.com/chenulfan' target=\"_blank\">\r\n                    <GitHubIcon className={classes.github} />\r\n                </Link>\r\n                <Link href='tel:0545697007' >\r\n                    <WhatsAppIcon className={classes.whatsapp} />\r\n                </Link>\r\n                <Link href='mailto:chenulfan@gmail.com' >\r\n                    <GamilImg src={gmailIcon} />\r\n                </Link>\r\n            </Links>\r\n\r\n        </MessagesContainer>\r\n    )\r\n}\r\n","import firebase from 'firebase'\r\nimport axios from 'axios'\r\nimport { getToken } from './services/getToken';\r\nimport initFirebase from './initFirebase';\r\n\r\nexport default async (userOldFcmToken) => {\r\n\r\n    if (firebase.messaging.isSupported()) {\r\n        const messaging = initFirebase()\r\n\r\n        try {\r\n            await messaging.requestPermission()\r\n            console.log(\"have permission\")\r\n\r\n            const fcmToken = await messaging.getToken();\r\n            console.log(fcmToken)\r\n\r\n            const headers = {\r\n                'Authorization': `Bearer ${getToken()}`\r\n            }\r\n            if (userOldFcmToken != fcmToken) {\r\n                await axios.put('/user/fcmToken', { fcmToken }, { headers })\r\n            }\r\n\r\n        }\r\n        catch (err) {\r\n            console.log('err ocoured')\r\n            console.log(err)\r\n            const headers = {\r\n                'Authorization': `Bearer ${getToken()}`\r\n            }\r\n            axios.put('/user/fcmToken', { fcmToken: '' }, { headers })\r\n        }\r\n\r\n        messaging.onMessage((payload) => {\r\n            const { body, title } = payload.notification\r\n            console.log('Message received. ', payload);\r\n        });\r\n    }\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport socket from '../socketClient'\r\nimport RoomsList from './RoomsList';\r\nimport CurrentRoomMessages from './CurrentRoomMessages';\r\nimport { addMessage, getRooms } from '../actions/chatAction';\r\nimport MainPanel from './MainPanel';\r\nimport MainDrawer from './Drawers/MainDrawer';\r\nimport ChatHeader from './ChatHeader';\r\nimport TemporaryPrivateChat from './TemporaryPrivateChat';\r\nimport WelcomePage from './WelcomePage';\r\nimport initFcm from '../initFcm';\r\n\r\nconst MainContainer = styled.div({\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\nconst ChatContainer = styled.div({\r\n    background: '#D9D9D9',\r\n    width: '92%',\r\n    height: '96%',\r\n    borderRadius: 10,\r\n    boxShadow: '4px 7px 25px -5px rgba(0,0,0,0.75)',\r\n    display: 'flex',\r\n\r\n})\r\nconst HeaderContainer = styled.div({\r\n    width: '100%',\r\n    height: '50px',\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n})\r\nconst LeftContainer = styled.div({\r\n    minWidth: 280,\r\n    width: '32%',\r\n    height: '100%',\r\n    position: 'relative',\r\n})\r\n\r\nconst SearchChatContainer = styled.div({\r\n    height: 50,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    background: '#f1ededba',\r\n})\r\nconst SearchChatInput = styled.input({\r\n    fontSize: 12,\r\n    paddingLeft: 10,\r\n    paddingRight: 5,\r\n    width: '90%',\r\n    height: 30,\r\n    borderRadius: 20,\r\n    outline: 'none',\r\n    border: 'none',\r\n    color: '#999',\r\n    '::placeholder': {\r\n        color: '#999'\r\n    }\r\n})\r\nconst RightContainer = styled.div({\r\n    width: '68%', height: '100%'\r\n})\r\n\r\nconst Chat = ({ currentUser, currentRoomChat, temporaryPrivateChat,\r\n    addMessage, isAuth, getRooms }) => {\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    useEffect(() => {\r\n        console.log(currentUser)\r\n        initFcm(currentUser.fcmToken)\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getRooms()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        socket.on('send_message', async (message, to) => {\r\n            addMessage(message, to)\r\n        })\r\n        socket.emit('join_all_rooms', currentUser.rooms)\r\n    }, [isAuth])\r\n\r\n    return (\r\n        <MainContainer>\r\n            <ChatContainer>\r\n                <LeftContainer>\r\n                    <MainDrawer />\r\n                    <MainPanel />\r\n                    <SearchChatContainer>\r\n                        <SearchChatInput\r\n                            placeholder='Search for chat'\r\n                            value={filter}\r\n                            onChange={(e) => setFilter(e.target.value)}\r\n                        />\r\n                    </SearchChatContainer>\r\n                    <RoomsList filter={filter} />\r\n                </LeftContainer>\r\n\r\n                <RightContainer>\r\n                    <ChatHeader />\r\n                    {temporaryPrivateChat ?\r\n                        <TemporaryPrivateChat />\r\n                        :\r\n                        currentRoomChat ? <CurrentRoomMessages /> : <WelcomePage />\r\n                    }\r\n                </RightContainer>\r\n            </ChatContainer>\r\n        </MainContainer>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.mainReducer.currentUser,\r\n        isAuth: state.mainReducer.isAuth,\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        temporaryPrivateChat: state.mainReducer.temporaryPrivateChat,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getRooms: () => { dispatch(getRooms()) },\r\n        addMessage: (message, roomId) => { dispatch(addMessage(message, roomId)) },\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat)","import React, { useState } from 'react';\r\nimport {\r\n    makeStyles, List, Drawer, Divider, ListItem, ListItemIcon, ListItemText\r\n} from '@material-ui/core';\r\nimport {\r\n    MoveToInbox as InboxIcon, Mail as MailIcon, Menu as MenuIcon,\r\n    PersonAdd as PersonAddIcon, Chat as ChatIcon\r\n} from '@material-ui/icons';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport defaultAvatar from '../../images/avatar.png';\r\nimport { connect } from 'react-redux'\r\nimport { logOutUser } from '../../actions/authActions';\r\nimport { openDrawer as openNewChatDrawer, prevPage } from '../../actions/Drawers/newChatDrawerAction';\r\nimport { openDrawer as openProfileDrawer } from '../../actions/Drawers/profileDrawerAction';\r\nimport { openDrawer as openAddFriendDrawer } from '../../actions/Drawers/addFriendDrawerAction';\r\nimport { closeDrawer as closeNewChatDrawer } from '../../actions/Drawers/newChatDrawerAction';\r\nimport { closeDrawer as closeProfileDrawer } from '../../actions/Drawers/profileDrawerAction';\r\nimport { closeDrawer as closeAddFriendDrawer } from '../../actions/Drawers/addFriendDrawerAction';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport { STORAGE_URL } from '../../global/consts';\r\nimport styled from 'styled-components'\r\nimport deleteFcmToken from '../../services/deleteFcmToken';\r\n\r\nconst useStyles = makeStyles({\r\n    list: {\r\n        height: '250px',\r\n        width: '250px',\r\n    },\r\n    userAvatar: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignContent: 'center'\r\n    },\r\n    userName: {\r\n        textAlign: 'center'\r\n    },\r\n    logoutBtn: {\r\n        textAlign: 'start'\r\n    }\r\n});\r\nconst Avatar = styled.img({\r\n    width: 125, height: 125, borderRadius: '50%'\r\n})\r\n\r\nconst MenuDrawer = ({ currentUser, isDrawerOpen, openAddFriendDrawer, openNewChatDrawer, openProfileDrawer,\r\n    friends, logOut, isNewChatDrawerOpen, isProfileDrawerOpen, isAddFriendDrawerOpen, prevPage,\r\n    currentUserAvatar, closeProfileDrawer, closeNewChatDrawer, closeAddFriendDrawer, newChatDrawerPage }) => {\r\n\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n    const name = currentUser && currentUser.name ? currentUser.name : null\r\n    const [drawerConfig, setDrawerConfig] = useState(false)\r\n\r\n    const toggleDrawer = () => {\r\n        setDrawerConfig(!drawerConfig)\r\n    };\r\n\r\n    const handleRouteClick = (path) => {\r\n        history.push(`/${path}`)\r\n    }\r\n    const closeDrawer = () => {\r\n        if (isNewChatDrawerOpen) {\r\n            if (newChatDrawerPage < 1) {\r\n                closeNewChatDrawer()\r\n            }\r\n            else {\r\n                prevPage()\r\n            }\r\n        }\r\n        else if (isProfileDrawerOpen) {\r\n            closeProfileDrawer()\r\n        }\r\n        else if (isAddFriendDrawerOpen) {\r\n            closeAddFriendDrawer()\r\n        }\r\n    }\r\n    const logOutMe = async () => {\r\n        await deleteFcmToken()\r\n        logOut()\r\n        window.location.pathname = '/login'\r\n    }\r\n\r\n    const list = () => (\r\n        <div role=\"presentation\" onClick={toggleDrawer} className={classes.list}>\r\n            <List>\r\n                <ListItem button className={classes.userAvatar}>\r\n                    <div>\r\n                        <Avatar src={currentUserAvatar ? STORAGE_URL + currentUserAvatar : defaultAvatar}\r\n                            onClick={openProfileDrawer}\r\n                        />\r\n                    </div>\r\n                </ListItem>\r\n                <ListItem>\r\n                    <ListItemText primary={'Hello, ' + name} className={classes.userName} />\r\n                </ListItem>\r\n                <ListItem button onClick={logOutMe}>\r\n                    <ListItemText primary='logout' className={classes.logoutBtn} />\r\n                </ListItem>\r\n            </List>\r\n            <Divider />\r\n            <List>\r\n                {\r\n                    !currentUser ?\r\n                        <>\r\n                            <ListItem button onClick={() => handleRouteClick('login')}>\r\n                                <ListItemIcon>\r\n                                    <InboxIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary='Login' />\r\n                            </ListItem>\r\n                            <ListItem button onClick={() => handleRouteClick('register')}>\r\n                                <ListItemIcon>\r\n                                    <InboxIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary='register' />\r\n                            </ListItem>\r\n                        </>\r\n                        :\r\n                        <>\r\n                            <ListItem button onClick={() => openNewChatDrawer(friends)}>\r\n                                <ListItemIcon>\r\n                                    <ChatIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary='New Chat' />\r\n                            </ListItem>\r\n\r\n                            <ListItem button onClick={openAddFriendDrawer}>\r\n                                <ListItemIcon>\r\n                                    <PersonAddIcon />\r\n                                </ListItemIcon>\r\n                                <ListItemText primary='Add Friend' />\r\n                            </ListItem>\r\n                        </>\r\n                }\r\n            </List>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            {isDrawerOpen ?\r\n                <div onClick={closeDrawer}><ArrowBackIcon /></div> :\r\n                <div onClick={toggleDrawer}><MenuIcon /></div>\r\n            }\r\n            <Drawer anchor='left' open={drawerConfig} onClose={toggleDrawer} style={{ height: '200px' }}>\r\n                {list()}\r\n            </Drawer>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.mainReducer.friends,\r\n        currentUser: state.mainReducer.currentUser,\r\n        currentUserAvatar: state.mainReducer.currentUser.avatar,\r\n        isNewChatDrawerOpen: state.drawerReducer.newChat.isDrawerOpen,\r\n        newChatDrawerPage: state.drawerReducer.newChat.page,\r\n        isProfileDrawerOpen: state.drawerReducer.profile.isDrawerOpen,\r\n        isAddFriendDrawerOpen: state.drawerReducer.addFriend.isDrawerOpen,\r\n        isDrawerOpen: state.drawerReducer.isDrawerOpen,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        logOut: () => { dispatch(logOutUser()) },\r\n        prevPage: () => { dispatch(prevPage()) },\r\n        openNewChatDrawer: (friends) => { dispatch(openNewChatDrawer(friends)) },\r\n        openProfileDrawer: () => { dispatch(openProfileDrawer()) },\r\n        openAddFriendDrawer: () => { dispatch(openAddFriendDrawer()) },\r\n        closeNewChatDrawer: () => { dispatch(closeNewChatDrawer()) },\r\n        closeProfileDrawer: () => { dispatch(closeProfileDrawer()) },\r\n        closeAddFriendDrawer: () => { dispatch(closeAddFriendDrawer()) },\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuDrawer)","import React, { useEffect, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport socket from '../socketClient'\r\nimport MenuDrawer from './mobileDrawer/MenuDrawer'\r\nimport Notification from '../component/Notification'\r\nimport { chagneCurrentRoomChat } from '../actions/chatAction'\r\nimport { MoreVert as MoreVertIcon, ArrowBack as ArrowBackIcon } from '@material-ui/icons';\r\nimport { STORAGE_URL } from '../global/consts';\r\nimport defaultAvatar from '../images/avatar.png'\r\nimport defaultGroupAvatar from '../images/groupAvatar.png'\r\nimport RoomUsers from '../component/RoomUsers'\r\n\r\nconst Header = styled.div({\r\n    width: '100%', height: 60, background: '#E3E3E3',\r\n    display: 'flex', position: 'fixed', top: 0, zIndex: 1\r\n})\r\nconst LeftIconContainer = styled.div({\r\n    marginLeft: 5,\r\n    width: '10%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    height:'100%', width: '10%'\r\n})\r\nconst NotificationContainer = styled.div({\r\n    marginRight: 10,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n})\r\nconst SettingContainer = styled(NotificationContainer)({\r\n    height:'100%', width: '10%', marginRight:0\r\n})\r\nconst Logo = styled.div({\r\n    flex: 1, textAlign: 'center', fontWeight: 400, fontSize: 40,\r\n    fontFamily: 'Lobster'\r\n})\r\nconst AvatarContainer = styled.div({\r\n    height: '100%',\r\n    width: '45px',\r\n    paddingLeft: '2px',\r\n    paddingRight: '2px',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    height:'100%', width: '10%'\r\n})\r\nconst Avatar = styled.img({\r\n    width: 40, height: 40, borderRadius: '50%'\r\n})\r\nconst RoomInfoContainer = styled.div({\r\n    display: 'flex', flexDirection: 'column', justifyContent: 'center', \r\n    height:'100%', width: '70%',\r\n    marginLeft: 10\r\n})\r\nconst RoomName = styled.div({\r\n    fontWeight: 600\r\n})\r\nconst Typing = styled.div({\r\n    fontWeight: 600\r\n})\r\n\r\nconst MobileChatHeader = ({ currentRoomChat, chagneCurrentRoomChat, currentUserId, temporaryPrivateChat }) => {\r\n\r\n    const [whoIsTyping, setWhoIsTyping] = useState(null)\r\n\r\n    useEffect(() => {\r\n        socket.on('typing', (from) => {\r\n            setWhoIsTyping(from)\r\n        })\r\n        socket.on('stopped_typing', () => {\r\n            setWhoIsTyping(null)\r\n        })\r\n    }, [])\r\n\r\n    const getRoomName = () => {\r\n        if (currentRoomChat.is_private_chat) {\r\n            const otherUser = currentRoomChat.users.find(user => user._id !== currentUserId)\r\n            return otherUser.name\r\n        }\r\n        return currentRoomChat.name\r\n    }\r\n\r\n    const getAvatar = () => {\r\n        if (currentRoomChat.is_private_chat) {\r\n            const otherUser = currentRoomChat.users.find(user => user._id !== currentUserId)\r\n            return otherUser.avatar ? STORAGE_URL + otherUser.avatar : defaultAvatar\r\n        }\r\n        return currentRoomChat.avatar ? STORAGE_URL + currentRoomChat.avatar : defaultGroupAvatar\r\n    }\r\n\r\n    return (\r\n        <Header>\r\n            {currentRoomChat ?\r\n                <>\r\n                    <LeftIconContainer>\r\n                        <div onClick={() => chagneCurrentRoomChat({})}>\r\n                            <ArrowBackIcon />\r\n                        </div>\r\n                    </LeftIconContainer>\r\n                    <AvatarContainer>\r\n                        <Avatar src={getAvatar()} />\r\n                    </AvatarContainer>\r\n                    <RoomInfoContainer>\r\n                        <RoomName>{getRoomName()}</RoomName>\r\n                        {whoIsTyping ? <Typing>{`${whoIsTyping} is typing...`}</Typing> :\r\n                            currentRoomChat && !currentRoomChat.is_private_chat ?\r\n                                <RoomUsers users={currentRoomChat.users} />\r\n                                : null\r\n                        }\r\n                    </RoomInfoContainer>\r\n                    <SettingContainer>\r\n                        <MoreVertIcon />\r\n                    </SettingContainer>\r\n                </>\r\n                :\r\n                <>\r\n                    <LeftIconContainer>\r\n                        <MenuDrawer />\r\n                    </LeftIconContainer>\r\n                    <Logo>Chatty</Logo>\r\n                    <NotificationContainer>\r\n                        <Notification />\r\n                    </NotificationContainer>\r\n                </>\r\n            }\r\n        </Header>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        currentUserId: state.mainReducer.currentUser._id,\r\n        temporaryPrivateChat: state.mainReducer.temporaryPrivateChat,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        chagneCurrentRoomChat: () => { dispatch(chagneCurrentRoomChat()) },\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileChatHeader)\r\n\r\n\r\n","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport logo from '../images/chatty.png'\r\n\r\nconst animation = keyframes({\r\n    '0%': { opacity: 0 },\r\n    '100%': { opacity: 1 }\r\n})\r\nconst Logo = styled.div({\r\n    paddingTop: 200,\r\n    opacity: 0,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    animationName: () => animation,\r\n    animationDuration: '2.5s',\r\n    animationIterationCount: 'infinite'\r\n})\r\nconst LogoContainer =styled.div({\r\n    background: 'white', height: '100%', width: '100%'\r\n})\r\n\r\nexport default function ChattyLogo() {\r\n    return (\r\n        <LogoContainer>\r\n            <Logo>\r\n                <img src={logo} />\r\n            </Logo>\r\n        </LogoContainer>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport RoomsList from '../component/RoomsList'\r\nimport AddFriendDrawer from '../component/Drawers/AddFriendDrawer/AddFriendDrawer'\r\nimport ProfileDrawer from '../component/Drawers/ProfileDrawer/ProfileDrawer'\r\nimport NewChatDrawer from '../component/Drawers/NewChatDrawer/NewChatDrawer'\r\nimport styled from 'styled-components'\r\nimport { connect } from 'react-redux'\r\nimport socket from '../socketClient'\r\nimport CurrentRoomMessages from '../component/CurrentRoomMessages'\r\nimport { addMessage, getRooms } from '../actions/chatAction'\r\nimport MobileChatHeader from './MobileChatHeader'\r\nimport TemporaryPrivateChat from '../component/TemporaryPrivateChat'\r\nimport ChattyLogo from '../component/ChattyLogo'\r\nimport initFcm from '../initFcm'\r\n\r\nconst MainContainer = styled.div({\r\n    height: '100%',\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n})\r\nconst ViewContainer = styled.div({\r\n    width: '100%',\r\n    marginTop: 60,\r\n    height: 'calc(100% - 60px)',\r\n    background: 'white'\r\n})\r\nconst SearchChatContainer = styled.div({\r\n    height: 50,\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    background: '#f1ededba',\r\n})\r\nconst SearchChatInput = styled.input({\r\n    fontSize: 12,\r\n    paddingLeft: 10,\r\n    paddingRight: 5,\r\n    width: '90%',\r\n    height: 30,\r\n    borderRadius: 20,\r\n    outline: 'none',\r\n    border: 'none',\r\n    color: '#999',\r\n    '::placeholder': {\r\n        color: '#999'\r\n    }\r\n})\r\n\r\nconst MobileChat = ({ isProfileDrawerOpen, isNewChatDrawerOpen, isDrawerOpen, isAddFriendDrawerOpen, loading,\r\n    isAuth, currentUser, currentRoomChat, addMessage, temporaryPrivateChat, getRooms }) => {\r\n\r\n    useEffect(() => {\r\n        initFcm()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getRooms()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 1);\r\n    }, [])\r\n\r\n    const [filter, setFilter] = useState('')\r\n\r\n    useEffect(() => {\r\n        socket.on('send_message', async (message, to) => {\r\n            addMessage(message, to)\r\n        })\r\n        socket.emit('join_all_rooms', currentUser.rooms)\r\n    }, [isAuth])\r\n\r\n    const whichView = () => {\r\n        if (!isDrawerOpen) {\r\n            if (temporaryPrivateChat) return <TemporaryPrivateChat />\r\n            if (currentRoomChat) return <CurrentRoomMessages />\r\n            return (\r\n                <>\r\n                    <SearchChatContainer>\r\n                        <SearchChatInput\r\n                            placeholder='Search for chat'\r\n                            value={filter}\r\n                            onChange={(e) => setFilter(e.target.value)}\r\n                        />\r\n                    </SearchChatContainer>\r\n                    <RoomsList filter={filter} />\r\n                </>\r\n            )\r\n        }\r\n        if (isAddFriendDrawerOpen) return <AddFriendDrawer />\r\n        if (isProfileDrawerOpen) return <ProfileDrawer />\r\n        if (isNewChatDrawerOpen) return <NewChatDrawer />\r\n\r\n    }\r\n\r\n    return (\r\n        loading ?\r\n            <ChattyLogo />\r\n            :\r\n            <MainContainer>\r\n                <MobileChatHeader />\r\n                <ViewContainer>\r\n                    {whichView()}\r\n                </ViewContainer>\r\n            </MainContainer>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.mainReducer.currentUser,\r\n        isAuth: state.mainReducer.isAuth,\r\n        isNewChatDrawerOpen: state.drawerReducer.newChat.isDrawerOpen,\r\n        isProfileDrawerOpen: state.drawerReducer.profile.isDrawerOpen,\r\n        isAddFriendDrawerOpen: state.drawerReducer.addFriend.isDrawerOpen,\r\n        isDrawerOpen: state.drawerReducer.isDrawerOpen,\r\n        currentRoomChat: state.mainReducer.currentRoomChat,\r\n        temporaryPrivateChat: state.mainReducer.temporaryPrivateChat,\r\n        loading: state.mainReducer.loading,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addMessage: (message, roomId) => { dispatch(addMessage(message, roomId)) },\r\n        getRooms: () => { dispatch(getRooms()) },\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileChat)","import passwordValidator from 'password-validator'\r\n    const schema = new passwordValidator()\r\n    schema\r\n        .is().min(8)\r\n        .is().max(16)\r\n        .has().uppercase()\r\n        .has().lowercase()\r\n        .has().digits()\r\n        .has().not().spaces()\r\n    \r\nexport default schema","import passwordValidation from '../services/passwordValidation'\r\nimport passwordErrMessage from '../services/passwordErrMessage';\r\n\r\nexport default (values) => {\r\n\r\n    const errors = {};\r\n    if (!values.name) {\r\n        errors.name = 'Full name required';\r\n    } else if (values.name.length > 15) {\r\n        errors.name = 'Must be 15 characters or less';\r\n    }\r\n\r\n    if (!values.password) {\r\n        errors.password = 'Password required';\r\n    } else if (!passwordValidation.validate(values.password)) {\r\n        const errMessage = passwordErrMessage(values.password)\r\n        errors.password = errMessage;\r\n    }\r\n\r\n    if (!values.email) {\r\n        errors.email = 'Email required';\r\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\r\n        errors.email = 'Invalid email address';\r\n    }\r\n\r\n    return errors;\r\n};\r\n\r\n","import passwordValidation from '../services/passwordValidation'\r\n\r\nconst MIN_LETTERS = 8\r\nconst MAX_LETTERS = 16\r\n\r\nexport default (password) => {\r\n    const errList = passwordValidation.validate(password, { list: true })\r\n    let errMessage = 'Must include:'\r\n    errList.forEach(err => {\r\n        if (err == 'min') errMessage += ` ${MIN_LETTERS} letters,`\r\n        else if (err == 'max') errMessage += ` ${MAX_LETTERS} letters,`\r\n        else{\r\n            errMessage += ` ${err},`\r\n        }\r\n    })\r\n    return errMessage.slice(0,-1)\r\n}\r\n","import React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport {\r\n    TextField, CssBaseline, makeStyles, Avatar, Typography, Grid, Paper, Button\r\n} from '@material-ui/core';\r\nimport { isMobileOnly } from 'react-device-detect';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport axios from 'axios';\r\nimport { logInUser } from '../actions/authActions';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSnackbar } from 'notistack';\r\nimport LoginFormValidation from '../services/LoginFormValidation';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignContent: 'center',\r\n    },\r\n    image: {\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: '54px 26px',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: '#357951',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        background: '#357951',\r\n        '&:hover': {\r\n            backgroundColor: '#34C16C',\r\n        }\r\n    },\r\n    input: {\r\n        '&$focused': {\r\n            borderColoer: '#34C16C',\r\n        },\r\n    }\r\n}));\r\n\r\n\r\nconst Register = () => {\r\n    const classes = useStyles();\r\n\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            name: '',\r\n            password: '',\r\n            email: '',\r\n        },\r\n        validate: (values) => LoginFormValidation(values),\r\n        onSubmit: () => submitForm(),\r\n    });\r\n\r\n    const submitForm = async () => {\r\n        try {\r\n            const res = await axios.post(`/users`, { ...formik.values })\r\n            console.log(res)\r\n            if (res.status === 201) {\r\n                localStorage.setItem('token', res.data.token)\r\n                logInUser({ currentUser: res.data })\r\n                window.location.pathname = '/'\r\n            }\r\n        }\r\n        catch (err) {\r\n            console.log(err.response.data)\r\n            enqueueSnackbar(err.response.data, { variant: 'error' });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid container component='main' className={classes.root}>\r\n            <CssBaseline />\r\n            <Grid item xs={12} sm={8} md={4} component={Paper} elevation={6} square\r\n                style={{ height: isMobileOnly ? '100%' : null }}\r\n            >\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component='h1' variant='h5'>Sign up</Typography>\r\n\r\n                    <form onSubmit={formik.handleSubmit}>\r\n\r\n                        <TextField\r\n                            id='name'\r\n                            name='name'\r\n                            type='text'\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            autoFocus\r\n                            label={formik.touched.name && formik.errors.name ?\r\n                                formik.errors.name : 'Full name'}\r\n                            error={formik.touched.name && formik.errors.name ? true : false}\r\n                            autoComplete='fullFame'\r\n                            onChange={formik.handleChange}\r\n                            onBlur={formik.handleBlur}\r\n                            value={formik.values.name}\r\n                        />\r\n\r\n                        <TextField\r\n                            id='email'\r\n                            name='email'\r\n                            type='email'\r\n                            label={formik.touched.email && formik.errors.email ?\r\n                                formik.errors.email : 'Email'}\r\n                            error={formik.touched.email && formik.errors.email ? true : false}\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            onChange={formik.handleChange}\r\n                            onBlur={formik.handleBlur}\r\n                            value={formik.values.email}\r\n                        />\r\n\r\n                        <TextField\r\n                            id='password'\r\n                            name='password'\r\n                            type='password'\r\n                            label={formik.touched.password && formik.errors.password ?\r\n                                formik.errors.password : 'password'}\r\n                            error={formik.touched.password && formik.errors.password ? true : false}\r\n                            variant='outlined'\r\n                            margin='normal'\r\n                            required\r\n                            fullWidth\r\n                            onChange={formik.handleChange}\r\n                            onBlur={formik.handleBlur}\r\n                            value={formik.values.password}\r\n                        />\r\n\r\n                        <Button\r\n                            fullWidth\r\n                            variant='contained'\r\n                            color='primary'\r\n                            className={classes.submit}\r\n                            type=\"submit\"\r\n                        >\r\n                            Sign Up\r\n                        </Button>\r\n\r\n                        <Grid container justify='flex-end'>\r\n                            <Link to='/login' style={{ color: 'rgb(53, 121, 81)' }}>\r\n                                Already have an account? Sign in\r\n                                </Link>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n        </Grid >\r\n    );\r\n};\r\nexport default Register\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         currentUser: state.mainReducer.currentUser,\r\n//         // isAuth: state.mainReducer.isAuth\r\n//     }\r\n// }\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         logInUser: (userData) => { dispatch(logInUser(userData)) },\r\n//     }\r\n// }\r\n\r\n// export default connect(mapStateToProps, mapDispatchToProps)(Register1)","import React, { useEffect} from 'react';\r\nimport { MainContainer } from './global/style'\r\nimport {  BrowserRouter as Router, Route, Redirect} from \"react-router-dom\";\r\nimport Login from './screens/Login';\r\nimport { connect } from 'react-redux'\r\nimport { isAuthenticated } from './actions/authActions';\r\nimport { isMobileOnly } from \"react-device-detect\";\r\nimport Chat from './component/Chat';\r\nimport MobileChat from './mobileView/MobileChat';\r\nimport { openLoader } from './actions/chatAction';\r\nimport Register from './screens/Register';\r\nimport { SnackbarProvider } from 'notistack'\r\nimport PrivateRoute from './component/PrivateRoute';\r\n\r\nconst App1 = ({ isAuth, isAuthenticated, openLoader }) => {\r\n\r\n  useEffect(() => {\r\n    isAuthenticated()\r\n  }, [isAuth])\r\n\r\n  useEffect(() => {\r\n    openLoader()\r\n  }, [])\r\n\r\n  return (\r\n    <MainContainer>\r\n      <SnackbarProvider maxSnack={3} >\r\n        <Router>\r\n          {isAuth ?\r\n            <>\r\n              <Route exact path=\"/\" render={() => <Redirect to={`/chat`} />} />\r\n              <Route path=\"/chat\" component={isMobileOnly ? MobileChat : Chat} />\r\n            </>\r\n            :\r\n            <>\r\n              <Route exact path=\"/\" component={Login} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/register\" component={Register} />\r\n            </>\r\n          }\r\n          {/* <Redirect to='/' /> */}\r\n        </Router>\r\n      </SnackbarProvider>\r\n    </MainContainer>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    isAuth: state.mainReducer.isAuth\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    isAuthenticated: () => { dispatch(isAuthenticated()) },\r\n    openLoader: () => { dispatch(openLoader()) },\r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App1)","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","\r\nimport {\r\n    LOGIN_USER, LOGOUT_USER, NOT_AUTHENTICATED_USER,\r\n    AUTHENTICATED_USER, CHANGE_AVATAR, CHANGE_NAME\r\n} from '../actions/authActions'\r\nimport {\r\n    GET_ROOMS, CURRENT_ROOM_CHAT, ADD_MESSAGE,\r\n    LOADING, OPEN_TEMPORARY_PRIVATE_CHAT, CLOSE_TEMPORARY_PRIVATE_CHAT, MESSAGE_TEXT_INPUT_VALUE\r\n} from \"../actions/chatAction\"\r\nimport {\r\n    ADD_PENDING_REQUEST, REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS,\r\n    ADD_FRIEND_REQUEST, REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS,\r\n    REMOVE_FRIEND_REQUEST, REMOVE_PENDING_REQUEST\r\n} from '../actions/notificationAction'\r\n\r\nconst initState = {\r\n    loading: false,\r\n    currentUser: null,\r\n    isAuth: null,\r\n    isLoggedIn: false,\r\n    rooms: [],\r\n    currentRoomChat: null,\r\n    temporaryPrivateChat: null,\r\n    friends: [],\r\n    pendingRequests: [],\r\n    friendRequests: [],\r\n    messageTextInputVal: ''\r\n}\r\n\r\nconst mainReducer = (state = initState, action) => {\r\n\r\n    switch (action.type) {\r\n        case LOGIN_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: action.currentUser,\r\n                friends: action.friends,\r\n                friendRequests: action.friendRequests,\r\n                pendingRequests: action.pendingRequests,\r\n                isAuth: true,\r\n                isLoggedIn: true\r\n            }\r\n        case LOGOUT_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: null,\r\n                isAuth: null,\r\n                isLoggedIn: false,\r\n                currentRoomChat: {}\r\n            }\r\n        case AUTHENTICATED_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: action.currentUser,\r\n                friends: action.friends,\r\n                friendRequests: action.friendRequests,\r\n                pendingRequests: action.pendingRequests,\r\n                isAuth: true,\r\n                isLoggedIn: true,\r\n            }\r\n        case NOT_AUTHENTICATED_USER:\r\n            return {\r\n                ...state,\r\n                currentUser: null,\r\n                isAuth: null\r\n            }\r\n        case CHANGE_AVATAR:\r\n            return {\r\n                ...state,\r\n                currentUser: {\r\n                    ...state.currentUser,\r\n                    avatar: action.imgUrl\r\n                }\r\n            }\r\n        case GET_ROOMS:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                rooms: action.rooms.sort((a, b) => {\r\n                    const aTime = a.last_message_sent_time ? a.last_message_sent_time : a.created_time_in_number\r\n                    const bTime = b.last_message_sent_time ? b.last_message_sent_time : b.created_time_in_number\r\n                    return bTime - aTime\r\n                }),\r\n            }\r\n        case CURRENT_ROOM_CHAT:\r\n            return {\r\n                ...state,\r\n                currentRoomChat: action.room,\r\n                temporaryPrivateChat: null\r\n            }\r\n        case ADD_MESSAGE:\r\n            let currentRoom\r\n            const rooms = state.rooms.filter(room => {\r\n                if (room._id == action.roomId) {\r\n                    currentRoom = {\r\n                        ...room,\r\n                        messages: [...room.messages, action.message]\r\n                    }\r\n                }\r\n                else {\r\n                    return room\r\n                }\r\n            })\r\n            \r\n            if (state.currentRoomChat?._id === action.roomId) {\r\n                return {\r\n                    ...state,\r\n                    rooms: [currentRoom, ...rooms],\r\n                    currentRoomChat: {\r\n                        ...state.currentRoomChat,\r\n                        messages: [...state.currentRoomChat.messages, action.message]\r\n                    }\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                rooms: [currentRoom, ...rooms]\r\n            }\r\n\r\n        case ADD_PENDING_REQUEST:\r\n            return {\r\n                ...state,\r\n                pendingRequests: [...state.pendingRequests, action.friend]\r\n            }\r\n        case REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS:\r\n            return {\r\n                ...state,\r\n                pendingRequests: state.pendingRequests.filter(req => req._id !== action.friend._id),\r\n                friends: [...state.friends, action.friend]\r\n            }\r\n        case REMOVE_PENDING_REQUEST:\r\n            return {\r\n                ...state,\r\n                pendingRequests: state.pendingRequests.filter(req => req._id !== action.friendId),\r\n            }\r\n        case ADD_FRIEND_REQUEST:\r\n            return {\r\n                ...state,\r\n                friendRequests: [...state.friendRequests, action.friend]\r\n            }\r\n        case REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS:\r\n            return {\r\n                ...state,\r\n                friendRequests: state.friendRequests.filter(req => req._id !== action.friend._id),\r\n                friends: [...state.friends, action.friend]\r\n            }\r\n        case REMOVE_FRIEND_REQUEST:\r\n            return {\r\n                ...state,\r\n                friendRequests: state.friendRequests.filter(req => req._id !== action.friendId),\r\n            }\r\n        case LOADING:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n        case OPEN_TEMPORARY_PRIVATE_CHAT:\r\n            return {\r\n                ...state,\r\n                temporaryPrivateChat: action.receiver\r\n            }\r\n        case CLOSE_TEMPORARY_PRIVATE_CHAT:\r\n            return {\r\n                ...state,\r\n                temporaryPrivateChat: null\r\n            }\r\n        case MESSAGE_TEXT_INPUT_VALUE: {\r\n            return {\r\n                ...state,\r\n                messageTextInputVal: action.inputVal\r\n            }\r\n        }\r\n        case CHANGE_NAME: {\r\n            return {\r\n                ...state,\r\n                currentUser: {\r\n                    ...state.currentUser,\r\n                    name: action.name\r\n                }\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default mainReducer;\r\n","import {\r\n    OPEN_DRAWER as OPEN_NEW_CHAT_DRAWER, CLOSE_DRAWER as CLOSE_NEW_CHAT_DRAWER,\r\n    SELECT_FRIEND, UNSELECT_FRIEND, NEXT_PAGE_NEW_CHAT_DRAWER,\r\n    PREV_PAGE_NEW_CHAT_DRAWER, GROUP_NAME_INPUT_HANDLER\r\n} from '../actions/Drawers/newChatDrawerAction'\r\n\r\nimport {\r\n    OPEN_DRAWER as OPEN_PROFILE_DRAWER, CLOSE_DRAWER as CLOSE_PROFILE_DRAWER,\r\n} from '../actions/Drawers/profileDrawerAction'\r\n\r\nimport {\r\n    OPEN_DRAWER as OPEN_ADD_FRIEND_DRAWER, CLOSE_DRAWER as CLOSE_ADD_FRIEND_DRAWER,\r\n} from '../actions/Drawers/addFriendDrawerAction'\r\n\r\n\r\n\r\nconst initState = {\r\n    isDrawerOpen: false,\r\n    newChat: {\r\n        isDrawerOpen: false,\r\n        page: 0,\r\n        allFriends: [],\r\n        selectedFriends: [],\r\n        groupName: '',\r\n        avatar: '',\r\n    },\r\n    addFriend: {\r\n        isDrawerOpen: false,\r\n    },\r\n    profile: {\r\n        isDrawerOpen: false,\r\n    }\r\n}\r\n\r\nconst drawerReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n\r\n        case OPEN_NEW_CHAT_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: true,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    isDrawerOpen: true,\r\n                    page: 1,\r\n                    allFriends: action.friends\r\n                }\r\n            }\r\n        case CLOSE_NEW_CHAT_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: false,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    isDrawerOpen: false,\r\n                    selectedFriends: [],\r\n                    friends: [],\r\n                    page: 0\r\n                }\r\n            }\r\n        case SELECT_FRIEND:\r\n            return {\r\n                ...state,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    selectedFriends: [...state.newChat.selectedFriends, action.friend],\r\n                    allFriends: state.newChat.allFriends.filter(friend => friend._id !== action.friend._id)\r\n                }\r\n            }\r\n        case UNSELECT_FRIEND:\r\n            return {\r\n                ...state,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    selectedFriends: state.newChat.selectedFriends.filter(friend => friend._id !== action.friend._id),\r\n                    allFriends: [...state.newChat.allFriends, action.friend].sort((a, b) => a.name.localeCompare(b.name))\r\n                }\r\n            }\r\n        case NEXT_PAGE_NEW_CHAT_DRAWER:\r\n            return {\r\n                ...state,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    page: state.newChat.page + 1\r\n                }\r\n            }\r\n        case PREV_PAGE_NEW_CHAT_DRAWER:\r\n            return {\r\n                ...state,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    page: state.newChat.page - 1\r\n                }\r\n            }\r\n        case GROUP_NAME_INPUT_HANDLER:\r\n            return {\r\n                ...state,\r\n                newChat: {\r\n                    ...state.newChat,\r\n                    groupName: action.inputVal\r\n                }\r\n            }\r\n        case OPEN_PROFILE_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: true,\r\n                profile: {\r\n                    isDrawerOpen: true\r\n                }\r\n            }\r\n        case CLOSE_PROFILE_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: false,\r\n                profile: {\r\n                    isDrawerOpen: false\r\n                }\r\n            }\r\n        case OPEN_ADD_FRIEND_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: true,\r\n                addFriend: {\r\n                    isDrawerOpen: true\r\n                }\r\n            }\r\n        case CLOSE_ADD_FRIEND_DRAWER:\r\n            return {\r\n                ...state,\r\n                isDrawerOpen: false,\r\n                addFriend: {\r\n                    isDrawerOpen: false\r\n                }\r\n            }\r\n\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default drawerReducer;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport { Provider } from 'react-redux'\r\nimport thunk from 'redux-thunk'\r\nimport firebase from 'firebase'\r\nimport mainReducer from './reducers/mainReducer';\r\nimport drawerReducer from './reducers/drawerReducer';\r\n\r\n\r\n\r\nif (firebase.messaging.isSupported() && \"serviceWorker\" in navigator) {\r\n  navigator.serviceWorker\r\n    .register(\"./firebase-messaging-sw.js\")\r\n    .then(function(registration) {\r\n      console.log(\"Registration successful, scope is:\", registration.scope);\r\n    })\r\n    .catch(function(err) {\r\n      console.log(\"Service worker registration failed, error:\", err);\r\n    });\r\n}\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n  mainReducer,\r\n  drawerReducer,\r\n})\r\n\r\nconst store = createStore(rootReducer, {}, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/groupAvatar.ad3cfc48.png\";"],"sourceRoot":""}