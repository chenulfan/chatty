(this.webpackJsonpsome=this.webpackJsonpsome||[]).push([[0],{101:function(e,t,n){e.exports=n.p+"static/media/chatBackground.0ae3ba58.png"},104:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAACMCAYAAACuwEE+AAAACXBIWXMAAAsTAAALEwEAmpwYAAAF0WlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDIwLTA2LTE4VDE3OjM5OjIxKzAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIwLTA2LTE4VDE3OjM5OjIxKzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMC0wNi0xOFQxNzozOToyMSswMzowMCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NTRkNzdlZC01NDcyLTQ3NDQtYWE3ZS1jNzNhNTcxNjBhOTkiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDoyMGU1MmViNy1mZmJkLTQxNDQtYjI3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"},17:function(e,t,n){e.exports=n.p+"static/media/avatar.e67e358c.png"},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAJT2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDUgNzkuMTYzNDk5LCAyMDE4LzA4LzEzLTE2OjQwOjIyICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmI0NzRlYzI1LWE2MTgtZTM0ZC1iNjBmLTVjZjIwNTU3OGNiYiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3OGExYWJkMC01YzZmLWQ4NDMtYjIyZS02MzljYjg4OTFiMDYiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0iMDZGMzJBNUJFQUE0RkI1NUE1MTJDM0I0NEJCNDc5QzAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0iIiB0aWZmOkltYWdlV2lkdGg9IjgyMCIgdGlmZjpJbWFnZUxlbmd0aD0iNTAwIiB0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb249IjIiIHRpZmY6U2FtcGxlc1BlclBpeGVsPSIzIiB0aWZmOlhSZXNvbHV0aW9uPSI5Ni8xIiB0aWZmOllSZXNvbHV0aW9uPSI5Ni8xIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkV4aWZWZXJzaW9uPSIwMjIxIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iODIwIiBleGlmOlBpeGVsWURpbWVuc2lvbj0iNTAwIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMC0wOC0wNlQxMToyMDo0MyswMzowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo5Zjg0ODc1My05ZjlmLWI5NDEtOTc3MC1kMzYxMDM3YWFjNzMiIHN0RXZ0OndoZW49IjIwMjAtMDgtMDZUMTE6Mjc6MDUrMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGltYWdlL2pwZWcgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJv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"},196:function(e,t,n){e.exports=n(279)},201:function(e,t,n){},254:function(e,t){},278:function(e,t){},279:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(14),c=n.n(i),o=(n(201),n(2)),l=o.a.div({background:"linear-gradient(#e66465, #9198e5)",width:"100%",height:"100%"}),u=n(52),s=n(57),d=n(8),m=n.n(d),p=n(11),f=n(314),h=n(315),g=n(316),E=n(313),b=n(339),v=n(107),w=n(335),R=n(318),O=n(336),C=n(99),y=n.n(C),x=n(9),D=n(18),A=n.n(D),j=function(){return localStorage.getItem("token")},I=function(e){return function(){var t=Object(p.a)(m.a.mark((function t(n){var a,r,i,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{a=e.currentUser,r=e.friends,i=e.friendRequests,c=e.pendingRequests,localStorage.setItem("token",a.token),n({type:"LOGIN_USER",currentUser:a,friends:r,friendRequests:i,pendingRequests:c})}catch(o){console.log(o)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j(),a={headers:{Authorization:"Bearer ".concat(n)}},e.next=4,A.a.post("/users/me/logout",{},a);case 4:localStorage.removeItem("token"),t({type:"LOGOUT_USER"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N=function(e){return{type:"CHANGE_AVATAR",imgUrl:e}},F=n(16),S=n(70),M=n(105),T=Object(f.a)((function(e){return{root:{height:"100%",display:"flex",justifyContent:"center",alignContent:"center"},image:{backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#357951"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),background:"#357951","&:hover":{backgroundColor:"#34C16C"}},input:{"&$focused":{borderColoer:"#34C16C"}}}})),P=Object(x.b)((function(e){return{}}),(function(e){return{logInUser:function(t){e(I(t))}}}))((function(e){var t=e.logInUser,n=T(),a=Object(M.a)({initialValues:{email:"",password:""},validate:function(e){},onSubmit:function(e){return c(e)}}),i=Object(S.b)().enqueueSnackbar,c=function(){var e=Object(p.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/users/login",n);case 3:200===(a=e.sent).status&&(t(a.data),window.location.pathname="/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.response.data),r=e.t0.response.data,i(r,{variant:"error"});case 11:case"end":return e.stop()}var r}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{container:!0,component:"main",className:n.root},r.a.createElement(g.a,null),r.a.createElement(h.a,{item:!0,xs:12,sm:8,md:4,component:E.a,elevation:6,square:!0,style:{height:F.isMobileOnly?"100%":null}},r.a.createElement("div",{className:n.paper},r.a.createElement(b.a,{className:n.avatar},r.a.createElement(y.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:n.form,onSubmit:a.handleSubmit},r.a.createElement(w.a,{className:n.input,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",type:"email",autoFocus:!0,onChange:a.handleChange,value:a.values.email}),r.a.createElement(w.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:a.handleChange,value:a.values.password}),r.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",className:n.submit,type:"submit"},"Sign In"),r.a.createElement(h.a,{container:!0},r.a.createElement(h.a,{item:!0,xs:!0}),r.a.createElement(h.a,{item:!0},r.a.createElement(u.b,{to:"/register",style:{color:"#357951"}},"Don't have an account? Sign Up"))),r.a.createElement(O.a,{mt:5})))))})),U=n(12),W=n(167),G=n.n(W),z=j(),_=G()("",{query:"token="+z}),Z=n(281),B=n(17),L=n.n(B),Y=n(69),J=n.n(Y),H=function(){return function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:"Bearer ".concat(j())}},a=A.a.get("/user/rooms",n),r=[a,q()],e.next=5,Promise.all(r);case 5:i=e.sent,c=i[0].data,t({type:"GET_ROOMS",rooms:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Q=function(e){return{type:"CURRENT_ROOM_CHAT",room:e}},V=function(e,t){return{type:"ADD_MESSAGE",message:e,roomId:t}};function q(){var e=F.isMobileOnly?1500:0;return new Promise((function(t){setTimeout((function(){t()}),e)}))}var X="https://storage.googleapis.com/chatty-bucket/",K=n(168),$=n.n(K),ee=Object(f.a)((function(){return{item:{height:60,width:"100%",display:"flex",flexDirection:"row",padding:"8px 5px",borderBottom:F.isMobileOnly?"0.5px inset #E3E3E3":null}}})),te=(o.a.input({width:"100%",height:"50%"}),o.a.div({height:"100%",width:"45px",paddingLeft:2,paddingRight:2,display:"flex",alignItems:"center"})),ne=o.a.img({width:40,height:40,borderRadius:"50%"}),ae=o.a.div({height:"100%",width:"80%",display:"flex",flexDirection:"column",paddingLeft:"2px",paddingRight:"2px",justifyContent:"center"}),re=o.a.div({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),ie=o.a.div({display:"flex",flexDirection:"row",width:"100%"}),ce=o.a.div({width:"20%",display:"flex",flexDirection:"row",justifyContent:"flex-end",alignContent:"flex-end",fontSize:10}),oe=o.a.div({width:"80%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontWeight:500}),le=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,currentUserId:e.mainReducer.currentUser._id}}),(function(e){return{chagneCurrentRoomChat:function(t){e(Q(t))}}}))((function(e){var t=e.room,n=e.currentRoomChat,i=e.chagneCurrentRoomChat,c=e.currentUserId,o=Object(a.useState)(null),l=Object(U.a)(o,2),u=l[0],s=l[1],d=ee(),m=t.messages,p=m[m.length-1];Object(a.useEffect)((function(){_.on("typing",(function(e,n){t._id===n&&s(e)})),_.on("stopped_typing",(function(e){t._id===e&&s(null)}))}),[]);return r.a.createElement(Z.a,{button:!0,className:d.item,onClick:function(){n&&_.emit("stopped_typing",n._id),i(t)}},r.a.createElement(te,null,r.a.createElement(ne,{src:function(){if(t.is_private_chat){var e=t.users.find((function(e){return e._id!==c}));return e.avatar?X+e.avatar:L.a}return t.avatar?X+t.avatar:J.a}(),onError:function(e){return e.target.src=L.a}})),r.a.createElement(ae,null,r.a.createElement(ie,null,r.a.createElement(oe,null,t.is_private_chat?t.users.find((function(e){return e._id!==c})).name:t.name),r.a.createElement(ce,null,function(e,t,n){var a=$()().format("DD/MM/YYYY"),r=a.slice(0,2),i=a.slice(2),c=t?t.sent_date.slice(0,2):"",o=t?t.sent_date.slice(2):"",l=n.created_date.slice(0,2),u=n.created_date.slice(2);return e.length?a===t.sent_date?t.sent_time:r-c===1&&i===o?"Yesterday":t.sent_date:r-l===1&&i===u?"Yesterday":n.created_date}(m,p,t))),r.a.createElement(re,null,r.a.createElement("span",null,r.a.createElement("b",null,u?"".concat(u," typing..."):m.length&&!t.is_private_chat?p.sender.name+": ":null)),r.a.createElement("span",null,m.length&&!u?p.text:null))))})),ue=o.a.div({width:F.isMobileOnly?"95%":"100%",marginLeft:F.isMobileOnly?10:null,height:F.isMobileOnly?null:"calc(100% - 110px)",borderBottomLeftRadius:5,background:"#FFFFFF",overflowY:"scroll",":: -webkit-scrollbar":{display:"none"}}),se=Object(x.b)((function(e){return{rooms:e.mainReducer.rooms,currentUserId:e.mainReducer.currentUser._id}}),(function(e){return{getRooms:function(){e(H())}}}))((function(e){var t=e.rooms,n=e.filter,i=e.currentUserId,c=e.getRooms;Object(a.useEffect)((function(){_.on("room_created",function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:_.emit("join_created_room",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue,null,t.filter((function(e){return!n||""==n||function(e){return e.is_private_chat?e.users.find((function(e){return e._id!==i})).name:e.name}(e).toLowerCase().includes(n.toLowerCase())})).map((function(e){return e?r.a.createElement(le,{key:e._id,room:e}):null}))))})),de=n(76),me=o.a.div({display:"flex",flexDirection:"row",justifyContent:"flex-end"}),pe=o.a.div({display:"flex",flexDirection:"row",justifyContent:"flex-start",fontWeight:700}),fe=o.a.div({display:"flex",flexDirection:"row",flexWrap:"wrap",paddingLeft:"20px",paddingRight:"10px",marginTop:function(e){return 0==e.i?"10px":null},justifyContent:function(e){return e.isMyMessage?"flex-end":"flex-start"}}),he=o.a.div({marginTop:2,marginBottom:2,wordWrap:"break-word",background:function(e){return e.isMyMessage?"#ccf2ae":"white"},padding:"2px 10px",marginRight:"5px",width:"fit-content",borderRadius:"10px",maxWidth:"75%"}),ge=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,currentUser:e.mainReducer.currentUser}}),(function(e){return{}}))((function(e){var t=e.message,n=e.currentRoomChat,a=e.i,i=e.isMyMessage;return r.a.createElement(fe,{i:a,isMyMessage:i,onClick:function(){return de.animateScroll.scrollToBottom()}},r.a.createElement(he,{isMyMessage:i},0===a||n.messages[a-1].sender._id!==t.sender._id?r.a.createElement(pe,null,t.sender.name,": "):null,r.a.createElement("div",null,r.a.createElement("span",null,t.text),r.a.createElement(me,null,t.sent_time," "))))})),Ee=n(102),be=n.n(Ee),ve=n(101),we=n.n(ve),Re=n(169),Oe={apiKey:"AIzaSyA6Ur8Xnsy1o62-DA7D66uPkq0cv3idMHQ",authDomain:"chatty-9b0a0.firebaseapp.com",databaseURL:"https://chatty-9b0a0.firebaseio.com",projectId:"chatty-9b0a0",storageBucket:"chatty-9b0a0.appspot.com",messagingSenderId:"1022307061890",appId:"1:1022307061890:web:87fb028666b1009d1b249b",measurementId:"G-TL1523FMPN"},Ce=function(e,t,n){var a;a="https://chatty-cu.herokuapp.com/chat";var r,i={"Content-Type":"application/json",Authorization:"key=AAAA7gY_0II:APA91bGhE43SkOQEpzZGQLmNBwIx0JwgAj2girtTTi-tNC5ZLJLBkfWkfcu-bafIswxlmYOS2EI8D9U9o1QGH7hx-uZYl49aMLXEtQNI17e3dS9MXRMAbnF287TVsV_wdD6WhkUytjx9"},c=Object(Re.a)(n);try{for(c.s();!(r=c.n()).done;){var o=r.value;if(o._id!=e._id&&o.fcmToken){var l={to:o.fcmToken,notification:{title:t,body:"From: "+e.name,click_action:a}};A.a.post("https://fcm.googleapis.com/fcm/send",l,{headers:i})}}}catch(u){c.e(u)}finally{c.f()}},ye=o.a.div({width:"100%",height:F.isMobileOnly?"calc(100% - 60px)":"calc(100% - 60px - 60px)",background:"#D9D9D9",overflowY:"auto",backgroundImage:"url(".concat(we.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",boxShadow:"inset 0px 19px 18px -27px rgba(0,0,0,0.46)",":: -webkit-scrollbar":{width:10},":: -webkit-scrollbar-track":{background:"#D9D9D9"},":: -webkit-scrollbar-thumb":{background:"#888"},":: -webkit-scrollbar-thumb: hover":{background:"#555"}}),xe=o.a.div({height:60,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",background:"#f1ededba",borderBottomRightRadius:F.isMobileOnly?null:10}),De=o.a.input({fontSize:14,paddingLeft:10,paddingRight:5,width:"80%",height:40,borderRadius:30,outline:"none",border:"none"}),Ae=o.a.div({width:"10%"}),je=o.a.div({cursor:"pointer",display:function(e){return 0==e.display?"none":"flex"}}),Ie=o.a.div({width:"10%",display:"flex",justifyContent:"center",alignItems:"center"}),ke=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,currentUser:e.mainReducer.currentUser,messageTextInputVal:e.mainReducer.messageTextInputVal}}),(function(e){return{setMessageTextInputVal:function(t){e(function(e){return{type:"MESSAGE_TEXT_INPUT_VALUE",inputVal:e}}(t))}}}))((function(e){var t=e.currentRoomChat,n=e.currentUser,i=e.messageTextInputVal,c=e.setMessageTextInputVal,o=t._id,l=function(){""!==i.trim()&&(_.emit("send_message",{from:n._id,to:t._id,message:i}),c(""),_.emit("stopped_typing",t._id),Ce(n,i,t.users))};return Object(a.useEffect)((function(){c(""),_.emit("stopped_typing",t._id)}),[t]),Object(a.useEffect)((function(){de.animateScroll.scrollToBottom({containerId:o,duration:0})}),[o]),Object(a.useEffect)((function(){de.animateScroll.scrollToBottom({containerId:t._id,duration:300,delay:25}),de.animateScroll.scrollMore(5e5)}),[t.messages]),Object(a.useEffect)((function(){0==i.length&&_.emit("stopped_typing",t._id)}),[i]),r.a.createElement(r.a.Fragment,null,r.a.createElement(ye,{id:o},t&&t.messages?t.messages.map((function(e,t){return r.a.createElement(ge,{key:e._id,i:t,message:e,isMyMessage:n._id==e.sender._id})})):null),r.a.createElement(xe,null,r.a.createElement(Ae,null),r.a.createElement(De,{onChange:function(e){c(e.target.value),_.emit("typing",n.name,t._id)},value:i,placeholder:"Type a message",onKeyDown:function(e){return 13==e.keyCode?l():null}}),r.a.createElement(Ie,null,r.a.createElement(je,{display:i.length,onClick:l},r.a.createElement(be.a,null)))))})),Ne=n(322),Fe=n(323),Se=n(184),Me=n(319),Te=n(320),Pe=n(321),Ue=Object(f.a)({menuContainer:{padding:"5px 10px"},green:{color:"#0ebf0e","&:hover":{color:"#2ba12b"}},red:{color:"red","&:hover":{color:"#c53232"}}}),We=o.a.div({display:"flex",width:"100%",alignItems:"center"}),Ge=o.a.div({fontSize:13,fontWeight:500}),ze=o.a.div({display:"flex",alignItems:"center",justifyContent:"center",marginRight:10}),_e=o.a.img({width:40,height:40,borderRadius:"50%"}),Ze=o.a.div({display:"flex",justifyContent:"center"}),Be=Object(x.b)((function(e){return{currentUser:e.mainReducer.currentUser}}))((function(e){var t=e.friendRequest,n=e.currentUser,a=Ue();return r.a.createElement(Me.a,{className:a.menuContainer},r.a.createElement(We,null,r.a.createElement(ze,null,r.a.createElement(_e,{src:t.avatar?X+t.avatar:L.a,onError:function(e){return e.target.src=L.a}})),r.a.createElement("div",{style:{flex:1}},r.a.createElement("div",null,t.name),r.a.createElement(Ge,null,t.email)),r.a.createElement(Ze,{onClick:function(){_.emit("approve_friend",t._id);var e="you and ".concat(n.name," are now friends (:");Ce(n,e,[t])}},r.a.createElement(Te.a,{className:a.green})),r.a.createElement(Ze,{onClick:function(){_.emit("decline_friend",t._id)}},r.a.createElement(Pe.a,{className:a.red}))))})),Le=n(170),Ye=n.n(Le),Je=o.a.div({padding:"10px",cursor:"pointer",":hover":{background:"#E3E3E3"},position:"relative"}),He=o.a.div({position:"absolute",top:3,right:3,padding:4,background:"#cf2c2c",color:"white",width:10,height:10,fontSize:12,fontWeight:600,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}),Qe=o.a.div({width:280,maxHeight:200,overflow:"scroll",":: -webkit-scrollbar":{display:"none"}}),Ve=Object(x.b)((function(e){return{friendRequests:e.mainReducer.friendRequests}}),(function(e){return{addPendingRequest:function(t){e(function(e){return{type:"ADD_PENDING_REQUEST",friend:e}}(t))},removePendingRequestAndUpdateFriends:function(t){e(function(e){return{type:"REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS",friend:e}}(t))},removePendingRequest:function(t){e(function(e){return{type:"REMOVE_PENDING_REQUEST",friendId:e}}(t))},addFriendRequest:function(t){e(function(e){return{type:"ADD_FRIEND_REQUEST",friend:e}}(t))},removeFriendRequestAndUpdateFriends:function(t){e(function(e){return{type:"REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS",friend:e}}(t))},removeFriendRequest:function(t){e(function(e){return{type:"REMOVE_FRIEND_REQUEST",friendId:e}}(t))}}}))((function(e){var t=e.friendRequests,n=e.addPendingRequest,i=e.addFriendRequest,c=e.removeFriendRequestAndUpdateFriends,o=e.removePendingRequestAndUpdateFriends,l=e.removeFriendRequest,u=e.removePendingRequest;Object(a.useEffect)((function(){_.on("friend_request_sent",(function(e){n(e)})),_.on("new_friend_request",(function(e){i(e)})),_.on("remove_friend_request_and_update_friends",(function(e){c(e)})),_.on("remove_pending_request_and_update_friends",(function(e){o(e)})),_.on("remove_friend_request",(function(e){l(e._id)})),_.on("remove_pending_request",(function(e){u(e._id)}))}),[]);var s=r.a.useState(null),d=Object(U.a)(s,2),m=d[0],p=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Je,{"aria-controls":"simple-menu",friendRequests:t,"aria-haspopup":"true",onClick:function(e){p(e.currentTarget)}},0!=t.length?r.a.createElement(He,null,t.length):null,r.a.createElement(Ye.a,null)),r.a.createElement(Se.a,{anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:function(){p(null)},anchorOrigin:{vertical:54,horizontal:-80},elevation:1,getContentAnchorEl:null},r.a.createElement(Qe,null,t.map((function(e,t){return r.a.createElement(Be,{key:t,friendRequest:e})})),0===t.length?r.a.createElement(Me.a,null,"No friend requests..."):null)))})),qe=n(171),Xe=n.n(qe),Ke=function(e){return{type:"OPEN_NEW_CHAT_DRAWER",friends:e}},$e=n(47),et=n.n($e),tt=function(){return et.a.messaging.isSupported()?(et.a.initializeApp(Oe),et.a.messaging()):null},nt=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!et.a.messaging.isSupported()){e.next=13;break}return t=tt(),e.next=4,t.deleteToken();case 4:return n={Authorization:"Bearer ".concat(j())},e.prev=5,e.next=8,A.a.put("/user/fcmToken",{fcmToken:""},{headers:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[5,10]])}))),at=o.a.div({padding:10,cursor:"pointer",":hover":{background:"#E3E3E3"}}),rt=o.a.div({width:150,outline:"none"}),it=o.a.div({textAlign:"center",height:40,display:"flex",justifyContent:"center",alignItems:"center",fontWeight:500,cursor:"pointer",":hover":{background:"#F8F8F8"}}),ct=Object(x.b)((function(e){return{userFriends:e.mainReducer.friends}}),(function(e){return{openNewChatDrawer:function(t){e(Ke(t))},openProfileDrawer:function(){e({type:"OPEN_PROFILE_DRAWER"})},openAddFriendDrawer:function(){e({type:"OPEN_ADD_FRIEND_DRAWER"})},logOutUser:function(){e(k())}}}))((function(e){var t=e.logOutUser,n=e.openNewChatDrawer,a=e.openProfileDrawer,i=e.openAddFriendDrawer,c=e.userFriends,o=Object(s.f)(),l=r.a.useState(null),u=Object(U.a)(l,2),d=u[0],f=u[1],h=function(){f(null)},g=function(e){"NewChat"===e?n(c):"Profile"===e?a():"AddFriend"===e&&i(),h()},E=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:t(),o.push("/login");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(at,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)}},r.a.createElement(Xe.a,null)),r.a.createElement(Se.a,{anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:h,anchorOrigin:{vertical:"bottom",horizontal:-105},elevation:1,getContentAnchorEl:null},r.a.createElement(rt,null,r.a.createElement(it,{onClick:function(){return g("NewChat")}}," New Chat"),r.a.createElement(it,{onClick:function(){return g("AddFriend")}}," Add friend"),r.a.createElement(it,{onClick:function(){return g("Profile")}}," Profile"),r.a.createElement(it,null," About"),r.a.createElement(it,{onClick:E}," Log out"))))})),ot=o.a.div({display:"flex",justifyContent:"space-between",background:"#EDEDED",borderRight:"1px solid #D2D4CE",height:60,borderTopLeftRadius:5,zIndex:1}),lt=o.a.div({display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center",color:"#4d4a4a"}),ut=o.a.div({padding:10,cursor:"pointer",":hover":{background:"#E3E3E3"}}),st=o.a.img({display:"flex",justifyContent:"center",alignSelf:"center",marginLeft:"10px",borderRadius:"50%",width:40,height:40,cursor:"pointer"}),dt=Object(x.b)((function(e){return{avatar:e.mainReducer.currentUser.avatar,friends:e.mainReducer.friends}}),(function(e){return{openNewChatDrawer:function(t){e(Ke(t))},openProfileDrawer:function(){e({type:"OPEN_PROFILE_DRAWER"})},openAddFriendDrawer:function(){e({type:"OPEN_ADD_FRIEND_DRAWER"})}}}))((function(e){var t=e.openNewChatDrawer,n=e.friends,a=e.openProfileDrawer,i=e.openAddFriendDrawer,c=e.avatar;return r.a.createElement(ot,null,r.a.createElement(st,{src:c?X+c:L.a,onClick:a,onError:function(e){return e.target.src=L.a}}),r.a.createElement(lt,null,r.a.createElement(ut,{onClick:i},r.a.createElement(Ne.a,null)),r.a.createElement(Ve,null),r.a.createElement(ut,{onClick:function(){return t(n)}},r.a.createElement(Fe.a,null)),r.a.createElement(ct,null)))})),mt=n(81),pt=o.a.div({display:"flex",width:"100%",height:60,background:"#FFFFFF",cursor:"pointer",":hover":{background:"#F5F5F5"}}),ft=o.a.div({display:"flex",height:"100%",width:"20%",alignItems:"center",justifyContent:"center"}),ht=o.a.img({width:40,height:40,borderRadius:"50%"}),gt=o.a.div({width:"80%",display:"flex",alignSelf:"center"}),Et=Object(x.b)((function(e){return{newChatDrawerPage:e.drawerReducer.newChat.page,rooms:e.mainReducer.rooms,currentUserId:e.mainReducer.currentUser._id}}),(function(e){return{selectFriend:function(t){e({type:"SELECT_FRIEND",friend:t})},closeNewChatDrawer:function(){e({type:"CLOSE_NEW_CHAT_DRAWER"})},chagneCurrentRoomChat:function(t){e(Q(t))},openTemporaryPrivateChat:function(t){e(function(e){return{type:"OPEN_TEMPORARY_PRIVATE_CHAT",receiver:e}}(t))}}}))((function(e){var t=e.friend,n=e.selectFriend,a=e.newChatDrawerPage,i=e.rooms,c=e.currentUserId,o=e.closeNewChatDrawer,l=e.chagneCurrentRoomChat,u=e.openTemporaryPrivateChat,s=function(){var e=Object(p.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:2==a?n(t):(o(),(r=i.find((function(e){return e.private_chat_id==(c<t._id?c+"_"+t._id:t._id+"_"+c)})))?l(r):u(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(pt,{onClick:s},r.a.createElement(ft,null,r.a.createElement(ht,{src:t.avatar?X+t.avatar:L.a,onError:function(e){return e.target.src=L.a}})),r.a.createElement(gt,null,t.name))})),bt=n(172),vt=n.n(bt);function wt(){var e=Object(mt.a)(["\n    0% { width: 100% }\n    100% { width: 0 }\n"]);return wt=function(){return e},e}o.a.input({width:"90%",height:"40px",textDecoration:"none",border:"1px solid black",borderRadius:"50px",paddingLeft:"10px",paddingRight:"5px",outline:"none"}),o.a.div({width:"100%",height:"10%",display:"flex",justifyContent:"center",alignItems:"center",background:"white",borderBottom:"1px solid black"}),Object(o.b)(wt());var Rt=o.a.div({width:"100%",height:"12%",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center",background:"#FFFFFF",marginBottom:"1px",borderBottom:F.isMobileOnly?"1px solid #EDED":null,cursor:"pointer",":hover":{background:"#F5F5F5"}}),Ot=o.a.div({display:"flex",height:40,width:40,alignItems:"center",justifyContent:"center",background:"#a9a9a9",borderRadius:"50%"}),Ct=o.a.div({width:"80%",display:"flex",alignSelf:"center",marginLeft:5,fontWeight:500}),yt=o.a.div({width:"100%",height:"88%",background:"white",borderBottomLeftRadius:5,overflow:"scroll",":: -webkit-scrollbar":{display:"none"}}),xt=o.a.h3({textAlign:"center",marginBottom:1,marginTop:0,background:"#FFFFFF",padding:10}),Dt=(o.a.hr({width:"90%",opacity:.2}),Object(x.b)((function(e){return{friends:e.mainReducer.friends}}),(function(e){return{nextPage:function(){e({type:"NEXT_PAGE_NEW_CHAT_DRAWER"})},prevPage:function(){e({type:"PREV_PAGE_NEW_CHAT_DRAWER"})}}}))((function(e){var t=e.nextPage,n=(e.prevPage,e.friends);return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Rt,{onClick:function(){return t()}},r.a.createElement(Ot,null,r.a.createElement(vt.a,{style:{height:30,width:30}})),r.a.createElement(Ct,null,"NEW GROUP")),r.a.createElement(yt,null,r.a.createElement(xt,null,"Contacts"),n.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(e,t){return r.a.createElement(Et,{key:e._id,friend:e})}))))}))),At=o.a.div({display:"flex",margin:"5px 15px",width:"fit-content",maxWidth:"95%",borderRadius:16,background:"#E6E6E6"}),jt=o.a.img({display:"flex",flexDirection:"column",justifyContent:"center",width:26,height:26,borderRadius:"50%"}),It=o.a.span({marginLeft:6,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),kt=o.a.div({marginLeft:12,marginTop:2,height:"100%",marginRight:12,padding:"1px 5px",fontSize:14,fontWeight:600,cursor:"pointer",borderRadius:"50%",":hover":{background:"#F7F7F7"}}),Nt=Object(x.b)((function(e){return{}}),(function(e){return{unselectFriend:function(t){e(function(e){return{type:"UNSELECT_FRIEND",friend:e}}(t))}}}))((function(e){var t=e.friend,n=e.unselectFriend;return r.a.createElement(At,null,r.a.createElement("span",null,r.a.createElement(jt,{src:t.avatar?X+t.avatar:L.a,onError:function(e){return e.target.src=L.a}})),r.a.createElement(It,null,t.name),r.a.createElement(kt,{onClick:function(){return n(t)}},"X"))})),Ft=n(173),St=n.n(Ft),Mt=Object(f.a)({ArrowForwardIcon:{width:30,height:30,margin:10,padding:5,background:"chartreuse",borderRadius:"50%",cursor:"pointer"}}),Tt=o.a.input({display:"flex",alignSelf:"center",width:"90%",height:"40px",border:"none",borderBottom:"1px solid #999999",paddingLeft:"10px",paddingRight:"5px",outline:"none",margin:"20px 0"}),Pt=o.a.div({display:"flex",justifyContent:"center",width:"100%",height:60}),Ut=o.a.div({width:"100%",display:"flex",flexDirection:"column",background:"#FFFFFF",maxHeight:245}),Wt=o.a.div({width:"98%",margin:5,overflowY:"scroll"}),Gt=o.a.div({width:"100%",height:"100%",overflowY:"scroll"}),zt=o.a.div({width:"100%",height:function(e){var t=e.selectedFriends;return 0==t?"calc(100% - 93px)":t<5?"calc(100% - ".concat(26*t+5*(t+1)+93,"px)"):"calc(100% - 245px)"},background:"#FFFFFF",position:"relative",display:"flex",flexDirection:"column"}),_t=Object(x.b)((function(e){return{newChat:e.drawerReducer.newChat,allFriends:e.drawerReducer.newChat.allFriends,selectedFriends:e.drawerReducer.newChat.selectedFriends}}),(function(e){return{nextPage:function(){e({type:"NEXT_PAGE_NEW_CHAT_DRAWER"})},prevPage:function(){e({type:"PREV_PAGE_NEW_CHAT_DRAWER"})}}}))((function(e){var t=e.nextPage,n=(e.prevPage,e.selectedFriends),i=e.allFriends,c=(e.newChat,Mt()),o=Object(a.useState)(""),l=Object(U.a)(o,2),u=l[0],s=l[1];return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement(Ut,null,r.a.createElement(Wt,null,n.map((function(e){return r.a.createElement(Nt,{friend:e})}))),r.a.createElement(Tt,{placeholder:"search...",value:u,onChange:function(e){return s(e.target.value)}})),r.a.createElement(zt,{selectedFriends:n.length},r.a.createElement(Gt,null,i.filter((function(e){return!u||""==u||e.name.toLowerCase().startsWith(u.toLowerCase())||e.email.toLowerCase().startsWith(u.toLowerCase())})).map((function(e){return r.a.createElement(Et,{friend:e})}))),n.length?r.a.createElement(Pt,{onClick:t},r.a.createElement(St.a,{className:c.ArrowForwardIcon})):null))})),Zt=n(175),Bt=n.n(Zt),Lt=n(174),Yt=n.n(Lt),Jt=o.a.div({border:"16px solid #f3f3f3",borderRadius:"50%",borderTop:"16px solid black",width:function(e){var t=e.width;return t?t+"px":"60px"},height:function(e){var t=e.height;return t?t+"px":"60px"},animationName:function(){return Ht},animationDuration:function(e){var t=e.duration;return t?t+"s":"1.5s"},animationTimingFunction:"linear",animationIterationCount:"infinite"}),Ht=Object(o.b)({from:{transform:"rotate(0deg)"},to:{transform:"rotate(360deg)"}});function Qt(e){var t=e.height,n=e.width,a=e.duration;return r.a.createElement(Jt,{height:t,width:n,duration:a})}var Vt,qt=Object(f.a)({doneIcon:{backgroundColor:"chartreuse",padding:5,borderRadius:"50%",fontSize:40,cursor:"pointer"},arrowBackIcon:{marginLeft:5,cursor:"pointer",flex:1},groupIcon:{width:"70%",height:"70%"}}),Xt=o.a.div({width:"100%",height:"75%",display:"flex",flexDirection:"column"}),Kt=o.a.div({display:"flex",height:"15%",width:"100%",justifyContent:"center",alignItems:"center"}),$t=o.a.div({width:"100%",height:"20%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}),en=o.a.input({width:"90%",height:"40px",border:"none",borderBottom:"1px solid #999999",paddingLeft:"10px",paddingRight:"5px",outline:"none",background:"none"}),tn=o.a.div({height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",cursor:"pointer"}),nn=o.a.div({background:"grey",display:"flex",justifyContent:"center",alignItems:"center",height:225,width:225,borderRadius:"50%"}),an=o.a.div({position:"absolute",right:20,top:"40%",color:"#999999",fontSize:"15px"}),rn=o.a.label({height:"70%",width:"100%"}),cn=o.a.div({color:"white",fontWeight:600,fontSize:18}),on=o.a.div({position:"absolute",width:225,height:225,background:"rgb(0,0,0,0.8)",display:function(e){return e.showImgText?"flex":"none"},borderRadius:"50%",justifyContent:"center",alignItems:"center",":hover":{background:"rgb(0,0,0,0.7)"}}),ln=o.a.img({width:225,height:225,borderRadius:"50%",boxShadow:"-1px 3px 17px 0px rgba(97,96,97,0.73)"}),un=o.a.div({background:"rgb(0,0,0,0.6)",position:"absolute",width:225,height:225,borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center"}),sn=Object(x.b)((function(e){return{selectedFriends:e.drawerReducer.newChat.selectedFriends,currentRoomChat:e.mainReducer.currentRoomChat,currentUser:e.mainReducer.currentUser}}),(function(e){return{closeDrawer:function(){e({type:"CLOSE_NEW_CHAT_DRAWER"})},prevPage:function(){e({type:"PREV_PAGE_NEW_CHAT_DRAWER"})}}}))((function(e){e.prevPage;var t=e.selectedFriends,n=e.closeDrawer,i=(e.currentRoomChat,e.currentUser),c=qt(),o=Object(a.useState)(null),l=Object(U.a)(o,2),u=l[0],s=l[1],d=Object(a.useState)(""),f=Object(U.a)(d,2),h=f[0],g=f[1],E=Object(a.useState)(!1),b=Object(U.a)(E,2),v=b[0],w=b[1],R=Object(a.useState)(!1),O=Object(U.a)(R,2),C=O[0],y=O[1],x=Object(a.useState)(!1),D=Object(U.a)(x,2),I=D[0],k=D[1],N=function(){var e=Object(p.a)(m.a.mark((function e(){var a,r,c,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),a={Authorization:"Bearer ".concat(j())},r={roomName:h,selectedFriends:t,currentUserId:i._id,isPrivateChat:!1},e.prev=3,k(!0),e.next=7,A.a.post("/room",r,{headers:a});case 7:if(c=e.sent,o=c.data,null===u){e.next=19;break}return e.prev=10,e.next=13,F(o._id);case 13:s(null),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(10),console.log(e.t0);case 19:k(!1),n(),_.emit("room_created",o.users,o._id),l="You have been had to ".concat(o.name),Ce(i,l,o.users),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(3),console.log(e.t1);case 29:case"end":return e.stop()}}),e,null,[[3,26],[10,16]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",u),n.append("roomId",t),n.append("useFor","chat"),a={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(j())},e.next=7,A.a.put("/upload/image/room",n,{headers:a});case 7:r=e.sent,r.data;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Xt,null,r.a.createElement(rn,{for:"profile-pic"},r.a.createElement(tn,null,r.a.createElement(nn,{onMouseLeave:function(){return w(!1)}},u?r.a.createElement(r.a.Fragment,null,r.a.createElement(ln,{src:URL.createObjectURL(u),onMouseEnter:function(){return w(!0)}}),I?r.a.createElement(un,null,r.a.createElement(Qt,null)):r.a.createElement(on,{showImgText:v},r.a.createElement(cn,null," change image"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Yt.a,{className:c.groupIcon}),r.a.createElement(on,{showImgText:!0},r.a.createElement(cn,null," add group img")))))),r.a.createElement("input",{id:"profile-pic",type:"file",onChange:function(e){return s(e.target.files[0])}}),r.a.createElement($t,null,r.a.createElement(en,{placeholder:"Group name...",value:h,onChange:function(e){return g(e.target.value)},maxLength:25}),r.a.createElement(an,null,25-h.length))),r.a.createElement(Kt,null,h.length?r.a.createElement("div",{onClick:C?null:N},r.a.createElement(Bt.a,{className:c.doneIcon})):null))})),dn=Object(x.b)((function(e){return{page:e.drawerReducer.newChat.page}}),(function(e){return{closeDrawer:function(){e({type:"CLOSE_NEW_CHAT_DRAWER"})}}}))((function(e){var t=e.closeDrawer,n=e.page;return r.a.createElement(r.a.Fragment,null,function(){switch(n){case 1:return r.a.createElement(Dt,null);case 2:return r.a.createElement(_t,null);case 3:return r.a.createElement(sn,null);default:return t()}}())})),mn=n(49),pn=n(324),fn=n(325),hn=n(326),gn=Object(x.b)((function(e){return{}}),(function(e){return{removeAvatar:function(t){e(N(t))}}}))((function(e){var t=e.anchor,n=e.closeMenu,i=e.removeAvatar,c=Object(a.useState)(null),o=Object(U.a)(c,2),l=o[0],u=o[1];Object(a.useEffect)((function(){u(t)}),[t]);var s=function(){u(null),n()},d=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(),t={Authorization:"Bearer ".concat(j())},e.next=4,A.a.delete("/image/profile",{headers:t});case 4:i(null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Se.a,{anchorEl:l,open:Boolean(l),onClose:s,anchorOrigin:{vertical:150,horizontal:150}},r.a.createElement("label",{htmlFor:"upload-picture"},r.a.createElement(Me.a,{onClick:s},"Change Picture")),r.a.createElement(Me.a,{onClick:d},"Remove Picture"))})),En=Object(f.a)({editMode:{padding:10,cursor:"pointer"}}),bn=o.a.div({width:"100%",height:"100%",display:"flex",flexDirection:"column",background:function(){return F.isMobileOnly?"#e3e3e36e":"#E3E3E3"}}),vn=o.a.div({width:"100%",height:"20%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}),wn=o.a.input({width:"100%",height:40,border:"none",paddingLeft:2,margin:"0 5px",outline:"none",background:"none"}),Rn=o.a.div({height:"70%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"}),On=o.a.label({display:"flex",justifyContent:"center"}),Cn=(o.a.div({position:"absolute",right:20,top:"40%",color:"#999999",fontSize:"15px"}),o.a.div({display:function(e){return e.showImgText?null:"none"},position:"absolute",justifyContent:"center",borderRadius:"50%",background:"rgb(0,0,0,0.6)",cursor:"pointer",height:"100%",width:function(){return F.isMobileOnly?"100%":"80%"}})),yn=o.a.div({display:"flex",justifyContent:"center",alignItems:"center",height:"100%",color:"white",fontWeight:600,fontSize:18}),xn=o.a.div((Vt={display:"flex",justifyContent:"center",width:"100%",height:"100%",position:"relative"},Object(mn.a)(Vt,"width",(function(e){return!e.hasAvatar&&F.isMobileOnly?"75%":"100%"})),Object(mn.a)(Vt,"height",(function(e){return!e.hasAvatar&&F.isMobileOnly?"75%":"100%"})),Vt)),Dn=o.a.img({height:function(){return F.isMobileOnly?"100%":"80%"},width:function(){return F.isMobileOnly?"100%":"80%"},borderRadius:"50%"}),An=o.a.div({display:"flex",width:"100%"}),jn=o.a.div({width:"15%",paddingTop:10,paddingLeft:5}),In=o.a.div({color:"#54676fb5"}),kn=o.a.div({width:"85%",display:"flex",flexDirection:"column",paddingLeft:5}),Nn=o.a.div({display:"flex",justifyContent:"space-between",paddingBottom:10,width:"100%",alignItems:"center",borderBottom:"1px solid #cec9c9"}),Fn=o.a.div({background:"rgb(0,0,0,0.6)",position:"absolute",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:function(){return F.isMobileOnly?"100%":"80%"}}),Sn=Object(x.b)((function(e){return{avatar:e.mainReducer.currentUser.avatar,currentUser:e.mainReducer.currentUser}}),(function(e){return{closeDrawer:function(){e({type:"CLOSE_PROFILE_DRAWER"})},changeAvatar:function(t){e(N(t))},changeUserName:function(t){e(function(e){return{type:"CHANGE_NAME",name:e}}(t))}}}))((function(e){e.closeDrawer;var t=e.avatar,n=e.changeAvatar,i=e.currentUser,c=e.changeUserName,o=Object(a.useState)(),l=Object(U.a)(o,2),u=(l[0],l[1],Object(a.useState)(null)),s=Object(U.a)(u,2),d=s[0],f=s[1],h=Object(a.useState)(!1),g=Object(U.a)(h,2),E=g[0],b=g[1],v=Object(a.useState)(""),w=Object(U.a)(v,2),R=w[0],O=w[1],C=Object(a.useState)(!1),y=Object(U.a)(C,2),x=y[0],D=y[1],I=Object(a.useState)(!1),k=Object(U.a)(I,2),N=k[0],S=k[1],M=En(),T=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("useFor","profile"),a.append("file",t[0]),S(!0),r={"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(j())},e.next=7,A.a.put("/upload/image/profile",a,{headers:r});case 7:i=e.sent,c=i.data,n(c),S(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D(!1),""===R.trim()){e.next=8;break}return t={Authorization:"Bearer ".concat(j())},e.next=5,A.a.put("/user/name",{name:R},{headers:t});case 5:n=e.sent,O(""),c(n.data);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(bn,null,r.a.createElement(Rn,null,r.a.createElement(On,{onMouseLeave:function(){return b(!1)}},r.a.createElement(xn,{hasAvatar:!!t,onClick:function(e){return F.isMobileOnly?function(e){d||(b(!0),f(e.currentTarget))}(e):null}},r.a.createElement(Dn,{className:"fade-in",src:t?X+t:L.a,onMouseEnter:function(){return b(!0)},onError:function(e){return e.target.src=L.a}}),N?r.a.createElement(Fn,null,r.a.createElement(Qt,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(gn,{anchor:d,closeMenu:function(){f(null),b(!1)}})),r.a.createElement(Cn,{showImgText:E,onClick:function(e){return f(e.currentTarget)}},r.a.createElement(yn,null," Change profile picture"))))),r.a.createElement("input",{id:"upload-picture",type:"file",onChange:function(e){return T(e.target.files)}})),r.a.createElement(An,null,r.a.createElement(jn,null,r.a.createElement(pn.a,null)),r.a.createElement(Nn,null,x?r.a.createElement(r.a.Fragment,null,r.a.createElement(vn,null,r.a.createElement(wn,{placeholder:"Change name...",value:R,onChange:function(e){return O(e.target.value)}})),r.a.createElement("div",{onClick:P},r.a.createElement(fn.a,{className:M.editMode}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(kn,null,r.a.createElement(In,null,"Name"),r.a.createElement("div",null,i.name)),r.a.createElement("div",{onClick:function(){return D(!0)}},r.a.createElement(hn.a,{className:M.editMode}))))))})),Mn=n(177),Tn=n.n(Mn),Pn=n(176),Un=n.n(Pn),Wn=n(327),Gn=o.a.div({display:"flex",width:"100%",height:60,":hover":{background:"#F5F5F5"}}),zn=o.a.div({display:"flex",height:"100%",width:"20%",alignItems:"center",justifyContent:"center"}),_n=o.a.img({width:40,height:40,borderRadius:"50%"}),Zn=o.a.div({width:"60%",display:"flex",flexDirection:"column",justifyContent:"center"}),Bn=o.a.div({fontWeight:600}),Ln=o.a.div({}),Yn=o.a.div({width:"20%",display:"flex",justifyContent:"center",alignItems:"center"}),Jn=Object(x.b)((function(e){return{pendingRequests:e.mainReducer.pendingRequests,friends:e.mainReducer.friends,currentUser:e.mainReducer.currentUser}}),(function(e){return{}}))((function(e){var t=e.friend,n=e.friends,a=e.pendingRequests,i=e.currentUser,c=function(){_.emit("add_friend",{friendId:t._id}),Ce(i,"New Friend Request",[t])},o=function(){_.emit("delete_friend_request",{friendId:t._id})};return r.a.createElement(Gn,null,r.a.createElement(zn,null,r.a.createElement(_n,{src:t.avatar?X+t.avatar:L.a,onError:function(e){return e.target.src=L.a}})),r.a.createElement(Zn,null,r.a.createElement(Bn,null,t.name),r.a.createElement(Ln,null,t.email)),r.a.createElement(Yn,null,r.a.createElement(Wn.a,null,a.find((function(e){return e._id===t._id}))?r.a.createElement(Un.a,{onClick:o}):n.find((function(e){return e._id===t._id}))?null:r.a.createElement(Tn.a,{onClick:c}))))})),Hn=n(340),Qn=n(178),Vn=n.n(Qn),qn=Object(f.a)({root:{display:"flex",alignSelf:"center",paddingLeft:"5%",alignItems:"center",width:"90%",margin:"10px 0"},input:{flex:1}}),Xn=o.a.div({width:"100%",height:"100%",display:"flex",flexDirection:"column",background:"#FFFFFF",borderBottomLeftRadius:5,borderTopLeftRadius:5,overflowY:"scroll",":: -webkit-scrollbar":{display:"none"}}),Kn=(o.a.div({width:"100%",height:"20%",position:"relative",display:"flex",justifyContent:"center",alignItems:"center"}),o.a.input({width:"90%",height:"40px",border:"none",borderBottom:"1px solid #999999",paddingLeft:"10px",paddingRight:"5px",outline:"none",background:"none"}),Object(x.b)((function(e){return{friends:e.mainReducer.friends}}),(function(e){return{closeDrawer:function(){e({type:"CLOSE_ADD_FRIEND_DRAWER"})}}}))((function(e){e.closeDrawer,e.friends;var t=qn(),n=Object(a.useState)(""),i=Object(U.a)(n,2),c=i[0],o=i[1],l=Object(a.useState)([]),u=Object(U.a)(l,2),s=u[0],d=u[1],f=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===(t=c.trim())){e.next=9;break}return n={headers:{Authorization:"Bearer ".concat(j())}},e.next=5,A.a.get("/users/search/".concat(t),n);case 5:a=e.sent,d(a.data),e.next=10;break;case 9:d([]);case 10:o("");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Xn,null,r.a.createElement(E.a,{className:t.root},r.a.createElement(Hn.a,{className:t.input,placeholder:"search user by email",onKeyDown:function(e){return 13==e.keyCode?f():null},value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement(Wn.a,{className:t.iconButton,"aria-label":"search",onClick:f},r.a.createElement(Vn.a,null))),s.map((function(e){return r.a.createElement(Jn,{key:e._id,friend:e})})))}))),$n=n(103),ea=n.n($n);function ta(){var e=Object(mt.a)(["\n    0% { width: 100% }\n    100% { width: 0% }\n"]);return ta=function(){return e},e}function na(){var e=Object(mt.a)(["\n 0% { width: 0%; opacity:0; }\n 50% { opacity: 1 }\n 100% { width: 100%  }\n"]);return na=function(){return e},e}var aa=Object(o.b)(na()),ra=Object(o.b)(ta()),ia=Object(f.a)({arrowBackIcon:{marginLeft:5,cursor:"pointer",flex:1,left:15,maxWidth:50,position:"absolute"}}),ca=o.a.div({flexDirection:"column",height:"100%",width:function(e){return e.isDrawerOpen?"100%":0},background:"#CCC9C9",position:"absolute",zIndex:3,borderBottomLeftRadius:5,borderTopLeftRadius:5,animationName:function(e){return e.isDrawerOpen?aa:ra},animationDuration:function(e){return e.isDrawerOpen?"1s":"0.5s"}}),oa=o.a.div({width:"100%",height:"10%",display:"flex",alignItems:"center",position:"relative"}),la=o.a.div({fontSize:20,fontWeight:600,textAlign:"center",flex:1}),ua=Object(x.b)((function(e){return{isNewChatDrawerOpen:e.drawerReducer.newChat.isDrawerOpen,isProfileDrawerOpen:e.drawerReducer.profile.isDrawerOpen,isAddFriendDrawerOpen:e.drawerReducer.addFriend.isDrawerOpen,isDrawerOpen:e.drawerReducer.isDrawerOpen,newChatDrawerPage:e.drawerReducer.newChat.page}}),(function(e){return{prevPage:function(){e({type:"PREV_PAGE_NEW_CHAT_DRAWER"})},closeNewChatDrawer:function(){e({type:"CLOSE_NEW_CHAT_DRAWER"})},closeProfileDrawer:function(){e({type:"CLOSE_PROFILE_DRAWER"})},closeAddFriendDrawer:function(){e({type:"CLOSE_ADD_FRIEND_DRAWER"})}}}))((function(e){var t=e.isNewChatDrawerOpen,n=e.isProfileDrawerOpen,a=e.isAddFriendDrawerOpen,i=e.newChatDrawerPage,c=e.isDrawerOpen,o=e.closeNewChatDrawer,l=e.closeProfileDrawer,u=e.closeAddFriendDrawer,s=e.prevPage,d=ia();return r.a.createElement(ca,{isDrawerOpen:c},c?r.a.createElement(oa,null,r.a.createElement(ea.a,{button:!0,onClick:function(){t?i<1?o():s():n?l():a&&u()},className:d.arrowBackIcon}),r.a.createElement(la,null,t?"New Chat":n?"Proflie":a?"Add Friend":void 0)):null,r.a.createElement("div",{style:{height:"90%"}},t?r.a.createElement(dn,null):n?r.a.createElement(Sn,null):a?r.a.createElement(Kn,null):void 0))})),sa=o.a.div({width:"100%",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}),da=Object(x.b)((function(e){return{currentUser:e.mainReducer.currentUser}}))((function(e){var t=e.users,n=e.currentUser;return r.a.createElement(sa,null,t.map((function(e){return e._id!==n._id?r.a.createElement("span",{key:e.id},e.name,", "):null})),r.a.createElement("span",{key:n.id},"You"))})),ma=o.a.div({height:60,width:"100%",background:"#EDEDED",borderTopRightRadius:5,display:"flex",boxShadow:"0px 7px 23px -13px rgba(0,0,0,0.46)",zIndex:1}),pa=o.a.img({width:40,height:40,borderRadius:"50%"}),fa=o.a.div({height:"100%",width:45,paddingLeft:10,paddingRight:2,display:"flex",alignItems:"center"}),ha=o.a.div({display:"flex",flexDirection:"column",justifyContent:"center",width:"calc( 100% - 70px )"}),ga=o.a.div({fontWeight:600}),Ea=(o.a.div({background:function(e){return e?"green":"red"},width:10,height:10,border:"1px solid black",borderRadius:"50%"}),o.a.div({display:"flex",alignItems:"center"}),o.a.div({marginLeft:5,fontSize:14,fontWeight:500}),o.a.div({fontWeight:600})),ba=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,temporaryPrivateChat:e.mainReducer.temporaryPrivateChat,currentUserId:e.mainReducer.currentUser._id}}),(function(e){return{}}))((function(e){var t=e.currentRoomChat,n=e.temporaryPrivateChat,i=e.currentUserId,c=Object(a.useState)(null),o=Object(U.a)(c,2),l=o[0],u=o[1];Object(a.useEffect)((function(){_.on("typing",(function(e){u(e)})),_.on("stopped_typing",(function(){u(null)}))}),[]);return r.a.createElement(ma,null,t||n?r.a.createElement(r.a.Fragment,null,r.a.createElement(fa,null,r.a.createElement(pa,{src:function(){if(n)return n.avatar?X+n.avatar:L.a;if(t.is_private_chat){var e=t.users.find((function(e){return e._id!==i}));return e.avatar?X+e.avatar:L.a}return t.avatar?X+t.avatar:J.a}()})),r.a.createElement(ha,null,r.a.createElement(ga,null,n?n.name:t.is_private_chat?t.users.find((function(e){return e._id!==i})).name:t.name),l?r.a.createElement(Ea,null,"".concat(l," is typing...")):t&&!t.is_private_chat?r.a.createElement(da,{users:t.users}):null)):null)})),va=o.a.div({width:"100%",height:F.isMobileOnly?"calc(100% - 60px)":"calc(100% - 60px - 60px)",background:"#D9D9D9",overflowY:"scroll",backgroundImage:"url(".concat(we.a,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover",boxShadow:"inset 0px 19px 18px -27px rgba(0,0,0,0.46)"}),wa=o.a.div({height:60,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",background:"#D9D9D9",borderBottomRightRadius:F.isMobileOnly?null:10}),Ra=o.a.input({fontSize:14,paddingLeft:10,paddingRight:5,width:"80%",height:40,borderRadius:30,outline:"none",border:"none"}),Oa=o.a.div({width:"10%"}),Ca=o.a.div({cursor:"pointer",display:function(e){return 0==e.display?"none":"flex"}}),ya=o.a.div({width:"10%",display:"flex",justifyContent:"center",alignItems:"center"}),xa=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,currentUser:e.mainReducer.currentUser,temporaryPrivateChat:e.mainReducer.temporaryPrivateChat}}),(function(e){return{chagneCurrentRoomChat:function(t){e(Q(t))},closeTemporaryPrivateChat:function(){e({type:"CLOSE_TEMPORARY_PRIVATE_CHAT"})}}}))((function(e){var t=e.currentUser,n=e.temporaryPrivateChat,i=e.chagneCurrentRoomChat,c=e.closeTemporaryPrivateChat,o=Object(a.useState)(""),l=Object(U.a)(o,2),u=l[0],s=l[1],d=function(){var e=Object(p.a)(m.a.mark((function e(){var a,r,i,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={Authorization:"Bearer ".concat(j())},r={currentUserId:t._id,selectedFriends:[n._id],isPrivateChat:!0,message:u},e.next=4,A.a.post("/room",r,{headers:a});case 4:if(201!=(i=e.sent).status){e.next=10;break}return c=i.data,e.abrupt("return",c);case 10:return e.abrupt("return",new Error(400));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===u.trim()){e.next=15;break}return e.prev=1,e.next=4,d();case 4:n=e.sent,_.emit("room_created",n.users,n._id),Ce(t,u,n.users),s(""),c(),i(n),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(va,null),r.a.createElement(wa,null,r.a.createElement(Oa,null),r.a.createElement(Ra,{onChange:function(e){s(e.target.value)},value:u,placeholder:"Type a message",onKeyDown:function(e){return 13==e.keyCode?f():null}}),r.a.createElement(ya,null,r.a.createElement(Ca,{display:u.length,onClick:f},r.a.createElement(be.a,null)))))})),Da=n(104),Aa=n.n(Da),ja=n(180),Ia=n.n(ja),ka=n(181),Na=n.n(ka),Fa=n(179),Sa=n.n(Fa),Ma=Object(f.a)({github:{width:"4.2vw",height:"4.2vw",padding:10},whatsapp:{width:"5vw",height:"5vw",padding:10,color:"green"}}),Ta=o.a.div({height:"90%",display:"flex",flexDirection:"column",justifyContent:"center"}),Pa=o.a.img({width:"6.5vw",height:"6.5vw"}),Ua=o.a.div({width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}),Wa=o.a.div({fontSize:"6vw",fontFamily:"Lobster"}),Ga=o.a.div({fontFamily:"Bitter",textAlign:"center",fontSize:"4vw",paddingTop:10}),za=o.a.a({color:"black"}),_a=o.a.div({display:"flex",justifyContent:"center",alignItems:"center"}),Za=o.a.p({fontWeight:500,fontSize:"2vw"}),Ba=o.a.div({marginTop:15}),La=o.a.div({display:"flex",textAling:"left",flexDirection:"column",alignItems:"center",fontFamily:"Barlow Condensed"}),Ya=o.a.hr({width:"70%"}),Ja=o.a.img({width:"6.5vw",height:"6.5vw"});function Ha(){var e=Ma();return r.a.createElement(Ta,null,r.a.createElement(Ua,null,r.a.createElement(Pa,{src:Aa.a}),r.a.createElement(Wa,null,"Chatty")),r.a.createElement(Ga,null,"Welcome to chatty"),r.a.createElement(La,null,r.a.createElement(Za,null,"Chatty is a Whatsapp-like chat. ",r.a.createElement("br",null),"I built it as side project just for fun. ",r.a.createElement("br",null),"Hope you will enjoy from the app.",r.a.createElement(Ba,null,r.a.createElement("div",null,r.a.createElement("span",null,"To add new friend press on "),r.a.createElement(Ne.a,null)),r.a.createElement("div",null,r.a.createElement("span",null,"To start new conversation press on "),r.a.createElement(Fe.a,null))))),r.a.createElement(Ya,null),r.a.createElement(_a,null,r.a.createElement(za,{href:"https://github.com/chenulfan",target:"_blank"},r.a.createElement(Ia.a,{className:e.github})),r.a.createElement(za,{href:"tel:0545697007"},r.a.createElement(Na.a,{className:e.whatsapp})),r.a.createElement(za,{href:"mailto:chenulfan@gmail.com"},r.a.createElement(Ja,{src:Sa.a}))))}var Qa,Va=function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!et.a.messaging.isSupported()){e.next=23;break}return n=tt(),e.prev=2,e.next=5,n.requestPermission();case 5:return console.log("have permission"),e.next=8,n.getToken();case 8:if(a=e.sent,console.log(a),r={Authorization:"Bearer ".concat(j())},t==a){e.next=14;break}return e.next=14,A.a.put("/user/fcmToken",{fcmToken:a},{headers:r});case 14:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(2),console.log("err ocoured"),console.log(e.t0),i={Authorization:"Bearer ".concat(j())},A.a.put("/user/fcmToken",{fcmToken:""},{headers:i});case 22:n.onMessage((function(e){var t=e.notification;t.body,t.title;console.log("Message received. ",e)}));case 23:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}(),qa=o.a.div({height:"100%",width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"}),Xa=o.a.div({background:"#D9D9D9",width:"92%",height:"96%",borderRadius:10,boxShadow:"4px 7px 25px -5px rgba(0,0,0,0.75)",display:"flex"}),Ka=(o.a.div({width:"100%",height:"50px",display:"flex",flexDirection:"row"}),o.a.div({minWidth:280,width:"32%",height:"100%",position:"relative"})),$a=o.a.div({height:50,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:"#f1ededba"}),er=o.a.input({fontSize:12,paddingLeft:10,paddingRight:5,width:"90%",height:30,borderRadius:20,outline:"none",border:"none",color:"#999","::placeholder":{color:"#999"}}),tr=o.a.div({width:"68%",height:"100%"}),nr=Object(x.b)((function(e){return{currentUser:e.mainReducer.currentUser,isAuth:e.mainReducer.isAuth,currentRoomChat:e.mainReducer.currentRoomChat,temporaryPrivateChat:e.mainReducer.temporaryPrivateChat}}),(function(e){return{getRooms:function(){e(H())},addMessage:function(t,n){e(V(t,n))}}}))((function(e){var t=e.currentUser,n=e.currentRoomChat,i=e.temporaryPrivateChat,c=e.addMessage,o=e.isAuth,l=e.getRooms,u=Object(a.useState)(""),s=Object(U.a)(u,2),d=s[0],f=s[1];return Object(a.useEffect)((function(){console.log(t),Va(t.fcmToken)}),[]),Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){_.on("send_message",function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_.emit("join_all_rooms",t.rooms)}),[o]),r.a.createElement(qa,null,r.a.createElement(Xa,null,r.a.createElement(Ka,null,r.a.createElement(ua,null),r.a.createElement(dt,null),r.a.createElement($a,null,r.a.createElement(er,{placeholder:"Search for chat",value:d,onChange:function(e){return f(e.target.value)}})),r.a.createElement(se,{filter:d})),r.a.createElement(tr,null,r.a.createElement(ba,null),i?r.a.createElement(xa,null):n?r.a.createElement(ke,null):r.a.createElement(Ha,null))))})),ar=n(317),rr=n(328),ir=n(329),cr=n(330),or=n(338),lr=n(331),ur=n(332),sr=Object(f.a)({list:{height:"250px",width:"250px"},userAvatar:{display:"flex",flexDirection:"column",justifyContent:"center",alignContent:"center"},userName:{textAlign:"center"},logoutBtn:{textAlign:"start"}}),dr=o.a.img({width:125,height:125,borderRadius:"50%"}),mr=Object(x.b)((function(e){return{friends:e.mainReducer.friends,currentUser:e.mainReducer.currentUser,currentUserAvatar:e.mainReducer.currentUser.avatar,isNewChatDrawerOpen:e.drawerReducer.newChat.isDrawerOpen,newChatDrawerPage:e.drawerReducer.newChat.page,isProfileDrawerOpen:e.drawerReducer.profile.isDrawerOpen,isAddFriendDrawerOpen:e.drawerReducer.addFriend.isDrawerOpen,isDrawerOpen:e.drawerReducer.isDrawerOpen}}),(function(e){return{logOut:function(){e(k())},prevPage:function(){e({type:"PREV_PAGE_NEW_CHAT_DRAWER"})},openNewChatDrawer:function(t){e(Ke(t))},openProfileDrawer:function(){e({type:"OPEN_PROFILE_DRAWER"})},openAddFriendDrawer:function(){e({type:"OPEN_ADD_FRIEND_DRAWER"})},closeNewChatDrawer:function(){e({type:"CLOSE_NEW_CHAT_DRAWER"})},closeProfileDrawer:function(){e({type:"CLOSE_PROFILE_DRAWER"})},closeAddFriendDrawer:function(){e({type:"CLOSE_ADD_FRIEND_DRAWER"})}}}))((function(e){var t=e.currentUser,n=e.isDrawerOpen,i=e.openAddFriendDrawer,c=e.openNewChatDrawer,o=e.openProfileDrawer,l=e.friends,u=e.logOut,d=e.isNewChatDrawerOpen,f=e.isProfileDrawerOpen,h=e.isAddFriendDrawerOpen,g=e.prevPage,E=e.currentUserAvatar,b=e.closeProfileDrawer,v=e.closeNewChatDrawer,w=e.closeAddFriendDrawer,R=e.newChatDrawerPage,O=Object(s.f)(),C=sr(),y=t&&t.name?t.name:null,x=Object(a.useState)(!1),D=Object(U.a)(x,2),A=D[0],j=D[1],I=function(){j(!A)},k=function(e){O.push("/".concat(e))},N=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:u(),window.location.pathname="/login";case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,n?r.a.createElement("div",{onClick:function(){d?R<1?v():g():f?b():h&&w()}},r.a.createElement(ea.a,null)):r.a.createElement("div",{onClick:I},r.a.createElement(ur.a,null)),r.a.createElement(or.a,{anchor:"left",open:A,onClose:I,style:{height:"200px"}},r.a.createElement("div",{role:"presentation",onClick:I,className:C.list},r.a.createElement(ar.a,null,r.a.createElement(Z.a,{button:!0,className:C.userAvatar},r.a.createElement("div",null,r.a.createElement(dr,{src:E?X+E:L.a,onClick:o}))),r.a.createElement(Z.a,null,r.a.createElement(rr.a,{primary:"Hello, "+y,className:C.userName})),r.a.createElement(Z.a,{button:!0,onClick:N},r.a.createElement(rr.a,{primary:"logout",className:C.logoutBtn}))),r.a.createElement(ir.a,null),r.a.createElement(ar.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{button:!0,onClick:function(){return c(l)}},r.a.createElement(cr.a,null,r.a.createElement(Fe.a,null)),r.a.createElement(rr.a,{primary:"New Chat"})),r.a.createElement(Z.a,{button:!0,onClick:i},r.a.createElement(cr.a,null,r.a.createElement(Ne.a,null)),r.a.createElement(rr.a,{primary:"Add Friend"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Z.a,{button:!0,onClick:function(){return k("login")}},r.a.createElement(cr.a,null,r.a.createElement(lr.a,null)),r.a.createElement(rr.a,{primary:"Login"})),r.a.createElement(Z.a,{button:!0,onClick:function(){return k("register")}},r.a.createElement(cr.a,null,r.a.createElement(lr.a,null)),r.a.createElement(rr.a,{primary:"register"})))))))})),pr=n(333),fr=n(334),hr=o.a.div({width:"100%",height:60,background:"#E3E3E3",display:"flex",position:"fixed",top:0,zIndex:1}),gr=o.a.div(Object(mn.a)({marginLeft:5,width:"10%",display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},"width","10%")),Er=o.a.div({marginRight:10,display:"flex",justifyContent:"center",alignItems:"center"}),br=Object(o.a)(Er)({height:"100%",width:"10%",marginRight:0}),vr=o.a.div({flex:1,textAlign:"center",fontWeight:400,fontSize:40,fontFamily:"Lobster"}),wr=o.a.div((Qa={height:"100%",width:"45px",paddingLeft:"2px",paddingRight:"2px",display:"flex",alignItems:"center"},Object(mn.a)(Qa,"height","100%"),Object(mn.a)(Qa,"width","10%"),Qa)),Rr=o.a.img({width:40,height:40,borderRadius:"50%"}),Or=o.a.div({display:"flex",flexDirection:"column",justifyContent:"center",height:"100%",width:"70%",marginLeft:10}),Cr=o.a.div({fontWeight:600}),yr=o.a.div({fontWeight:600}),xr=Object(x.b)((function(e){return{currentRoomChat:e.mainReducer.currentRoomChat,currentUserId:e.mainReducer.currentUser._id,temporaryPrivateChat:e.mainReducer.temporaryPrivateChat}}),(function(e){return{chagneCurrentRoomChat:function(){e(Q())}}}))((function(e){var t=e.currentRoomChat,n=e.chagneCurrentRoomChat,i=e.currentUserId,c=(e.temporaryPrivateChat,Object(a.useState)(null)),o=Object(U.a)(c,2),l=o[0],u=o[1];Object(a.useEffect)((function(){_.on("typing",(function(e){u(e)})),_.on("stopped_typing",(function(){u(null)}))}),[]);return r.a.createElement(hr,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(gr,null,r.a.createElement("div",{onClick:function(){return n({})}},r.a.createElement(pr.a,null))),r.a.createElement(wr,null,r.a.createElement(Rr,{src:function(){if(t.is_private_chat){var e=t.users.find((function(e){return e._id!==i}));return e.avatar?X+e.avatar:L.a}return t.avatar?X+t.avatar:J.a}()})),r.a.createElement(Or,null,r.a.createElement(Cr,null,t.is_private_chat?t.users.find((function(e){return e._id!==i})).name:t.name),l?r.a.createElement(yr,null,"".concat(l," is typing...")):t&&!t.is_private_chat?r.a.createElement(da,{users:t.users}):null),r.a.createElement(br,null,r.a.createElement(fr.a,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement(gr,null,r.a.createElement(mr,null)),r.a.createElement(vr,null,"Chatty"),r.a.createElement(Er,null,r.a.createElement(Ve,null))))})),Dr=Object(o.b)({"0%":{opacity:0},"100%":{opacity:1}}),Ar=o.a.div({paddingTop:200,opacity:0,display:"flex",justifyContent:"center",animationName:function(){return Dr},animationDuration:"2.5s",animationIterationCount:"infinite"}),jr=o.a.div({background:"white",height:"100%",width:"100%"});function Ir(){return r.a.createElement(jr,null,r.a.createElement(Ar,null,r.a.createElement("img",{src:Aa.a})))}var kr=o.a.div({height:"100%",width:"100%",display:"flex",flexDirection:"column"}),Nr=o.a.div({width:"100%",marginTop:60,height:"calc(100% - 60px)",background:"white"}),Fr=o.a.div({height:50,width:"100%",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",background:"#f1ededba"}),Sr=o.a.input({fontSize:12,paddingLeft:10,paddingRight:5,width:"90%",height:30,borderRadius:20,outline:"none",border:"none",color:"#999","::placeholder":{color:"#999"}}),Mr=Object(x.b)((function(e){return{currentUser:e.mainReducer.currentUser,isAuth:e.mainReducer.isAuth,isNewChatDrawerOpen:e.drawerReducer.newChat.isDrawerOpen,isProfileDrawerOpen:e.drawerReducer.profile.isDrawerOpen,isAddFriendDrawerOpen:e.drawerReducer.addFriend.isDrawerOpen,isDrawerOpen:e.drawerReducer.isDrawerOpen,currentRoomChat:e.mainReducer.currentRoomChat,temporaryPrivateChat:e.mainReducer.temporaryPrivateChat,loading:e.mainReducer.loading}}),(function(e){return{addMessage:function(t,n){e(V(t,n))},getRooms:function(){e(H())}}}))((function(e){var t=e.isProfileDrawerOpen,n=e.isNewChatDrawerOpen,i=e.isDrawerOpen,c=e.isAddFriendDrawerOpen,o=e.loading,l=e.isAuth,u=e.currentUser,s=e.currentRoomChat,d=e.addMessage,f=e.temporaryPrivateChat,h=e.getRooms;Object(a.useEffect)((function(){Va()}),[]),Object(a.useEffect)((function(){h()}),[]),Object(a.useEffect)((function(){window.scrollTo(0,1)}),[]);var g=Object(a.useState)(""),E=Object(U.a)(g,2),b=E[0],v=E[1];Object(a.useEffect)((function(){_.on("send_message",function(){var e=Object(p.a)(m.a.mark((function e(t,n){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(t,n);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),_.emit("join_all_rooms",u.rooms)}),[l]);return o?r.a.createElement(Ir,null):r.a.createElement(kr,null,r.a.createElement(xr,null),r.a.createElement(Nr,null,i?c?r.a.createElement(Kn,null):t?r.a.createElement(Sn,null):n?r.a.createElement(dn,null):void 0:f?r.a.createElement(xa,null):s?r.a.createElement(ke,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(Fr,null,r.a.createElement(Sr,{placeholder:"Search for chat",value:b,onChange:function(e){return v(e.target.value)}})),r.a.createElement(se,{filter:b}))))})),Tr=n(10),Pr=n(182),Ur=new(n.n(Pr).a);Ur.is().min(8).is().max(16).has().uppercase().has().lowercase().has().digits().has().not().spaces();var Wr=Ur,Gr=function(e){var t={};if(e.name?e.name.length>15&&(t.name="Must be 15 characters or less"):t.name="Full name required",e.password){if(!Wr.validate(e.password)){var n=function(e){var t=Wr.validate(e,{list:!0}),n="Must include:";return t.forEach((function(e){n+="min"==e?" ".concat(8," letters,"):"max"==e?" ".concat(16," letters,"):" ".concat(e,",")})),n.slice(0,-1)}(e.password);t.password=n}}else t.password="Password required";return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email required",t},zr=Object(f.a)((function(e){return{root:{height:"100%",display:"flex",justifyContent:"center",alignContent:"center"},image:{backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:"54px 26px",display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#357951"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),background:"#357951","&:hover":{backgroundColor:"#34C16C"}},input:{"&$focused":{borderColoer:"#34C16C"}}}})),_r=function(){var e=zr(),t=Object(S.b)().enqueueSnackbar,n=Object(M.a)({initialValues:{name:"",password:"",email:""},validate:function(e){return Gr(e)},onSubmit:function(){return a()}}),a=function(){var e=Object(p.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/users",Object(Tr.a)({},n.values));case 3:a=e.sent,console.log(a),201===a.status&&(localStorage.setItem("token",a.data.token),I({currentUser:a.data}),window.location.pathname="/"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),t(e.t0.response.data,{variant:"error"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(h.a,{container:!0,component:"main",className:e.root},r.a.createElement(g.a,null),r.a.createElement(h.a,{item:!0,xs:12,sm:8,md:4,component:E.a,elevation:6,square:!0,style:{height:F.isMobileOnly?"100%":null}},r.a.createElement("div",{className:e.paper},r.a.createElement(b.a,{className:e.avatar},r.a.createElement(y.a,null)),r.a.createElement(v.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement("form",{onSubmit:n.handleSubmit},r.a.createElement(w.a,{id:"name",name:"name",type:"text",variant:"outlined",margin:"normal",required:!0,fullWidth:!0,autoFocus:!0,label:n.touched.name&&n.errors.name?n.errors.name:"Full name",error:!(!n.touched.name||!n.errors.name),autoComplete:"fullFame",onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.name}),r.a.createElement(w.a,{id:"email",name:"email",type:"email",label:n.touched.email&&n.errors.email?n.errors.email:"Email",error:!(!n.touched.email||!n.errors.email),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.email}),r.a.createElement(w.a,{id:"password",name:"password",type:"password",label:n.touched.password&&n.errors.password?n.errors.password:"password",error:!(!n.touched.password||!n.errors.password),variant:"outlined",margin:"normal",required:!0,fullWidth:!0,onChange:n.handleChange,onBlur:n.handleBlur,value:n.values.password}),r.a.createElement(R.a,{fullWidth:!0,variant:"contained",color:"primary",className:e.submit,type:"submit"},"Sign Up"),r.a.createElement(h.a,{container:!0,justify:"flex-end"},r.a.createElement(u.b,{to:"/login",style:{color:"rgb(53, 121, 81)"}},"Already have an account? Sign in"))))))},Zr=(n(278),Object(x.b)((function(e){return{isAuth:e.mainReducer.isAuth}}),(function(e){return{isAuthenticated:function(){e(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,i,c,o,l,u,s,d,p,f,h,g;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j(),a={headers:{Authorization:"Bearer ".concat(n)}},e.prev=2,e.next=5,A.a.get("/auth",a);case 5:r=e.sent,i=r.data,c=i._id,o=i.name,l=i.email,u=i.avatar,s=i.token,d=i.fcmToken,p=i.rooms,f=i.friends,h=i.friendRequests,g=i.pendingRequests,200===r.status?t({type:"AUTHENTICATED_USER",currentUser:{_id:c,avatar:u,name:o,email:l,token:s,rooms:p,fcmToken:d},friends:f,friendRequests:h,pendingRequests:g}):t({type:"NOT_AUTHENTICATED_USER"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),t({type:"NOT_AUTHENTICATED_USER"});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}())},openLoader:function(){e({type:"LOADING"})}}}))((function(e){var t=e.isAuth,n=e.isAuthenticated,i=e.openLoader;return Object(a.useEffect)((function(){n()}),[t]),Object(a.useEffect)((function(){i()}),[]),r.a.createElement(l,null,r.a.createElement(S.a,{maxSnack:3},r.a.createElement(u.a,null,t?r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return r.a.createElement(s.a,{to:"/chat"})}}),r.a.createElement(s.b,{path:"/chat",component:F.isMobileOnly?Mr:nr})):r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{exact:!0,path:"/",component:P}),r.a.createElement(s.b,{exact:!0,path:"/login",component:P}),r.a.createElement(s.b,{exact:!0,path:"/register",component:_r})))))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Br=n(71),Lr=n(183),Yr=n(42),Jr={loading:!1,currentUser:null,isAuth:null,isLoggedIn:!1,rooms:[],currentRoomChat:null,temporaryPrivateChat:null,friends:[],pendingRequests:[],friendRequests:[],messageTextInputVal:""},Hr=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jr,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"LOGIN_USER":return Object(Tr.a)({},t,{currentUser:n.currentUser,friends:n.friends,friendRequests:n.friendRequests,pendingRequests:n.pendingRequests,isAuth:!0,isLoggedIn:!0});case"LOGOUT_USER":return Object(Tr.a)({},t,{currentUser:null,isAuth:null,isLoggedIn:!1,currentRoomChat:{}});case"AUTHENTICATED_USER":return Object(Tr.a)({},t,{currentUser:n.currentUser,friends:n.friends,friendRequests:n.friendRequests,pendingRequests:n.pendingRequests,isAuth:!0,isLoggedIn:!0});case"NOT_AUTHENTICATED_USER":return Object(Tr.a)({},t,{currentUser:null,isAuth:null});case"CHANGE_AVATAR":return Object(Tr.a)({},t,{currentUser:Object(Tr.a)({},t.currentUser,{avatar:n.imgUrl})});case"GET_ROOMS":return Object(Tr.a)({},t,{loading:!1,rooms:n.rooms.sort((function(e,t){var n=e.last_message_sent_time?e.last_message_sent_time:e.created_time_in_number;return(t.last_message_sent_time?t.last_message_sent_time:t.created_time_in_number)-n}))});case"CURRENT_ROOM_CHAT":return Object(Tr.a)({},t,{currentRoomChat:n.room,temporaryPrivateChat:null});case"ADD_MESSAGE":var a,r=t.rooms.filter((function(e){if(e._id!=n.roomId)return e;a=Object(Tr.a)({},e,{messages:[].concat(Object(Yr.a)(e.messages),[n.message])})}));return(null===(e=t.currentRoomChat)||void 0===e?void 0:e._id)===n.roomId?Object(Tr.a)({},t,{rooms:[a].concat(Object(Yr.a)(r)),currentRoomChat:Object(Tr.a)({},t.currentRoomChat,{messages:[].concat(Object(Yr.a)(t.currentRoomChat.messages),[n.message])})}):Object(Tr.a)({},t,{rooms:[a].concat(Object(Yr.a)(r))});case"ADD_PENDING_REQUEST":return Object(Tr.a)({},t,{pendingRequests:[].concat(Object(Yr.a)(t.pendingRequests),[n.friend])});case"REMOVE_PENDING_REQUEST_AND_UPDATE_FRIENDS":return Object(Tr.a)({},t,{pendingRequests:t.pendingRequests.filter((function(e){return e._id!==n.friend._id})),friends:[].concat(Object(Yr.a)(t.friends),[n.friend])});case"REMOVE_PENDING_REQUEST":return Object(Tr.a)({},t,{pendingRequests:t.pendingRequests.filter((function(e){return e._id!==n.friendId}))});case"ADD_FRIEND_REQUEST":return Object(Tr.a)({},t,{friendRequests:[].concat(Object(Yr.a)(t.friendRequests),[n.friend])});case"REMOVE_FRIEND_REQUEST_AND_UPDATE_FRIENDS":return Object(Tr.a)({},t,{friendRequests:t.friendRequests.filter((function(e){return e._id!==n.friend._id})),friends:[].concat(Object(Yr.a)(t.friends),[n.friend])});case"REMOVE_FRIEND_REQUEST":return Object(Tr.a)({},t,{friendRequests:t.friendRequests.filter((function(e){return e._id!==n.friendId}))});case"LOADING":return Object(Tr.a)({},t,{loading:!0});case"OPEN_TEMPORARY_PRIVATE_CHAT":return Object(Tr.a)({},t,{temporaryPrivateChat:n.receiver});case"CLOSE_TEMPORARY_PRIVATE_CHAT":return Object(Tr.a)({},t,{temporaryPrivateChat:null});case"MESSAGE_TEXT_INPUT_VALUE":return Object(Tr.a)({},t,{messageTextInputVal:n.inputVal});case"CHANGE_NAME":return Object(Tr.a)({},t,{currentUser:Object(Tr.a)({},t.currentUser,{name:n.name})});default:return t}},Qr={isDrawerOpen:!1,newChat:{isDrawerOpen:!1,page:0,allFriends:[],selectedFriends:[],groupName:"",avatar:""},addFriend:{isDrawerOpen:!1},profile:{isDrawerOpen:!1}},Vr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_NEW_CHAT_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!0,newChat:Object(Tr.a)({},e.newChat,{isDrawerOpen:!0,page:1,allFriends:t.friends})});case"CLOSE_NEW_CHAT_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!1,newChat:Object(Tr.a)({},e.newChat,{isDrawerOpen:!1,selectedFriends:[],friends:[],page:0})});case"SELECT_FRIEND":return Object(Tr.a)({},e,{newChat:Object(Tr.a)({},e.newChat,{selectedFriends:[].concat(Object(Yr.a)(e.newChat.selectedFriends),[t.friend]),allFriends:e.newChat.allFriends.filter((function(e){return e._id!==t.friend._id}))})});case"UNSELECT_FRIEND":return Object(Tr.a)({},e,{newChat:Object(Tr.a)({},e.newChat,{selectedFriends:e.newChat.selectedFriends.filter((function(e){return e._id!==t.friend._id})),allFriends:[].concat(Object(Yr.a)(e.newChat.allFriends),[t.friend]).sort((function(e,t){return e.name.localeCompare(t.name)}))})});case"NEXT_PAGE_NEW_CHAT_DRAWER":return Object(Tr.a)({},e,{newChat:Object(Tr.a)({},e.newChat,{page:e.newChat.page+1})});case"PREV_PAGE_NEW_CHAT_DRAWER":return Object(Tr.a)({},e,{newChat:Object(Tr.a)({},e.newChat,{page:e.newChat.page-1})});case"GROUP_NAME_INPUT_HANDLER":return Object(Tr.a)({},e,{newChat:Object(Tr.a)({},e.newChat,{groupName:t.inputVal})});case"OPEN_PROFILE_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!0,profile:{isDrawerOpen:!0}});case"CLOSE_PROFILE_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!1,profile:{isDrawerOpen:!1}});case"OPEN_ADD_FRIEND_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!0,addFriend:{isDrawerOpen:!0}});case"CLOSE_ADD_FRIEND_DRAWER":return Object(Tr.a)({},e,{isDrawerOpen:!1,addFriend:{isDrawerOpen:!1}});default:return e}};et.a.messaging.isSupported()&&"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)}));var qr=Object(Br.c)({mainReducer:Hr,drawerReducer:Vr}),Xr=Object(Br.d)(qr,{},Object(Br.a)(Lr.a));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x.a,{store:Xr},r.a.createElement(Zr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,n){e.exports=n.p+"static/media/groupAvatar.ad3cfc48.png"}},[[196,1,2]]]);
//# sourceMappingURL=main.58b1ddb4.chunk.js.map